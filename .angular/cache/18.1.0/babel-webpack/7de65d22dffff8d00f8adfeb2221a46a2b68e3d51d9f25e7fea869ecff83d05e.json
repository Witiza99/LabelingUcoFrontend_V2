{"ast":null,"code":"/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TextDecoder from './text-decoder.js';\nconst TAG_HEADER_SIZE = 5;\nexport default {\n  decode,\n  TAG_HEADER_SIZE\n};\nfunction decode(encoding, tagValue) {\n  const Decoder = TextDecoder.get();\n  if (typeof Decoder !== 'undefined' && encoding !== undefined) {\n    try {\n      return new Decoder(encoding).decode(tagValue instanceof DataView ? tagValue.buffer : Uint8Array.from(tagValue));\n    } catch (error) {\n      // Pass through and fall back to ASCII decoding.\n    }\n  }\n  const stringValue = tagValue.map(charCode => String.fromCharCode(charCode)).join('');\n  return decodeAsciiValue(stringValue);\n}\nfunction decodeAsciiValue(asciiValue) {\n  try {\n    return decodeURIComponent(escape(asciiValue));\n  } catch (error) {\n    return asciiValue;\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}