{"ast":null,"code":"/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n// Specification:\n// https://aomediacodec.github.io/av1-avif\n\nimport { parseBox, findOffsets } from './image-header-iso-bmff.js';\nexport default {\n  isAvifFile,\n  findAvifOffsets\n};\n\n/**\n * Checks if the provided data view represents an AVIF file.\n *\n * @param {DataView} dataView - The data view to check.\n * @returns {boolean} True if the data view represents an AVIF file, false otherwise.\n */\nfunction isAvifFile(dataView) {\n  if (!dataView) {\n    return false;\n  }\n  try {\n    const headerBox = parseBox(dataView, 0);\n    return headerBox && headerBox.majorBrand === 'avif';\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Finds the offsets of an AVIF file in the provided data view.\n *\n * @param {DataView} dataView - The data view to find offsets in.\n * @returns {Object} An object containing the offsets of the TIFF header, XMP chunks, ICC chunks, and a boolean indicating if any of these exist.\n */\nfunction findAvifOffsets(dataView) {\n  return findOffsets(dataView);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}