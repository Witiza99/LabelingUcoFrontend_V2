import './polyfills.server.mjs';
import{$ as Vl,A as L,Aa as $l,B as N,Ba as Jl,C as Kr,D as Ki,E as $e,Ea as Ql,F as ce,G as Ol,H as z,I as Do,J as Ml,K as Nl,Ka as ko,L as D,M as F,N as pt,O as $i,P as Ji,Q as fe,R as B,S as Z,T as Rl,U as Ul,V as Bl,W as Ll,X as Qi,Y as V,Z as Gl,_ as jl,a as xe,aa as Nt,b as Xr,ba as Rt,c as Xe,ca as Ut,d as Al,da as Bt,e as Tl,ea as Hl,f as Fl,fa as en,g as Dl,h as Pl,ha as zl,i as ge,j as ye,k as kt,l as ke,m as Ye,ma as Zl,n as ir,o as Ot,oa as Wl,p as me,pa as tn,q as Ke,qa as Lt,r as be,ra as Po,s as Yr,t as re,ta as ql,u as ie,ua as rn,v as nr,va as gt,w as Mt,wa as sr,x as H,xa as Xl,y as or,ya as Yl,z as kl,za as Kl}from"./chunk-OOEVK5LW.mjs";import{a as Ce,b as Le,c as Ge,e as E,g as Ag,h as U}from"./chunk-5XUXGTUW.mjs";var oi=E((XI,Lo)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Lo.exports={nextTick:cm}:Lo.exports=process;function cm(e,t,r,i){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,o,s;switch(n){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,i)});default:for(o=new Array(n-1),s=0;s<o.length;)o[s++]=arguments[s];return process.nextTick(function(){e.apply(null,o)})}}});var Tu=E((YI,Au)=>{"use strict";var fm={}.toString;Au.exports=Array.isArray||function(e){return fm.call(e)=="[object Array]"}});var Go=E((KI,Fu)=>{"use strict";Fu.exports=Ge("stream")});var hn=E((jo,Pu)=>{"use strict";var dn=Ge("buffer"),Je=dn.Buffer;function Du(e,t){for(var r in e)t[r]=e[r]}Je.from&&Je.alloc&&Je.allocUnsafe&&Je.allocUnsafeSlow?Pu.exports=dn:(Du(dn,jo),jo.Buffer=fr);function fr(e,t,r){return Je(e,t,r)}Du(Je,fr);fr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Je(e,t,r)};fr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=Je(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};fr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Je(e)};fr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return dn.SlowBuffer(e)}});var dr=E(ae=>{"use strict";function dm(e){return Array.isArray?Array.isArray(e):pn(e)==="[object Array]"}ae.isArray=dm;function hm(e){return typeof e=="boolean"}ae.isBoolean=hm;function pm(e){return e===null}ae.isNull=pm;function gm(e){return e==null}ae.isNullOrUndefined=gm;function mm(e){return typeof e=="number"}ae.isNumber=mm;function _m(e){return typeof e=="string"}ae.isString=_m;function vm(e){return typeof e=="symbol"}ae.isSymbol=vm;function xm(e){return e===void 0}ae.isUndefined=xm;function ym(e){return pn(e)==="[object RegExp]"}ae.isRegExp=ym;function bm(e){return typeof e=="object"&&e!==null}ae.isObject=bm;function Sm(e){return pn(e)==="[object Date]"}ae.isDate=Sm;function Em(e){return pn(e)==="[object Error]"||e instanceof Error}ae.isError=Em;function Im(e){return typeof e=="function"}ae.isFunction=Im;function Cm(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}ae.isPrimitive=Cm;ae.isBuffer=Ge("buffer").Buffer.isBuffer;function pn(e){return Object.prototype.toString.call(e)}});var ku=E((JI,Vo)=>{"use strict";typeof Object.create=="function"?Vo.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vo.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var hr=E((QI,zo)=>{"use strict";try{if(Ho=Ge("util"),typeof Ho.inherits!="function")throw"";zo.exports=Ho.inherits}catch{zo.exports=ku()}var Ho});var Mu=E((eC,Zo)=>{"use strict";function wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ou=hn().Buffer,si=Ge("util");function Am(e,t,r){e.copy(t,r)}Zo.exports=function(){function e(){wm(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},e.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},e.prototype.concat=function(r){if(this.length===0)return Ou.alloc(0);for(var i=Ou.allocUnsafe(r>>>0),n=this.head,o=0;n;)Am(n.data,i,o),o+=n.data.length,n=n.next;return i},e}();si&&si.inspect&&si.inspect.custom&&(Zo.exports.prototype[si.inspect.custom]=function(){var e=si.inspect({length:this.length});return this.constructor.name+" "+e})});var Wo=E((tC,Nu)=>{"use strict";var gn=oi();function Tm(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,gn.nextTick(mn,this,e)):gn.nextTick(mn,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,gn.nextTick(mn,r,o)):gn.nextTick(mn,r,o):t&&t(o)}),this)}function Fm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mn(e,t){e.emit("error",t)}Nu.exports={destroy:Tm,undestroy:Fm}});var Uu=E((rC,Ru)=>{"use strict";Ru.exports=Ge("util").deprecate});var Xo=E((iC,Zu)=>{"use strict";var Gt=oi();Zu.exports=Q;function Lu(e){var t=this;this.next=null,this.entry=null,this.finish=function(){qm(t,e)}}var Dm=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Gt.nextTick,pr;Q.WritableState=li;var Gu=Object.create(dr());Gu.inherits=hr();var Pm={deprecate:Uu()},ju=Go(),vn=hn().Buffer,km=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Om(e){return vn.from(e)}function Mm(e){return vn.isBuffer(e)||e instanceof km}var Vu=Wo();Gu.inherits(Q,ju);function Nm(){}function li(e,t){pr=pr||jt(),e=e||{};var r=t instanceof pr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=e.writableHighWaterMark,o=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Vm(t,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Lu(this)}li.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(li.prototype,"buffer",{get:Pm.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _n;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_n=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(e){return _n.call(this,e)?!0:this!==Q?!1:e&&e._writableState instanceof li}})):_n=function(e){return e instanceof this};function Q(e){if(pr=pr||jt(),!_n.call(Q,this)&&!(this instanceof pr))return new Q(e);this._writableState=new li(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),ju.call(this)}Q.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Rm(e,t){var r=new Error("write after end");e.emit("error",r),Gt.nextTick(t,r)}function Um(e,t,r,i){var n=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Gt.nextTick(i,o),n=!1),n}Q.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=!i.objectMode&&Mm(e);return o&&!vn.isBuffer(e)&&(e=Om(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=Nm),i.ended?Rm(this,r):(o||Um(this,i,e,r))&&(i.pendingcb++,n=Lm(this,i,o,e,t,r)),n};Q.prototype.cork=function(){var e=this._writableState;e.corked++};Q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Hu(this,e))};Q.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Bm(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=vn.from(t,r)),t}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Lm(e,t,r,i,n,o){if(!r){var s=Bm(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else qo(e,t,!1,a,i,n,o);return c}function qo(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function Gm(e,t,r,i,n){--t.pendingcb,r?(Gt.nextTick(n,i),Gt.nextTick(ai,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),ai(e,t))}function jm(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Vm(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(jm(r),t)Gm(e,r,i,t,n);else{var o=zu(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Hu(e,r),i?Dm(Bu,e,r,o,n):Bu(e,r,o,n)}}function Bu(e,t,r,i){r||Hm(e,t),t.pendingcb--,i(),ai(e,t)}function Hm(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Hu(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)n[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;n.allBuffers=a,qo(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Lu(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,h=t.objectMode?1:c.length;if(qo(e,t,!1,h,c,l,u),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Q.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};Q.prototype._writev=null;Q.prototype.end=function(e,t,r){var i=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||Wm(this,i,r)};function zu(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function zm(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ai(e,t)})}function Zm(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,Gt.nextTick(zm,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function ai(e,t){var r=zu(t);return r&&(Zm(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Wm(e,t,r){t.ending=!0,ai(e,t),r&&(t.finished?Gt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function qm(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Q.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Q.prototype.destroy=Vu.destroy;Q.prototype._undestroy=Vu.undestroy;Q.prototype._destroy=function(e,t){this.end(),t(e)}});var jt=E((nC,Yu)=>{"use strict";var Wu=oi(),Xm=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Yu.exports=Qe;var qu=Object.create(dr());qu.inherits=hr();var Xu=$o(),Ko=Xo();qu.inherits(Qe,Xu);for(Yo=Xm(Ko.prototype),xn=0;xn<Yo.length;xn++)yn=Yo[xn],Qe.prototype[yn]||(Qe.prototype[yn]=Ko.prototype[yn]);var Yo,yn,xn;function Qe(e){if(!(this instanceof Qe))return new Qe(e);Xu.call(this,e),Ko.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ym)}Object.defineProperty(Qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ym(){this.allowHalfOpen||this._writableState.ended||Wu.nextTick(Km,this)}function Km(e){e.end()}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Qe.prototype._destroy=function(e,t){this.push(null),this.end(),Wu.nextTick(t,e)}});var Ju=E((Jo,$u)=>{"use strict";var bn=Ge("buffer"),et=bn.Buffer;function Ku(e,t){for(var r in e)t[r]=e[r]}et.from&&et.alloc&&et.allocUnsafe&&et.allocUnsafeSlow?$u.exports=bn:(Ku(bn,Jo),Jo.Buffer=gr);function gr(e,t,r){return et(e,t,r)}Ku(et,gr);gr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return et(e,t,r)};gr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=et(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};gr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return et(e)};gr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return bn.SlowBuffer(e)}});var ts=E(ec=>{"use strict";var es=Ju().Buffer,Qu=es.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $m(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Jm(e){var t=$m(e);if(typeof t!="string"&&(es.isEncoding===Qu||!Qu(e)))throw new Error("Unknown encoding: "+e);return t||e}ec.StringDecoder=ui;function ui(e){this.encoding=Jm(e);var t;switch(this.encoding){case"utf16le":this.text=n0,this.end=o0,t=4;break;case"utf8":this.fillLast=t0,t=4;break;case"base64":this.text=s0,this.end=a0,t=3;break;default:this.write=l0,this.end=u0;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=es.allocUnsafe(t)}ui.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ui.prototype.end=i0;ui.prototype.text=r0;ui.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Qo(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Qm(e,t,r){var i=t.length-1;if(i<r)return 0;var n=Qo(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||n===-2?0:(n=Qo(t[i]),n>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||n===-2?0:(n=Qo(t[i]),n>=0?(n>0&&(n===2?n=0:e.lastNeed=n-3),n):0))}function e0(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function t0(e){var t=this.lastTotal-this.lastNeed,r=e0(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function r0(e,t){var r=Qm(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function i0(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function n0(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function o0(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function s0(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function a0(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l0(e){return e.toString(this.encoding)}function u0(e){return e&&e.length?this.write(e):""}});var $o=E((aC,dc)=>{"use strict";var _r=oi();dc.exports=X;var c0=Tu(),ci;X.ReadableState=ac;var sC=Ge("events").EventEmitter,nc=function(e,t){return e.listeners(t).length},ss=Go(),fi=hn().Buffer,f0=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d0(e){return fi.from(e)}function h0(e){return fi.isBuffer(e)||e instanceof f0}var oc=Object.create(dr());oc.inherits=hr();var rs=Ge("util"),j=void 0;rs&&rs.debuglog?j=rs.debuglog("stream"):j=function(){};var p0=Mu(),sc=Wo(),mr;oc.inherits(X,ss);var is=["error","close","destroy","pause","resume"];function g0(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):c0(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ac(e,t){ci=ci||jt(),e=e||{};var r=t instanceof ci;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,n=e.readableHighWaterMark,o=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p0,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(mr||(mr=ts().StringDecoder),this.decoder=new mr(e.encoding),this.encoding=e.encoding)}function X(e){if(ci=ci||jt(),!(this instanceof X))return new X(e);this._readableState=new ac(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ss.call(this)}Object.defineProperty(X.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});X.prototype.destroy=sc.destroy;X.prototype._undestroy=sc.undestroy;X.prototype._destroy=function(e,t){this.push(null),t(e)};X.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=fi.from(e,t),t=""),i=!0),lc(this,e,t,!1,i)};X.prototype.unshift=function(e){return lc(this,e,null,!0,!1)};function lc(e,t,r,i,n){var o=e._readableState;if(t===null)o.reading=!1,x0(e,o);else{var s;n||(s=m0(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==fi.prototype&&(t=d0(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):ns(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?ns(e,o,t,!1):uc(e,o)):ns(e,o,t,!1))):i||(o.reading=!1)}return _0(o)}function ns(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Sn(e)),uc(e,t)}function m0(e,t){var r;return!h0(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function _0(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}X.prototype.isPaused=function(){return this._readableState.flowing===!1};X.prototype.setEncoding=function(e){return mr||(mr=ts().StringDecoder),this._readableState.decoder=new mr(e),this._readableState.encoding=e,this};var tc=8388608;function v0(e){return e>=tc?e=tc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function rc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=v0(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}X.prototype.read=function(e){j("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return j("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?os(this):Sn(this),null;if(e=rc(e,t),e===0&&t.ended)return t.length===0&&os(this),null;var i=t.needReadable;j("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,j("length less than watermark",i)),t.ended||t.reading?(i=!1,j("reading or ended",i)):i&&(j("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=rc(r,t)));var n;return e>0?n=cc(e,t):n=null,n===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&os(this)),n!==null&&this.emit("data",n),n};function x0(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Sn(e)}}function Sn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(j("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?_r.nextTick(ic,e):ic(e))}function ic(e){j("emit readable"),e.emit("readable"),as(e)}function uc(e,t){t.readingMore||(t.readingMore=!0,_r.nextTick(y0,e,t))}function y0(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(j("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}X.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};X.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,j("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=n?a:I;i.endEmitted?_r.nextTick(o):r.once("end",o),e.on("unpipe",s);function s(m,_){j("onunpipe"),m===r&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,u())}function a(){j("onend"),e.end()}var c=b0(r);e.on("drain",c);var l=!1;function u(){j("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",I),r.removeListener("data",f),l=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var h=!1;r.on("data",f);function f(m){j("ondata"),h=!1;var _=e.write(m);_===!1&&!h&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&fc(i.pipes,e)!==-1)&&!l&&(j("false write response, pause",i.awaitDrain),i.awaitDrain++,h=!0),r.pause())}function d(m){j("onerror",m),I(),e.removeListener("error",d),nc(e,"error")===0&&e.emit("error",m)}g0(e,"error",d);function v(){e.removeListener("finish",y),I()}e.once("close",v);function y(){j("onfinish"),e.removeListener("close",v),I()}e.once("finish",y);function I(){j("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(j("pipe resume"),r.resume()),e};function b0(e){return function(){var t=e._readableState;j("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&nc(e,"data")&&(t.flowing=!0,as(e))}}X.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=fc(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};X.prototype.on=function(e,t){var r=ss.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&Sn(this):_r.nextTick(S0,this))}return r};X.prototype.addListener=X.prototype.on;function S0(e){j("readable nexttick read 0"),e.read(0)}X.prototype.resume=function(){var e=this._readableState;return e.flowing||(j("resume"),e.flowing=!0,E0(this,e)),this};function E0(e,t){t.resumeScheduled||(t.resumeScheduled=!0,_r.nextTick(I0,e,t))}function I0(e,t){t.reading||(j("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),as(e),t.flowing&&!t.reading&&e.read(0)}X.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function as(e){var t=e._readableState;for(j("flow",t.flowing);t.flowing&&e.read()!==null;);}X.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(j("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(j("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=t.push(s);a||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(s){return function(){return e[s].apply(e,arguments)}}(n));for(var o=0;o<is.length;o++)e.on(is[o],this.emit.bind(this,is[o]));return this._read=function(s){j("wrapped _read",s),i&&(i=!1,e.resume())},this};Object.defineProperty(X.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});X._fromList=cc;function cc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=C0(e,t.buffer,t.decoder),r}function C0(e,t,r){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?i=t.shift():i=r?w0(e,t):A0(e,t),i}function w0(e,t){var r=t.head,i=1,n=r.data;for(e-=n.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?n+=o:n+=o.slice(0,e),e-=s,e===0){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function A0(e,t){var r=fi.allocUnsafe(e),i=t.head,n=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),e-=s,e===0){s===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(s));break}++n}return t.length-=n,r}function os(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,_r.nextTick(T0,t,e))}function T0(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function fc(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}});var ls=E((lC,gc)=>{"use strict";gc.exports=tt;var En=jt(),pc=Object.create(dr());pc.inherits=hr();pc.inherits(tt,En);function F0(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function tt(e){if(!(this instanceof tt))return new tt(e);En.call(this,e),this._transformState={afterTransform:F0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",D0)}function D0(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){hc(e,t,r)}):hc(this,null,null)}tt.prototype.push=function(e,t){return this._transformState.needTransform=!1,En.prototype.push.call(this,e,t)};tt.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};tt.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};tt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};tt.prototype._destroy=function(e,t){var r=this;En.prototype._destroy.call(this,e,function(i){t(i),r.emit("close")})};function hc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var xc=E((uC,vc)=>{"use strict";vc.exports=di;var mc=ls(),_c=Object.create(dr());_c.inherits=hr();_c.inherits(di,mc);function di(e){if(!(this instanceof di))return new di(e);mc.call(this,e)}di.prototype._transform=function(e,t,r){r(null,e)}});var us=E((oe,In)=>{"use strict";var je=Ge("stream");process.env.READABLE_STREAM==="disable"&&je?(In.exports=je,oe=In.exports=je.Readable,oe.Readable=je.Readable,oe.Writable=je.Writable,oe.Duplex=je.Duplex,oe.Transform=je.Transform,oe.PassThrough=je.PassThrough,oe.Stream=je):(oe=In.exports=$o(),oe.Stream=je||oe,oe.Readable=oe,oe.Writable=Xo(),oe.Duplex=jt(),oe.Transform=ls(),oe.PassThrough=xc())});var rt=E(Se=>{"use strict";Se.base64=!0;Se.array=!0;Se.string=!0;Se.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";Se.nodebuffer=typeof Buffer<"u";Se.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")Se.blob=!1;else{cs=new ArrayBuffer(0);try{Se.blob=new Blob([cs],{type:"application/zip"}).size===0}catch{try{yc=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,fs=new yc,fs.append(cs),Se.blob=fs.getBlob("application/zip").size===0}catch{Se.blob=!1}}}var cs,yc,fs;try{Se.nodestream=!!us().Readable}catch{Se.nodestream=!1}});var hs=E(ds=>{"use strict";var P0=$(),k0=rt(),Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ds.encode=function(e){for(var t=[],r,i,n,o,s,a,c,l=0,u=e.length,h=u,f=P0.getTypeOf(e)!=="string";l<e.length;)h=u-l,f?(r=e[l++],i=l<u?e[l++]:0,n=l<u?e[l++]:0):(r=e.charCodeAt(l++),i=l<u?e.charCodeAt(l++):0,n=l<u?e.charCodeAt(l++):0),o=r>>2,s=(r&3)<<4|i>>4,a=h>1?(i&15)<<2|n>>6:64,c=h>2?n&63:64,t.push(Ve.charAt(o)+Ve.charAt(s)+Ve.charAt(a)+Ve.charAt(c));return t.join("")};ds.decode=function(e){var t,r,i,n,o,s,a,c=0,l=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");var h=e.length*3/4;if(e.charAt(e.length-1)===Ve.charAt(64)&&h--,e.charAt(e.length-2)===Ve.charAt(64)&&h--,h%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(k0.uint8array?f=new Uint8Array(h|0):f=new Array(h|0);c<e.length;)n=Ve.indexOf(e.charAt(c++)),o=Ve.indexOf(e.charAt(c++)),s=Ve.indexOf(e.charAt(c++)),a=Ve.indexOf(e.charAt(c++)),t=n<<2|o>>4,r=(o&15)<<4|s>>2,i=(s&3)<<6|a,f[l++]=t,s!==64&&(f[l++]=r),a!==64&&(f[l++]=i);return f}});var hi=E((dC,bc)=>{"use strict";bc.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}});var Cc=E((hC,Ic)=>{"use strict";var Sc=global.MutationObserver||global.WebKitMutationObserver,vr;process.browser?Sc?(ps=0,Ec=new Sc(pi),gs=global.document.createTextNode(""),Ec.observe(gs,{characterData:!0}),vr=function(){gs.data=ps=++ps%2}):!global.setImmediate&&typeof global.MessageChannel<"u"?(ms=new global.MessageChannel,ms.port1.onmessage=pi,vr=function(){ms.port2.postMessage(0)}):"document"in global&&"onreadystatechange"in global.document.createElement("script")?vr=function(){var e=global.document.createElement("script");e.onreadystatechange=function(){pi(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:vr=function(){setTimeout(pi,0)}:vr=function(){process.nextTick(pi)};var ps,Ec,gs,ms,_s,gi=[];function pi(){_s=!0;for(var e,t,r=gi.length;r;){for(t=gi,gi=[],e=-1;++e<r;)t[e]();r=gi.length}_s=!1}Ic.exports=O0;function O0(e){gi.push(e)===1&&!_s&&vr()}});var kc=E((pC,Pc)=>{"use strict";var wc=Cc();function xr(){}var le={},Ac=["REJECTED"],vs=["FULFILLED"],Tc=["PENDING"];process.browser||(mi=["UNHANDLED"]);var mi;Pc.exports=mt;function mt(e){if(typeof e!="function")throw new TypeError("resolver must be a function");this.state=Tc,this.queue=[],this.outcome=void 0,process.browser||(this.handled=mi),e!==xr&&Fc(this,e)}mt.prototype.finally=function(e){if(typeof e!="function")return this;var t=this.constructor;return this.then(r,i);function r(n){function o(){return n}return t.resolve(e()).then(o)}function i(n){function o(){throw n}return t.resolve(e()).then(o)}};mt.prototype.catch=function(e){return this.then(null,e)};mt.prototype.then=function(e,t){if(typeof e!="function"&&this.state===vs||typeof t!="function"&&this.state===Ac)return this;var r=new this.constructor(xr);if(process.browser||this.handled===mi&&(this.handled=null),this.state!==Tc){var i=this.state===vs?e:t;xs(r,i,this.outcome)}else this.queue.push(new _i(r,e,t));return r};function _i(e,t,r){this.promise=e,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}_i.prototype.callFulfilled=function(e){le.resolve(this.promise,e)};_i.prototype.otherCallFulfilled=function(e){xs(this.promise,this.onFulfilled,e)};_i.prototype.callRejected=function(e){le.reject(this.promise,e)};_i.prototype.otherCallRejected=function(e){xs(this.promise,this.onRejected,e)};function xs(e,t,r){wc(function(){var i;try{i=t(r)}catch(n){return le.reject(e,n)}i===e?le.reject(e,new TypeError("Cannot resolve promise with itself")):le.resolve(e,i)})}le.resolve=function(e,t){var r=Dc(M0,t);if(r.status==="error")return le.reject(e,r.value);var i=r.value;if(i)Fc(e,i);else{e.state=vs,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callFulfilled(t)}return e};le.reject=function(e,t){e.state=Ac,e.outcome=t,process.browser||e.handled===mi&&wc(function(){e.handled===mi&&process.emit("unhandledRejection",t,e)});for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e};function M0(e){var t=e&&e.then;if(e&&(typeof e=="object"||typeof e=="function")&&typeof t=="function")return function(){t.apply(e,arguments)}}function Fc(e,t){var r=!1;function i(a){r||(r=!0,le.reject(e,a))}function n(a){r||(r=!0,le.resolve(e,a))}function o(){t(n,i)}var s=Dc(o);s.status==="error"&&i(s.value)}function Dc(e,t){var r={};try{r.value=e(t),r.status="success"}catch(i){r.status="error",r.value=i}return r}mt.resolve=N0;function N0(e){return e instanceof this?e:le.resolve(new this(xr),e)}mt.reject=R0;function R0(e){var t=new this(xr);return le.reject(t,e)}mt.all=U0;function U0(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var n=new Array(r),o=0,s=-1,a=new this(xr);++s<r;)c(e[s],s);return a;function c(l,u){t.resolve(l).then(h,function(f){i||(i=!0,le.reject(a,f))});function h(f){n[u]=f,++o===r&&!i&&(i=!0,le.resolve(a,n))}}}mt.race=B0;function B0(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var n=-1,o=new this(xr);++n<r;)s(e[n]);return o;function s(a){t.resolve(a).then(function(c){i||(i=!0,le.resolve(o,c))},function(c){i||(i=!0,le.reject(o,c))})}}});var yr=E((gC,Oc)=>{"use strict";var ys=null;typeof Promise<"u"?ys=Promise:ys=kc();Oc.exports={Promise:ys}});var Nc=E(Mc=>{"use strict";(function(e,t){"use strict";if(e.setImmediate)return;var r=1,i={},n=!1,o=e.document,s;function a(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),x=0;x<w.length;x++)w[x]=arguments[x+1];var S={callback:_,args:w};return i[r]=S,s(r),r++}function c(_){delete i[_]}function l(_){var w=_.callback,x=_.args;switch(x.length){case 0:w();break;case 1:w(x[0]);break;case 2:w(x[0],x[1]);break;case 3:w(x[0],x[1],x[2]);break;default:w.apply(t,x);break}}function u(_){if(n)setTimeout(u,0,_);else{var w=i[_];if(w){n=!0;try{l(w)}finally{c(_),n=!1}}}}function h(){s=function(_){process.nextTick(function(){u(_)})}}function f(){if(e.postMessage&&!e.importScripts){var _=!0,w=e.onmessage;return e.onmessage=function(){_=!1},e.postMessage("","*"),e.onmessage=w,_}}function d(){var _="setImmediate$"+Math.random()+"$",w=function(x){x.source===e&&typeof x.data=="string"&&x.data.indexOf(_)===0&&u(+x.data.slice(_.length))};e.addEventListener?e.addEventListener("message",w,!1):e.attachEvent("onmessage",w),s=function(x){e.postMessage(_+x,"*")}}function v(){var _=new MessageChannel;_.port1.onmessage=function(w){var x=w.data;u(x)},s=function(w){_.port2.postMessage(w)}}function y(){var _=o.documentElement;s=function(w){var x=o.createElement("script");x.onreadystatechange=function(){u(w),x.onreadystatechange=null,_.removeChild(x),x=null},_.appendChild(x)}}function I(){s=function(_){setTimeout(u,0,_)}}var m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,{}.toString.call(e.process)==="[object process]"?h():f()?d():e.MessageChannel?v():o&&"onreadystatechange"in o.createElement("script")?y():I(),m.setImmediate=a,m.clearImmediate=c})(typeof self>"u"?typeof global>"u"?Mc:global:self)});var $=E(ee=>{"use strict";var _t=rt(),L0=hs(),br=hi(),bs=yr();Nc();function G0(e){var t=null;return _t.uint8array?t=new Uint8Array(e.length):t=new Array(e.length),wn(e,t)}ee.newBlob=function(e,t){ee.checkSupport("blob");try{return new Blob([e],{type:t})}catch{try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,i=new r;return i.append(e),i.getBlob(t)}catch{throw new Error("Bug : can't construct the Blob.")}}};function vi(e){return e}function wn(e,t){for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)&255;return t}var Cn={stringifyByChunk:function(e,t,r){var i=[],n=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;n<o;)t==="array"||t==="nodebuffer"?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,o)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,o)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return _t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return _t.nodebuffer&&String.fromCharCode.apply(null,br.allocBuffer(1)).length===1}catch{return!1}}()}};function xi(e){var t=65536,r=ee.getTypeOf(e),i=!0;if(r==="uint8array"?i=Cn.applyCanBeUsed.uint8array:r==="nodebuffer"&&(i=Cn.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return Cn.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return Cn.stringifyByChar(e)}ee.applyFromCharCode=xi;function An(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}var vt={};vt.string={string:vi,array:function(e){return wn(e,new Array(e.length))},arraybuffer:function(e){return vt.string.uint8array(e).buffer},uint8array:function(e){return wn(e,new Uint8Array(e.length))},nodebuffer:function(e){return wn(e,br.allocBuffer(e.length))}};vt.array={string:xi,array:vi,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return br.newBufferFrom(e)}};vt.arraybuffer={string:function(e){return xi(new Uint8Array(e))},array:function(e){return An(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:vi,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return br.newBufferFrom(new Uint8Array(e))}};vt.uint8array={string:xi,array:function(e){return An(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:vi,nodebuffer:function(e){return br.newBufferFrom(e)}};vt.nodebuffer={string:xi,array:function(e){return An(e,new Array(e.length))},arraybuffer:function(e){return vt.nodebuffer.uint8array(e).buffer},uint8array:function(e){return An(e,new Uint8Array(e.length))},nodebuffer:vi};ee.transformTo=function(e,t){if(t||(t=""),!e)return t;ee.checkSupport(e);var r=ee.getTypeOf(t),i=vt[r][e](t);return i};ee.resolve=function(e){for(var t=e.split("/"),r=[],i=0;i<t.length;i++){var n=t[i];n==="."||n===""&&i!==0&&i!==t.length-1||(n===".."?r.pop():r.push(n))}return r.join("/")};ee.getTypeOf=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(_t.nodebuffer&&br.isBuffer(e))return"nodebuffer";if(_t.uint8array&&e instanceof Uint8Array)return"uint8array";if(_t.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"};ee.checkSupport=function(e){var t=_t[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")};ee.MAX_VALUE_16BITS=65535;ee.MAX_VALUE_32BITS=-1;ee.pretty=function(e){var t="",r,i;for(i=0;i<(e||"").length;i++)r=e.charCodeAt(i),t+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return t};ee.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})};ee.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r};ee.extend=function(){var e={},t,r;for(t=0;t<arguments.length;t++)for(r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&typeof e[r]>"u"&&(e[r]=arguments[t][r]);return e};ee.prepareContent=function(e,t,r,i,n){var o=bs.Promise.resolve(t).then(function(s){var a=_t.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1);return a&&typeof FileReader<"u"?new bs.Promise(function(c,l){var u=new FileReader;u.onload=function(h){c(h.target.result)},u.onerror=function(h){l(h.target.error)},u.readAsArrayBuffer(s)}):s});return o.then(function(s){var a=ee.getTypeOf(s);return a?(a==="arraybuffer"?s=ee.transformTo("uint8array",s):a==="string"&&(n?s=L0.decode(s):r&&i!==!0&&(s=G0(s))),s):bs.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var Ee=E((vC,Uc)=>{"use strict";function Rc(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}Rc.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.end()}),e.on("error",function(r){t.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}};Uc.exports=Rc});var Er=E(xt=>{"use strict";var Sr=$(),Vt=rt(),j0=hi(),Tn=Ee(),yi=new Array(256);for(it=0;it<256;it++)yi[it]=it>=252?6:it>=248?5:it>=240?4:it>=224?3:it>=192?2:1;var it;yi[254]=yi[254]=1;var V0=function(e){var t,r,i,n,o,s=e.length,a=0;for(n=0;n<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(Vt.uint8array?t=new Uint8Array(a):t=new Array(a),o=0,n=0;o<a;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t},H0=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+yi[e[r]]>t?r:t},z0=function(e){var t,r,i,n,o=e.length,s=new Array(o*2);for(r=0,t=0;t<o;){if(i=e[t++],i<128){s[r++]=i;continue}if(n=yi[i],n>4){s[r++]=65533,t+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&t<o;)i=i<<6|e[t++]&63,n--;if(n>1){s[r++]=65533;continue}i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|i&1023)}return s.length!==r&&(s.subarray?s=s.subarray(0,r):s.length=r),Sr.applyFromCharCode(s)};xt.utf8encode=function(t){return Vt.nodebuffer?j0.newBufferFrom(t,"utf-8"):V0(t)};xt.utf8decode=function(t){return Vt.nodebuffer?Sr.transformTo("nodebuffer",t).toString("utf-8"):(t=Sr.transformTo(Vt.uint8array?"uint8array":"array",t),z0(t))};function Fn(){Tn.call(this,"utf-8 decode"),this.leftOver=null}Sr.inherits(Fn,Tn);Fn.prototype.processChunk=function(e){var t=Sr.transformTo(Vt.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(Vt.uint8array){var r=t;t=new Uint8Array(r.length+this.leftOver.length),t.set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=H0(t),n=t;i!==t.length&&(Vt.uint8array?(n=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(n=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:xt.utf8decode(n),meta:e.meta})};Fn.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:xt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};xt.Utf8DecodeWorker=Fn;function Ss(){Tn.call(this,"utf-8 encode")}Sr.inherits(Ss,Tn);Ss.prototype.processChunk=function(e){this.push({data:xt.utf8encode(e.data),meta:e.meta})};xt.Utf8EncodeWorker=Ss});var jc=E((yC,Gc)=>{"use strict";var Bc=Ee(),Lc=$();function Es(e){Bc.call(this,"ConvertWorker to "+e),this.destType=e}Lc.inherits(Es,Bc);Es.prototype.processChunk=function(e){this.push({data:Lc.transformTo(this.destType,e.data),meta:e.meta})};Gc.exports=Es});var zc=E((bC,Hc)=>{"use strict";var Vc=us().Readable,Z0=$();Z0.inherits(Is,Vc);function Is(e,t,r){Vc.call(this,t),this._helper=e;var i=this;e.on("data",function(n,o){i.push(n)||i._helper.pause(),r&&r(o)}).on("error",function(n){i.emit("error",n)}).on("end",function(){i.push(null)})}Is.prototype._read=function(){this._helper.resume()};Hc.exports=Is});var Cs=E((SC,qc)=>{"use strict";var Ht=$(),W0=jc(),q0=Ee(),X0=hs(),Y0=rt(),K0=yr(),Zc=null;if(Y0.nodestream)try{Zc=zc()}catch{}function $0(e,t,r){switch(e){case"blob":return Ht.newBlob(Ht.transformTo("arraybuffer",t),r);case"base64":return X0.encode(t);default:return Ht.transformTo(e,t)}}function J0(e,t){var r,i=0,n=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(o),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function Q0(e,t){return new K0.Promise(function(r,i){var n=[],o=e._internalType,s=e._outputType,a=e._mimeType;e.on("data",function(c,l){n.push(c),t&&t(l)}).on("error",function(c){n=[],i(c)}).on("end",function(){try{var c=$0(s,J0(o,n),a);r(c)}catch(l){i(l)}n=[]}).resume()})}function Wc(e,t,r){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string";break}try{this._internalType=i,this._outputType=t,this._mimeType=r,Ht.checkSupport(i),this._worker=e.pipe(new W0(i)),e.lock()}catch(n){this._worker=new q0("error"),this._worker.error(n)}}Wc.prototype={accumulate:function(e){return Q0(this,e)},on:function(e,t){var r=this;return e==="data"?this._worker.on(e,function(i){t.call(r,i.data,i.meta)}):this._worker.on(e,function(){Ht.delay(t,arguments,r)}),this},resume:function(){return Ht.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(Ht.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Zc(this,{objectMode:this._outputType!=="nodebuffer"},e)}};qc.exports=Wc});var ws=E(Oe=>{"use strict";Oe.base64=!1;Oe.binary=!1;Oe.dir=!1;Oe.createFolders=!0;Oe.date=null;Oe.compression=null;Oe.compressionOptions=null;Oe.comment=null;Oe.unixPermissions=null;Oe.dosPermissions=null});var As=E((IC,Xc)=>{"use strict";var Dn=$(),Pn=Ee(),e_=16*1024;function Ir(e){Pn.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(r){t.dataIsReady=!0,t.data=r,t.max=r&&r.length||0,t.type=Dn.getTypeOf(r),t.isPaused||t._tickAndRepeat()},function(r){t.error(r)})}Dn.inherits(Ir,Pn);Ir.prototype.cleanUp=function(){Pn.prototype.cleanUp.call(this),this.data=null};Ir.prototype.resume=function(){return Pn.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Dn.delay(this._tickAndRepeat,[],this)),!0):!1};Ir.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(Dn.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};Ir.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=e_,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r);break}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};Xc.exports=Ir});var kn=E((CC,Kc)=>{"use strict";var t_=$();function r_(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var Yc=r_();function i_(e,t,r,i){var n=Yc,o=i+r;e=e^-1;for(var s=i;s<o;s++)e=e>>>8^n[(e^t[s])&255];return e^-1}function n_(e,t,r,i){var n=Yc,o=i+r;e=e^-1;for(var s=i;s<o;s++)e=e>>>8^n[(e^t.charCodeAt(s))&255];return e^-1}Kc.exports=function(t,r){if(typeof t>"u"||!t.length)return 0;var i=t_.getTypeOf(t)!=="string";return i?i_(r|0,t,t.length,0):n_(r|0,t,t.length,0)}});var Fs=E((wC,Jc)=>{"use strict";var $c=Ee(),o_=kn(),s_=$();function Ts(){$c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s_.inherits(Ts,$c);Ts.prototype.processChunk=function(e){this.streamInfo.crc32=o_(e.data,this.streamInfo.crc32||0),this.push(e)};Jc.exports=Ts});var ef=E((AC,Qc)=>{"use strict";var a_=$(),Ds=Ee();function Ps(e){Ds.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}a_.inherits(Ps,Ds);Ps.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}Ds.prototype.processChunk.call(this,e)};Qc.exports=Ps});var On=E((TC,nf)=>{"use strict";var tf=yr(),rf=As(),l_=Fs(),ks=ef();function Os(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}Os.prototype={getContentWorker:function(){var e=new rf(tf.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ks("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new rf(tf.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};Os.createWorkerFrom=function(e,t,r){return e.pipe(new l_).pipe(new ks("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new ks("compressedSize")).withStreamInfo("compression",t)};nf.exports=Os});var lf=E((FC,af)=>{"use strict";var u_=Cs(),c_=As(),Ms=Er(),Ns=On(),of=Ee(),Rs=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};Rs.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");r=e.toLowerCase();var i=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),t=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(t=t.pipe(new Ms.Utf8EncodeWorker)),!n&&i&&(t=t.pipe(new Ms.Utf8DecodeWorker))}catch(o){t=new of("error"),t.error(o)}return new u_(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof Ns&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new Ms.Utf8EncodeWorker)),Ns.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof Ns?this._data.getContentWorker():this._data instanceof of?this._data:new c_(this._data)}};var sf=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(Mn=0;Mn<sf.length;Mn++)Rs.prototype[sf[Mn]]=f_;var Mn;af.exports=Rs});var nt=E(he=>{"use strict";var d_=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function h_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}he.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var i in r)h_(r,i)&&(e[i]=r[i])}}return e};he.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var p_={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+i),n);return}for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){var t,r,i,n,o,s;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(s=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)o=e[t],s.set(o,n),n+=o.length;return s}},g_={arraySet:function(e,t,r,i,n){for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};he.setTyped=function(e){e?(he.Buf8=Uint8Array,he.Buf16=Uint16Array,he.Buf32=Int32Array,he.assign(he,p_)):(he.Buf8=Array,he.Buf16=Array,he.Buf32=Array,he.assign(he,g_))};he.setTyped(d_)});var Pf=E(Ar=>{"use strict";var m_=nt(),__=4,uf=0,cf=1,v_=2;function wr(e){for(var t=e.length;--t>=0;)e[t]=0}var x_=0,mf=1,y_=2,b_=3,S_=258,Hs=29,wi=256,Si=wi+1+Hs,Cr=30,zs=19,_f=2*Si+1,zt=15,Us=16,E_=7,Zs=256,vf=16,xf=17,yf=18,js=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Nn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bf=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C_=512,ot=new Array((Si+2)*2);wr(ot);var bi=new Array(Cr*2);wr(bi);var Ei=new Array(C_);wr(Ei);var Ii=new Array(S_-b_+1);wr(Ii);var Ws=new Array(Hs);wr(Ws);var Rn=new Array(Cr);wr(Rn);function Bs(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}var Sf,Ef,If;function Ls(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Cf(e){return e<256?Ei[e]:Ei[256+(e>>>7)]}function Ci(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function _e(e,t,r){e.bi_valid>Us-r?(e.bi_buf|=t<<e.bi_valid&65535,Ci(e,e.bi_buf),e.bi_buf=t>>Us-e.bi_valid,e.bi_valid+=r-Us):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function He(e,t,r){_e(e,r[t*2],r[t*2+1])}function wf(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function w_(e){e.bi_valid===16?(Ci(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function A_(e,t){var r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,h,f,d,v,y=0;for(f=0;f<=zt;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<_f;l++)u=e.heap[l],f=r[r[u*2+1]*2+1]+1,f>c&&(f=c,y++),r[u*2+1]=f,!(u>i)&&(e.bl_count[f]++,d=0,u>=a&&(d=s[u-a]),v=r[u*2],e.opt_len+=v*(f+d),o&&(e.static_len+=v*(n[u*2+1]+d)));if(y!==0){do{for(f=c-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(f=c;f!==0;f--)for(u=e.bl_count[f];u!==0;)h=e.heap[--l],!(h>i)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),u--)}}function Af(e,t,r){var i=new Array(zt+1),n=0,o,s;for(o=1;o<=zt;o++)i[o]=n=n+r[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=wf(i[a]++,a))}}function T_(){var e,t,r,i,n,o=new Array(zt+1);for(r=0,i=0;i<Hs-1;i++)for(Ws[i]=r,e=0;e<1<<js[i];e++)Ii[r++]=i;for(Ii[r-1]=i,n=0,i=0;i<16;i++)for(Rn[i]=n,e=0;e<1<<Nn[i];e++)Ei[n++]=i;for(n>>=7;i<Cr;i++)for(Rn[i]=n<<7,e=0;e<1<<Nn[i]-7;e++)Ei[256+n++]=i;for(t=0;t<=zt;t++)o[t]=0;for(e=0;e<=143;)ot[e*2+1]=8,e++,o[8]++;for(;e<=255;)ot[e*2+1]=9,e++,o[9]++;for(;e<=279;)ot[e*2+1]=7,e++,o[7]++;for(;e<=287;)ot[e*2+1]=8,e++,o[8]++;for(Af(ot,Si+1,o),e=0;e<Cr;e++)bi[e*2+1]=5,bi[e*2]=wf(e,5);Sf=new Bs(ot,js,wi+1,Si,zt),Ef=new Bs(bi,Nn,0,Cr,zt),If=new Bs(new Array(0),I_,0,zs,E_)}function Tf(e){var t;for(t=0;t<Si;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Cr;t++)e.dyn_dtree[t*2]=0;for(t=0;t<zs;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Zs*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ff(e){e.bi_valid>8?Ci(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function F_(e,t,r,i){Ff(e),i&&(Ci(e,r),Ci(e,~r)),m_.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function ff(e,t,r,i){var n=t*2,o=r*2;return e[n]<e[o]||e[n]===e[o]&&i[t]<=i[r]}function Gs(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&ff(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!ff(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function df(e,t,r){var i,n,o=0,s,a;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],n=e.pending_buf[e.l_buf+o],o++,i===0?He(e,n,t):(s=Ii[n],He(e,s+wi+1,t),a=js[s],a!==0&&(n-=Ws[s],_e(e,n,a)),i--,s=Cf(i),He(e,s,r),a=Nn[s],a!==0&&(i-=Rn[s],_e(e,i,a)));while(o<e.last_lit);He(e,Zs,t)}function Vs(e,t){var r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,c=-1,l;for(e.heap_len=0,e.heap_max=_f,s=0;s<o;s++)r[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,r[l*2]=1,e.depth[l]=0,e.opt_len--,n&&(e.static_len-=i[l*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Gs(e,r,s);l=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Gs(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,r[l*2]=r[s*2]+r[a*2],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,r[s*2+1]=r[a*2+1]=l,e.heap[1]=l++,Gs(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],A_(e,t),Af(r,c,e.bl_count)}function hf(e,t,r){var i,n=-1,o,s=t[0*2+1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)o=s,s=t[(i+1)*2+1],!(++a<c&&o===s)&&(a<l?e.bl_tree[o*2]+=a:o!==0?(o!==n&&e.bl_tree[o*2]++,e.bl_tree[vf*2]++):a<=10?e.bl_tree[xf*2]++:e.bl_tree[yf*2]++,a=0,n=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4))}function pf(e,t,r){var i,n=-1,o,s=t[0*2+1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),i=0;i<=r;i++)if(o=s,s=t[(i+1)*2+1],!(++a<c&&o===s)){if(a<l)do He(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==n&&(He(e,o,e.bl_tree),a--),He(e,vf,e.bl_tree),_e(e,a-3,2)):a<=10?(He(e,xf,e.bl_tree),_e(e,a-3,3)):(He(e,yf,e.bl_tree),_e(e,a-11,7));a=0,n=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4)}}function D_(e){var t;for(hf(e,e.dyn_ltree,e.l_desc.max_code),hf(e,e.dyn_dtree,e.d_desc.max_code),Vs(e,e.bl_desc),t=zs-1;t>=3&&e.bl_tree[bf[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function P_(e,t,r,i){var n;for(_e(e,t-257,5),_e(e,r-1,5),_e(e,i-4,4),n=0;n<i;n++)_e(e,e.bl_tree[bf[n]*2+1],3);pf(e,e.dyn_ltree,t-1),pf(e,e.dyn_dtree,r-1)}function k_(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return uf;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return cf;for(r=32;r<wi;r++)if(e.dyn_ltree[r*2]!==0)return cf;return uf}var gf=!1;function O_(e){gf||(T_(),gf=!0),e.l_desc=new Ls(e.dyn_ltree,Sf),e.d_desc=new Ls(e.dyn_dtree,Ef),e.bl_desc=new Ls(e.bl_tree,If),e.bi_buf=0,e.bi_valid=0,Tf(e)}function Df(e,t,r,i){_e(e,(x_<<1)+(i?1:0),3),F_(e,t,r,!0)}function M_(e){_e(e,mf<<1,3),He(e,Zs,ot),w_(e)}function N_(e,t,r,i){var n,o,s=0;e.level>0?(e.strm.data_type===v_&&(e.strm.data_type=k_(e)),Vs(e,e.l_desc),Vs(e,e.d_desc),s=D_(e),n=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=n&&(n=o)):n=o=r+5,r+4<=n&&t!==-1?Df(e,t,r,i):e.strategy===__||o===n?(_e(e,(mf<<1)+(i?1:0),3),df(e,ot,bi)):(_e(e,(y_<<1)+(i?1:0),3),P_(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),df(e,e.dyn_ltree,e.dyn_dtree)),Tf(e),i&&Ff(e)}function R_(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Ii[r]+wi+1)*2]++,e.dyn_dtree[Cf(t)*2]++),e.last_lit===e.lit_bufsize-1}Ar._tr_init=O_;Ar._tr_stored_block=Df;Ar._tr_flush_block=N_;Ar._tr_tally=R_;Ar._tr_align=M_});var qs=E((kC,kf)=>{"use strict";function U_(e,t,r,i){for(var n=e&65535|0,o=e>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+t[i++]|0,o=o+n|0;while(--s);n%=65521,o%=65521}return n|o<<16|0}kf.exports=U_});var Xs=E((OC,Of)=>{"use strict";function B_(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var L_=B_();function G_(e,t,r,i){var n=L_,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^n[(e^t[s])&255];return e^-1}Of.exports=G_});var Un=E((MC,Mf)=>{"use strict";Mf.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Hf=E(We=>{"use strict";var pe=nt(),we=Pf(),Bf=qs(),yt=Xs(),j_=Un(),Xt=0,V_=1,H_=3,Ct=4,Nf=5,Ze=0,Rf=1,Ae=-2,z_=-3,Ys=-5,Z_=-1,W_=1,Bn=2,q_=3,X_=4,Y_=0,K_=2,Vn=8,$_=9,J_=15,Q_=8,ev=29,tv=256,$s=tv+1+ev,rv=30,iv=19,nv=2*$s+1,ov=15,R=3,Et=258,Me=Et+R+1,sv=32,Hn=42,Js=69,Ln=73,Gn=91,jn=103,Zt=113,Ti=666,te=1,Fi=2,Wt=3,Dr=4,av=3;function It(e,t){return e.msg=j_[t],t}function Uf(e){return(e<<1)-(e>4?9:0)}function St(e){for(var t=e.length;--t>=0;)e[t]=0}function bt(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(pe.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function se(e,t){we._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,bt(e.strm)}function G(e,t){e.pending_buf[e.pending++]=t}function Ai(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function lv(e,t,r,i){var n=e.avail_in;return n>i&&(n=i),n===0?0:(e.avail_in-=n,pe.arraySet(t,e.input,e.next_in,n,r),e.state.wrap===1?e.adler=Bf(e.adler,t,n,r):e.state.wrap===2&&(e.adler=yt(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}function Lf(e,t){var r=e.max_chain_length,i=e.strstart,n,o,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-Me?e.strstart-(e.w_size-Me):0,l=e.window,u=e.w_mask,h=e.prev,f=e.strstart+Et,d=l[i+s-1],v=l[i+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,!(l[n+s]!==v||l[n+s-1]!==d||l[n]!==l[i]||l[++n]!==l[i+1])){i+=2,n++;do;while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<f);if(o=Et-(f-i),i=f-Et,o>s){if(e.match_start=t,s=o,o>=a)break;d=l[i+s-1],v=l[i+s]}}while((t=h[t&u])>c&&--r!==0);return s<=e.lookahead?s:e.lookahead}function qt(e){var t=e.w_size,r,i,n,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Me)){pe.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,r=i;do n=e.head[--r],e.head[r]=n>=t?n-t:0;while(--i);i=t,r=i;do n=e.prev[--r],e.prev[r]=n>=t?n-t:0;while(--i);o+=t}if(e.strm.avail_in===0)break;if(i=lv(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=R)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+R-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<Me&&e.strm.avail_in!==0)}function uv(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(qt(e),e.lookahead===0&&t===Xt)return te;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,se(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Me&&(se(e,!1),e.strm.avail_out===0))return te}return e.insert=0,t===Ct?(se(e,!0),e.strm.avail_out===0?Wt:Dr):(e.strstart>e.block_start&&(se(e,!1),e.strm.avail_out===0),te)}function Ks(e,t){for(var r,i;;){if(e.lookahead<Me){if(qt(e),e.lookahead<Me&&t===Xt)return te;if(e.lookahead===0)break}if(r=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Me&&(e.match_length=Lf(e,r)),e.match_length>=R)if(i=we._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=we._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(se(e,!1),e.strm.avail_out===0))return te}return e.insert=e.strstart<R-1?e.strstart:R-1,t===Ct?(se(e,!0),e.strm.avail_out===0?Wt:Dr):e.last_lit&&(se(e,!1),e.strm.avail_out===0)?te:Fi}function Tr(e,t){for(var r,i,n;;){if(e.lookahead<Me){if(qt(e),e.lookahead<Me&&t===Xt)return te;if(e.lookahead===0)break}if(r=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Me&&(e.match_length=Lf(e,r),e.match_length<=5&&(e.strategy===W_||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-R,i=we._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,i&&(se(e,!1),e.strm.avail_out===0))return te}else if(e.match_available){if(i=we._tr_tally(e,0,e.window[e.strstart-1]),i&&se(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return te}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=we._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,t===Ct?(se(e,!0),e.strm.avail_out===0?Wt:Dr):e.last_lit&&(se(e,!1),e.strm.avail_out===0)?te:Fi}function cv(e,t){for(var r,i,n,o,s=e.window;;){if(e.lookahead<=Et){if(qt(e),e.lookahead<=Et&&t===Xt)return te;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(n=e.strstart-1,i=s[n],i===s[++n]&&i===s[++n]&&i===s[++n])){o=e.strstart+Et;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<o);e.match_length=Et-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(r=we._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=we._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(se(e,!1),e.strm.avail_out===0))return te}return e.insert=0,t===Ct?(se(e,!0),e.strm.avail_out===0?Wt:Dr):e.last_lit&&(se(e,!1),e.strm.avail_out===0)?te:Fi}function fv(e,t){for(var r;;){if(e.lookahead===0&&(qt(e),e.lookahead===0)){if(t===Xt)return te;break}if(e.match_length=0,r=we._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(se(e,!1),e.strm.avail_out===0))return te}return e.insert=0,t===Ct?(se(e,!0),e.strm.avail_out===0?Wt:Dr):e.last_lit&&(se(e,!1),e.strm.avail_out===0)?te:Fi}function ze(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}var Fr;Fr=[new ze(0,0,0,0,uv),new ze(4,4,8,4,Ks),new ze(4,5,16,8,Ks),new ze(4,6,32,32,Ks),new ze(4,4,16,16,Tr),new ze(8,16,32,32,Tr),new ze(8,16,128,128,Tr),new ze(8,32,128,256,Tr),new ze(32,128,258,1024,Tr),new ze(32,258,258,4096,Tr)];function dv(e){e.window_size=2*e.w_size,St(e.head),e.max_lazy_match=Fr[e.level].max_lazy,e.good_match=Fr[e.level].good_length,e.nice_match=Fr[e.level].nice_length,e.max_chain_length=Fr[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0}function hv(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new pe.Buf16(nv*2),this.dyn_dtree=new pe.Buf16((2*rv+1)*2),this.bl_tree=new pe.Buf16((2*iv+1)*2),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new pe.Buf16(ov+1),this.heap=new pe.Buf16(2*$s+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new pe.Buf16(2*$s+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Gf(e){var t;return!e||!e.state?It(e,Ae):(e.total_in=e.total_out=0,e.data_type=K_,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Hn:Zt,e.adler=t.wrap===2?0:1,t.last_flush=Xt,we._tr_init(t),Ze)}function jf(e){var t=Gf(e);return t===Ze&&dv(e.state),t}function pv(e,t){return!e||!e.state||e.state.wrap!==2?Ae:(e.state.gzhead=t,Ze)}function Vf(e,t,r,i,n,o){if(!e)return Ae;var s=1;if(t===Z_&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),n<1||n>$_||r!==Vn||i<8||i>15||t<0||t>9||o<0||o>X_)return It(e,Ae);i===8&&(i=9);var a=new hv;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=n+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+R-1)/R),a.window=new pe.Buf8(a.w_size*2),a.head=new pe.Buf16(a.hash_size),a.prev=new pe.Buf16(a.w_size),a.lit_bufsize=1<<n+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new pe.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=r,jf(e)}function gv(e,t){return Vf(e,t,Vn,J_,Q_,Y_)}function mv(e,t){var r,i,n,o;if(!e||!e.state||t>Nf||t<0)return e?It(e,Ae):Ae;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===Ti&&t!==Ct)return It(e,e.avail_out===0?Ys:Ae);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===Hn)if(i.wrap===2)e.adler=0,G(i,31),G(i,139),G(i,8),i.gzhead?(G(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),G(i,i.gzhead.time&255),G(i,i.gzhead.time>>8&255),G(i,i.gzhead.time>>16&255),G(i,i.gzhead.time>>24&255),G(i,i.level===9?2:i.strategy>=Bn||i.level<2?4:0),G(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(G(i,i.gzhead.extra.length&255),G(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=yt(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Js):(G(i,0),G(i,0),G(i,0),G(i,0),G(i,0),G(i,i.level===9?2:i.strategy>=Bn||i.level<2?4:0),G(i,av),i.status=Zt);else{var s=Vn+(i.w_bits-8<<4)<<8,a=-1;i.strategy>=Bn||i.level<2?a=0:i.level<6?a=1:i.level===6?a=2:a=3,s|=a<<6,i.strstart!==0&&(s|=sv),s+=31-s%31,i.status=Zt,Ai(i,s),i.strstart!==0&&(Ai(i,e.adler>>>16),Ai(i,e.adler&65535)),e.adler=1}if(i.status===Js)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),bt(e),n=i.pending,i.pending===i.pending_buf_size));)G(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Ln)}else i.status=Ln;if(i.status===Ln)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),bt(e),n=i.pending,i.pending===i.pending_buf_size)){o=1;break}i.gzindex<i.gzhead.name.length?o=i.gzhead.name.charCodeAt(i.gzindex++)&255:o=0,G(i,o)}while(o!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),o===0&&(i.gzindex=0,i.status=Gn)}else i.status=Gn;if(i.status===Gn)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),bt(e),n=i.pending,i.pending===i.pending_buf_size)){o=1;break}i.gzindex<i.gzhead.comment.length?o=i.gzhead.comment.charCodeAt(i.gzindex++)&255:o=0,G(i,o)}while(o!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=yt(e.adler,i.pending_buf,i.pending-n,n)),o===0&&(i.status=jn)}else i.status=jn;if(i.status===jn&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&bt(e),i.pending+2<=i.pending_buf_size&&(G(i,e.adler&255),G(i,e.adler>>8&255),e.adler=0,i.status=Zt)):i.status=Zt),i.pending!==0){if(bt(e),e.avail_out===0)return i.last_flush=-1,Ze}else if(e.avail_in===0&&Uf(t)<=Uf(r)&&t!==Ct)return It(e,Ys);if(i.status===Ti&&e.avail_in!==0)return It(e,Ys);if(e.avail_in!==0||i.lookahead!==0||t!==Xt&&i.status!==Ti){var c=i.strategy===Bn?fv(i,t):i.strategy===q_?cv(i,t):Fr[i.level].func(i,t);if((c===Wt||c===Dr)&&(i.status=Ti),c===te||c===Wt)return e.avail_out===0&&(i.last_flush=-1),Ze;if(c===Fi&&(t===V_?we._tr_align(i):t!==Nf&&(we._tr_stored_block(i,0,0,!1),t===H_&&(St(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),bt(e),e.avail_out===0))return i.last_flush=-1,Ze}return t!==Ct?Ze:i.wrap<=0?Rf:(i.wrap===2?(G(i,e.adler&255),G(i,e.adler>>8&255),G(i,e.adler>>16&255),G(i,e.adler>>24&255),G(i,e.total_in&255),G(i,e.total_in>>8&255),G(i,e.total_in>>16&255),G(i,e.total_in>>24&255)):(Ai(i,e.adler>>>16),Ai(i,e.adler&65535)),bt(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Ze:Rf)}function _v(e){var t;return!e||!e.state?Ae:(t=e.state.status,t!==Hn&&t!==Js&&t!==Ln&&t!==Gn&&t!==jn&&t!==Zt&&t!==Ti?It(e,Ae):(e.state=null,t===Zt?It(e,z_):Ze))}function vv(e,t){var r=t.length,i,n,o,s,a,c,l,u;if(!e||!e.state||(i=e.state,s=i.wrap,s===2||s===1&&i.status!==Hn||i.lookahead))return Ae;for(s===1&&(e.adler=Bf(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(s===0&&(St(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new pe.Buf8(i.w_size),pe.arraySet(u,t,r-i.w_size,i.w_size,0),t=u,r=i.w_size),a=e.avail_in,c=e.next_in,l=e.input,e.avail_in=r,e.next_in=0,e.input=t,qt(i);i.lookahead>=R;){n=i.strstart,o=i.lookahead-(R-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+R-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++;while(--o);i.strstart=n,i.lookahead=R-1,qt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=a,i.wrap=s,Ze}We.deflateInit=gv;We.deflateInit2=Vf;We.deflateReset=jf;We.deflateResetKeep=Gf;We.deflateSetHeader=pv;We.deflate=mv;We.deflateEnd=_v;We.deflateSetDictionary=vv;We.deflateInfo="pako deflate (from Nodeca project)"});var Qs=E(Pr=>{"use strict";var zn=nt(),zf=!0,Zf=!0;try{String.fromCharCode.apply(null,[0])}catch{zf=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zf=!1}var Di=new zn.Buf8(256);for(st=0;st<256;st++)Di[st]=st>=252?6:st>=248?5:st>=240?4:st>=224?3:st>=192?2:1;var st;Di[254]=Di[254]=1;Pr.string2buf=function(e){var t,r,i,n,o,s=e.length,a=0;for(n=0;n<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new zn.Buf8(a),o=0,n=0;o<a;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};function Wf(e,t){if(t<65534&&(e.subarray&&Zf||!e.subarray&&zf))return String.fromCharCode.apply(null,zn.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}Pr.buf2binstring=function(e){return Wf(e,e.length)};Pr.binstring2buf=function(e){for(var t=new zn.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t};Pr.buf2string=function(e,t){var r,i,n,o,s=t||e.length,a=new Array(s*2);for(i=0,r=0;r<s;){if(n=e[r++],n<128){a[i++]=n;continue}if(o=Di[n],o>4){a[i++]=65533,r+=o-1;continue}for(n&=o===2?31:o===3?15:7;o>1&&r<s;)n=n<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}n<65536?a[i++]=n:(n-=65536,a[i++]=55296|n>>10&1023,a[i++]=56320|n&1023)}return Wf(a,i)};Pr.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Di[e[r]]>t?r:t}});var ea=E((UC,qf)=>{"use strict";function xv(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}qf.exports=xv});var $f=E(Oi=>{"use strict";var Pi=Hf(),ki=nt(),ra=Qs(),ia=Un(),yv=ea(),Kf=Object.prototype.toString,bv=0,ta=4,kr=0,Xf=1,Yf=2,Sv=-1,Ev=0,Iv=8;function Yt(e){if(!(this instanceof Yt))return new Yt(e);this.options=ki.assign({level:Sv,method:Iv,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ev,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yv,this.strm.avail_out=0;var r=Pi.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==kr)throw new Error(ia[r]);if(t.header&&Pi.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=ra.string2buf(t.dictionary):Kf.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,r=Pi.deflateSetDictionary(this.strm,i),r!==kr)throw new Error(ia[r]);this._dict_set=!0}}Yt.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n,o;if(this.ended)return!1;o=t===~~t?t:t===!0?ta:bv,typeof e=="string"?r.input=ra.string2buf(e):Kf.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new ki.Buf8(i),r.next_out=0,r.avail_out=i),n=Pi.deflate(r,o),n!==Xf&&n!==kr)return this.onEnd(n),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(o===ta||o===Yf))&&(this.options.to==="string"?this.onData(ra.buf2binstring(ki.shrinkBuf(r.output,r.next_out))):this.onData(ki.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&n!==Xf);return o===ta?(n=Pi.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===kr):(o===Yf&&(this.onEnd(kr),r.avail_out=0),!0)};Yt.prototype.onData=function(e){this.chunks.push(e)};Yt.prototype.onEnd=function(e){e===kr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ki.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function na(e,t){var r=new Yt(t);if(r.push(e,!0),r.err)throw r.msg||ia[r.err];return r.result}function Cv(e,t){return t=t||{},t.raw=!0,na(e,t)}function wv(e,t){return t=t||{},t.gzip=!0,na(e,t)}Oi.Deflate=Yt;Oi.deflate=na;Oi.deflateRaw=Cv;Oi.gzip=wv});var Qf=E((LC,Jf)=>{"use strict";var Zn=30,Av=12;Jf.exports=function(t,r){var i,n,o,s,a,c,l,u,h,f,d,v,y,I,m,_,w,x,S,O,p,C,k,q,T;i=t.state,n=t.next_in,q=t.input,o=n+(t.avail_in-5),s=t.next_out,T=t.output,a=s-(r-t.avail_out),c=s+(t.avail_out-257),l=i.dmax,u=i.wsize,h=i.whave,f=i.wnext,d=i.window,v=i.hold,y=i.bits,I=i.lencode,m=i.distcode,_=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;e:do{y<15&&(v+=q[n++]<<y,y+=8,v+=q[n++]<<y,y+=8),x=I[v&_];t:for(;;){if(S=x>>>24,v>>>=S,y-=S,S=x>>>16&255,S===0)T[s++]=x&65535;else if(S&16){O=x&65535,S&=15,S&&(y<S&&(v+=q[n++]<<y,y+=8),O+=v&(1<<S)-1,v>>>=S,y-=S),y<15&&(v+=q[n++]<<y,y+=8,v+=q[n++]<<y,y+=8),x=m[v&w];r:for(;;){if(S=x>>>24,v>>>=S,y-=S,S=x>>>16&255,S&16){if(p=x&65535,S&=15,y<S&&(v+=q[n++]<<y,y+=8,y<S&&(v+=q[n++]<<y,y+=8)),p+=v&(1<<S)-1,p>l){t.msg="invalid distance too far back",i.mode=Zn;break e}if(v>>>=S,y-=S,S=s-a,p>S){if(S=p-S,S>h&&i.sane){t.msg="invalid distance too far back",i.mode=Zn;break e}if(C=0,k=d,f===0){if(C+=u-S,S<O){O-=S;do T[s++]=d[C++];while(--S);C=s-p,k=T}}else if(f<S){if(C+=u+f-S,S-=f,S<O){O-=S;do T[s++]=d[C++];while(--S);if(C=0,f<O){S=f,O-=S;do T[s++]=d[C++];while(--S);C=s-p,k=T}}}else if(C+=f-S,S<O){O-=S;do T[s++]=d[C++];while(--S);C=s-p,k=T}for(;O>2;)T[s++]=k[C++],T[s++]=k[C++],T[s++]=k[C++],O-=3;O&&(T[s++]=k[C++],O>1&&(T[s++]=k[C++]))}else{C=s-p;do T[s++]=T[C++],T[s++]=T[C++],T[s++]=T[C++],O-=3;while(O>2);O&&(T[s++]=T[C++],O>1&&(T[s++]=T[C++]))}}else if(S&64){t.msg="invalid distance code",i.mode=Zn;break e}else{x=m[(x&65535)+(v&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){i.mode=Av;break e}else{t.msg="invalid literal/length code",i.mode=Zn;break e}else{x=I[(x&65535)+(v&(1<<S)-1)];continue t}break}}while(n<o&&s<c);O=y>>3,n-=O,y-=O<<3,v&=(1<<y)-1,t.next_in=n,t.next_out=s,t.avail_in=n<o?5+(o-n):5-(n-o),t.avail_out=s<c?257+(c-s):257-(s-c),i.hold=v,i.bits=y}});var sd=E((GC,od)=>{"use strict";var ed=nt(),Or=15,td=852,rd=592,id=0,oa=1,nd=2,Tv=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Fv=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Dv=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Pv=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];od.exports=function(t,r,i,n,o,s,a,c){var l=c.bits,u=0,h=0,f=0,d=0,v=0,y=0,I=0,m=0,_=0,w=0,x,S,O,p,C,k=null,q=0,T,ve=new ed.Buf16(Or+1),rr=new ed.Buf16(Or+1),qi=null,Cl=0,wl,Xi,Yi;for(u=0;u<=Or;u++)ve[u]=0;for(h=0;h<n;h++)ve[r[i+h]]++;for(v=l,d=Or;d>=1&&ve[d]===0;d--);if(v>d&&(v=d),d===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<d&&ve[f]===0;f++);for(v<f&&(v=f),m=1,u=1;u<=Or;u++)if(m<<=1,m-=ve[u],m<0)return-1;if(m>0&&(t===id||d!==1))return-1;for(rr[1]=0,u=1;u<Or;u++)rr[u+1]=rr[u]+ve[u];for(h=0;h<n;h++)r[i+h]!==0&&(a[rr[r[i+h]]++]=h);if(t===id?(k=qi=a,T=19):t===oa?(k=Tv,q-=257,qi=Fv,Cl-=257,T=256):(k=Dv,qi=Pv,T=-1),w=0,h=0,u=f,C=s,y=v,I=0,O=-1,_=1<<v,p=_-1,t===oa&&_>td||t===nd&&_>rd)return 1;for(;;){wl=u-I,a[h]<T?(Xi=0,Yi=a[h]):a[h]>T?(Xi=qi[Cl+a[h]],Yi=k[q+a[h]]):(Xi=96,Yi=0),x=1<<u-I,S=1<<y,f=S;do S-=x,o[C+(w>>I)+S]=wl<<24|Xi<<16|Yi|0;while(S!==0);for(x=1<<u-1;w&x;)x>>=1;if(x!==0?(w&=x-1,w+=x):w=0,h++,--ve[u]===0){if(u===d)break;u=r[i+a[h]]}if(u>v&&(w&p)!==O){for(I===0&&(I=v),C+=f,y=u-I,m=1<<y;y+I<d&&(m-=ve[y+I],!(m<=0));)y++,m<<=1;if(_+=1<<y,t===oa&&_>td||t===nd&&_>rd)return 1;O=w&p,o[O]=v<<24|y<<16|C-s|0}}return w!==0&&(o[C+w]=u-I<<24|64<<16|0),c.bits=v,0}});var jd=E(Ne=>{"use strict";var Ie=nt(),fa=qs(),qe=Xs(),kv=Qf(),Mi=sd(),Ov=0,kd=1,Od=2,ad=4,Mv=5,Wn=6,Kt=0,Nv=1,Rv=2,Te=-2,Md=-3,da=-4,Uv=-5,ld=8,Nd=1,ud=2,cd=3,fd=4,dd=5,hd=6,pd=7,gd=8,md=9,_d=10,Yn=11,at=12,sa=13,vd=14,aa=15,xd=16,yd=17,bd=18,Sd=19,qn=20,Xn=21,Ed=22,Id=23,Cd=24,wd=25,Ad=26,la=27,Td=28,Fd=29,Y=30,ha=31,Bv=32,Lv=852,Gv=592,jv=15,Vv=jv;function Dd(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function Hv(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ie.Buf16(320),this.work=new Ie.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rd(e){var t;return!e||!e.state?Te:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Nd,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ie.Buf32(Lv),t.distcode=t.distdyn=new Ie.Buf32(Gv),t.sane=1,t.back=-1,Kt)}function Ud(e){var t;return!e||!e.state?Te:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,Rd(e))}function Bd(e,t){var r,i;return!e||!e.state||(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Te:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,Ud(e))}function Ld(e,t){var r,i;return e?(i=new Hv,e.state=i,i.window=null,r=Bd(e,t),r!==Kt&&(e.state=null),r):Te}function zv(e){return Ld(e,Vv)}var Pd=!0,ua,ca;function Zv(e){if(Pd){var t;for(ua=new Ie.Buf32(512),ca=new Ie.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mi(kd,e.lens,0,288,ua,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mi(Od,e.lens,0,32,ca,0,e.work,{bits:5}),Pd=!1}e.lencode=ua,e.lenbits=9,e.distcode=ca,e.distbits=5}function Gd(e,t,r,i){var n,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Ie.Buf8(o.wsize)),i>=o.wsize?(Ie.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>i&&(n=i),Ie.arraySet(o.window,t,r-i,n,o.wnext),i-=n,i?(Ie.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function Wv(e,t){var r,i,n,o,s,a,c,l,u,h,f,d,v,y,I=0,m,_,w,x,S,O,p,C,k=new Ie.Buf8(4),q,T,ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Te;r=e.state,r.mode===at&&(r.mode=sa),s=e.next_out,n=e.output,c=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,l=r.hold,u=r.bits,h=a,f=c,C=Kt;e:for(;;)switch(r.mode){case Nd:if(r.wrap===0){r.mode=sa;break}for(;u<16;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(r.wrap&2&&l===35615){r.check=0,k[0]=l&255,k[1]=l>>>8&255,r.check=qe(r.check,k,2,0),l=0,u=0,r.mode=ud;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=Y;break}if((l&15)!==ld){e.msg="unknown compression method",r.mode=Y;break}if(l>>>=4,u-=4,p=(l&15)+8,r.wbits===0)r.wbits=p;else if(p>r.wbits){e.msg="invalid window size",r.mode=Y;break}r.dmax=1<<p,e.adler=r.check=1,r.mode=l&512?_d:at,l=0,u=0;break;case ud:for(;u<16;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(r.flags=l,(r.flags&255)!==ld){e.msg="unknown compression method",r.mode=Y;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Y;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&(k[0]=l&255,k[1]=l>>>8&255,r.check=qe(r.check,k,2,0)),l=0,u=0,r.mode=cd;case cd:for(;u<32;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.head&&(r.head.time=l),r.flags&512&&(k[0]=l&255,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,r.check=qe(r.check,k,4,0)),l=0,u=0,r.mode=fd;case fd:for(;u<16;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&(k[0]=l&255,k[1]=l>>>8&255,r.check=qe(r.check,k,2,0)),l=0,u=0,r.mode=dd;case dd:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&(k[0]=l&255,k[1]=l>>>8&255,r.check=qe(r.check,k,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=hd;case hd:if(r.flags&1024&&(d=r.length,d>a&&(d=a),d&&(r.head&&(p=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Ie.arraySet(r.head.extra,i,o,d,p)),r.flags&512&&(r.check=qe(r.check,i,d,o)),a-=d,o+=d,r.length-=d),r.length))break e;r.length=0,r.mode=pd;case pd:if(r.flags&2048){if(a===0)break e;d=0;do p=i[o+d++],r.head&&p&&r.length<65536&&(r.head.name+=String.fromCharCode(p));while(p&&d<a);if(r.flags&512&&(r.check=qe(r.check,i,d,o)),a-=d,o+=d,p)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=gd;case gd:if(r.flags&4096){if(a===0)break e;d=0;do p=i[o+d++],r.head&&p&&r.length<65536&&(r.head.comment+=String.fromCharCode(p));while(p&&d<a);if(r.flags&512&&(r.check=qe(r.check,i,d,o)),a-=d,o+=d,p)break e}else r.head&&(r.head.comment=null);r.mode=md;case md:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(l!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Y;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=at;break;case _d:for(;u<32;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}e.adler=r.check=Dd(l),l=0,u=0,r.mode=Yn;case Yn:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=u,Rv;e.adler=r.check=1,r.mode=at;case at:if(t===Mv||t===Wn)break e;case sa:if(r.last){l>>>=u&7,u-=u&7,r.mode=la;break}for(;u<3;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}switch(r.last=l&1,l>>>=1,u-=1,l&3){case 0:r.mode=vd;break;case 1:if(Zv(r),r.mode=qn,t===Wn){l>>>=2,u-=2;break e}break;case 2:r.mode=yd;break;case 3:e.msg="invalid block type",r.mode=Y}l>>>=2,u-=2;break;case vd:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Y;break}if(r.length=l&65535,l=0,u=0,r.mode=aa,t===Wn)break e;case aa:r.mode=xd;case xd:if(d=r.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break e;Ie.arraySet(n,i,o,d,s),a-=d,o+=d,c-=d,s+=d,r.length-=d;break}r.mode=at;break;case yd:for(;u<14;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(r.nlen=(l&31)+257,l>>>=5,u-=5,r.ndist=(l&31)+1,l>>>=5,u-=5,r.ncode=(l&15)+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Y;break}r.have=0,r.mode=bd;case bd:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.lens[ve[r.have++]]=l&7,l>>>=3,u-=3}for(;r.have<19;)r.lens[ve[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},C=Mi(Ov,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,C){e.msg="invalid code lengths set",r.mode=Y;break}r.have=0,r.mode=Sd;case Sd:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[l&(1<<r.lenbits)-1],m=I>>>24,_=I>>>16&255,w=I&65535,!(m<=u);){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(w<16)l>>>=m,u-=m,r.lens[r.have++]=w;else{if(w===16){for(T=m+2;u<T;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(l>>>=m,u-=m,r.have===0){e.msg="invalid bit length repeat",r.mode=Y;break}p=r.lens[r.have-1],d=3+(l&3),l>>>=2,u-=2}else if(w===17){for(T=m+3;u<T;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}l>>>=m,u-=m,p=0,d=3+(l&7),l>>>=3,u-=3}else{for(T=m+7;u<T;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}l>>>=m,u-=m,p=0,d=11+(l&127),l>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Y;break}for(;d--;)r.lens[r.have++]=p}}if(r.mode===Y)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Y;break}if(r.lenbits=9,q={bits:r.lenbits},C=Mi(kd,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,C){e.msg="invalid literal/lengths set",r.mode=Y;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},C=Mi(Od,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,C){e.msg="invalid distances set",r.mode=Y;break}if(r.mode=qn,t===Wn)break e;case qn:r.mode=Xn;case Xn:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=u,kv(e,f),s=e.next_out,n=e.output,c=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,l=r.hold,u=r.bits,r.mode===at&&(r.back=-1);break}for(r.back=0;I=r.lencode[l&(1<<r.lenbits)-1],m=I>>>24,_=I>>>16&255,w=I&65535,!(m<=u);){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(_&&!(_&240)){for(x=m,S=_,O=w;I=r.lencode[O+((l&(1<<x+S)-1)>>x)],m=I>>>24,_=I>>>16&255,w=I&65535,!(x+m<=u);){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}l>>>=x,u-=x,r.back+=x}if(l>>>=m,u-=m,r.back+=m,r.length=w,_===0){r.mode=Ad;break}if(_&32){r.back=-1,r.mode=at;break}if(_&64){e.msg="invalid literal/length code",r.mode=Y;break}r.extra=_&15,r.mode=Ed;case Ed:if(r.extra){for(T=r.extra;u<T;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Id;case Id:for(;I=r.distcode[l&(1<<r.distbits)-1],m=I>>>24,_=I>>>16&255,w=I&65535,!(m<=u);){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(!(_&240)){for(x=m,S=_,O=w;I=r.distcode[O+((l&(1<<x+S)-1)>>x)],m=I>>>24,_=I>>>16&255,w=I&65535,!(x+m<=u);){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}l>>>=x,u-=x,r.back+=x}if(l>>>=m,u-=m,r.back+=m,_&64){e.msg="invalid distance code",r.mode=Y;break}r.offset=w,r.extra=_&15,r.mode=Cd;case Cd:if(r.extra){for(T=r.extra;u<T;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Y;break}r.mode=wd;case wd:if(c===0)break e;if(d=f-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Y;break}d>r.wnext?(d-=r.wnext,v=r.wsize-d):v=r.wnext-d,d>r.length&&(d=r.length),y=r.window}else y=n,v=s-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do n[s++]=y[v++];while(--d);r.length===0&&(r.mode=Xn);break;case Ad:if(c===0)break e;n[s++]=r.length,c--,r.mode=Xn;break;case la:if(r.wrap){for(;u<32;){if(a===0)break e;a--,l|=i[o++]<<u,u+=8}if(f-=c,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?qe(r.check,n,f,s-f):fa(r.check,n,f,s-f)),f=c,(r.flags?l:Dd(l))!==r.check){e.msg="incorrect data check",r.mode=Y;break}l=0,u=0}r.mode=Td;case Td:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,l+=i[o++]<<u,u+=8}if(l!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Y;break}l=0,u=0}r.mode=Fd;case Fd:C=Nv;break e;case Y:C=Md;break e;case ha:return da;case Bv:default:return Te}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<Y&&(r.mode<la||t!==ad))&&Gd(e,e.output,e.next_out,f-e.avail_out)?(r.mode=ha,da):(h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?qe(r.check,n,f,e.next_out-f):fa(r.check,n,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===at?128:0)+(r.mode===qn||r.mode===aa?256:0),(h===0&&f===0||t===ad)&&C===Kt&&(C=Uv),C)}function qv(e){if(!e||!e.state)return Te;var t=e.state;return t.window&&(t.window=null),e.state=null,Kt}function Xv(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?Te:(r.head=t,t.done=!1,Kt)}function Yv(e,t){var r=t.length,i,n,o;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==Yn)?Te:i.mode===Yn&&(n=1,n=fa(n,t,r,0),n!==i.check)?Md:(o=Gd(e,t,r,r),o?(i.mode=ha,da):(i.havedict=1,Kt))}Ne.inflateReset=Ud;Ne.inflateReset2=Bd;Ne.inflateResetKeep=Rd;Ne.inflateInit=zv;Ne.inflateInit2=Ld;Ne.inflate=Wv;Ne.inflateEnd=qv;Ne.inflateGetHeader=Xv;Ne.inflateSetDictionary=Yv;Ne.inflateInfo="pako inflate (from Nodeca project)"});var pa=E((VC,Vd)=>{"use strict";Vd.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var zd=E((HC,Hd)=>{"use strict";function Kv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Hd.exports=Kv});var Wd=E(Ri=>{"use strict";var Mr=jd(),Ni=nt(),Kn=Qs(),J=pa(),ga=Un(),$v=ea(),Jv=zd(),Zd=Object.prototype.toString;function $t(e){if(!(this instanceof $t))return new $t(e);this.options=Ni.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $v,this.strm.avail_out=0;var r=Mr.inflateInit2(this.strm,t.windowBits);if(r!==J.Z_OK)throw new Error(ga[r]);if(this.header=new Jv,Mr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Kn.string2buf(t.dictionary):Zd.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Mr.inflateSetDictionary(this.strm,t.dictionary),r!==J.Z_OK)))throw new Error(ga[r])}$t.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n=this.options.dictionary,o,s,a,c,l,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?J.Z_FINISH:J.Z_NO_FLUSH,typeof e=="string"?r.input=Kn.binstring2buf(e):Zd.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ni.Buf8(i),r.next_out=0,r.avail_out=i),o=Mr.inflate(r,J.Z_NO_FLUSH),o===J.Z_NEED_DICT&&n&&(o=Mr.inflateSetDictionary(this.strm,n)),o===J.Z_BUF_ERROR&&u===!0&&(o=J.Z_OK,u=!1),o!==J.Z_STREAM_END&&o!==J.Z_OK)return this.onEnd(o),this.ended=!0,!1;r.next_out&&(r.avail_out===0||o===J.Z_STREAM_END||r.avail_in===0&&(s===J.Z_FINISH||s===J.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=Kn.utf8border(r.output,r.next_out),c=r.next_out-a,l=Kn.buf2string(r.output,a),r.next_out=c,r.avail_out=i-c,c&&Ni.arraySet(r.output,r.output,a,c,0),this.onData(l)):this.onData(Ni.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(u=!0)}while((r.avail_in>0||r.avail_out===0)&&o!==J.Z_STREAM_END);return o===J.Z_STREAM_END&&(s=J.Z_FINISH),s===J.Z_FINISH?(o=Mr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===J.Z_OK):(s===J.Z_SYNC_FLUSH&&(this.onEnd(J.Z_OK),r.avail_out=0),!0)};$t.prototype.onData=function(e){this.chunks.push(e)};$t.prototype.onEnd=function(e){e===J.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ni.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ma(e,t){var r=new $t(t);if(r.push(e,!0),r.err)throw r.msg||ga[r.err];return r.result}function Qv(e,t){return t=t||{},t.raw=!0,ma(e,t)}Ri.Inflate=$t;Ri.inflate=ma;Ri.inflateRaw=Qv;Ri.ungzip=ma});var Yd=E((ZC,Xd)=>{"use strict";var ex=nt().assign,tx=$f(),rx=Wd(),ix=pa(),qd={};ex(qd,tx,rx,ix);Xd.exports=qd});var $d=E(Jn=>{"use strict";var nx=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",ox=Yd(),Kd=$(),$n=Ee(),sx=nx?"uint8array":"array";Jn.magic="\b\0";function Jt(e,t){$n.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}Kd.inherits(Jt,$n);Jt.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(Kd.transformTo(sx,e.data),!1)};Jt.prototype.flush=function(){$n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};Jt.prototype.cleanUp=function(){$n.prototype.cleanUp.call(this),this._pako=null};Jt.prototype._createPako=function(){this._pako=new ox[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};Jn.compressWorker=function(e){return new Jt("Deflate",e)};Jn.uncompressWorker=function(){return new Jt("Inflate",{})}});var va=E(_a=>{"use strict";var Jd=Ee();_a.STORE={magic:"\0\0",compressWorker:function(){return new Jd("STORE compression")},uncompressWorker:function(){return new Jd("STORE decompression")}};_a.DEFLATE=$d()});var xa=E(Qt=>{"use strict";Qt.LOCAL_FILE_HEADER="PK";Qt.CENTRAL_FILE_HEADER="PK";Qt.CENTRAL_DIRECTORY_END="PK";Qt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Qt.ZIP64_CENTRAL_DIRECTORY_END="PK";Qt.DATA_DESCRIPTOR="PK\x07\b"});var rh=E((YC,th)=>{"use strict";var Nr=$(),Rr=Ee(),ya=Er(),Qd=kn(),Qn=xa(),W=function(e,t){var r="",i;for(i=0;i<t;i++)r+=String.fromCharCode(e&255),e=e>>>8;return r},ax=function(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16},lx=function(e){return(e||0)&63},eh=function(e,t,r,i,n,o){var s=e.file,a=e.compression,c=o!==ya.utf8encode,l=Nr.transformTo("string",o(s.name)),u=Nr.transformTo("string",ya.utf8encode(s.name)),h=s.comment,f=Nr.transformTo("string",o(h)),d=Nr.transformTo("string",ya.utf8encode(h)),v=u.length!==s.name.length,y=d.length!==h.length,I,m,_="",w="",x="",S=s.dir,O=s.date,p={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(p.crc32=e.crc32,p.compressedSize=e.compressedSize,p.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),!c&&(v||y)&&(C|=2048);var k=0,q=0;S&&(k|=16),n==="UNIX"?(q=798,k|=ax(s.unixPermissions,S)):(q=20,k|=lx(s.dosPermissions,S)),I=O.getUTCHours(),I=I<<6,I=I|O.getUTCMinutes(),I=I<<5,I=I|O.getUTCSeconds()/2,m=O.getUTCFullYear()-1980,m=m<<4,m=m|O.getUTCMonth()+1,m=m<<5,m=m|O.getUTCDate(),v&&(w=W(1,1)+W(Qd(l),4)+u,_+="up"+W(w.length,2)+w),y&&(x=W(1,1)+W(Qd(f),4)+d,_+="uc"+W(x.length,2)+x);var T="";T+=`
\0`,T+=W(C,2),T+=a.magic,T+=W(I,2),T+=W(m,2),T+=W(p.crc32,4),T+=W(p.compressedSize,4),T+=W(p.uncompressedSize,4),T+=W(l.length,2),T+=W(_.length,2);var ve=Qn.LOCAL_FILE_HEADER+T+l+_,rr=Qn.CENTRAL_FILE_HEADER+W(q,2)+T+W(f.length,2)+"\0\0\0\0"+W(k,4)+W(i,4)+l+_+f;return{fileRecord:ve,dirRecord:rr}},ux=function(e,t,r,i,n){var o="",s=Nr.transformTo("string",n(i));return o=Qn.CENTRAL_DIRECTORY_END+"\0\0\0\0"+W(e,2)+W(e,2)+W(t,4)+W(r,4)+W(s.length,2)+s,o},cx=function(e){var t="";return t=Qn.DATA_DESCRIPTOR+W(e.crc32,4)+W(e.compressedSize,4)+W(e.uncompressedSize,4),t};function Re(e,t,r,i){Rr.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}Nr.inherits(Re,Rr);Re.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,Rr.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))};Re.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=eh(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Re.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=eh(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:cx(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};Re.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=ux(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})};Re.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};Re.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(r){t.error(r)}),this};Re.prototype.resume=function(){if(!Rr.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Re.prototype.error=function(e){var t=this._sources;if(!Rr.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch{}return!0};Re.prototype.lock=function(){Rr.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};th.exports=Re});var nh=E(ih=>{"use strict";var fx=va(),dx=rh(),hx=function(e,t){var r=e||t,i=fx[r];if(!i)throw new Error(r+" is not a valid compression method !");return i};ih.generateWorker=function(e,t,r){var i=new dx(t.streamFiles,r,t.platform,t.encodeFileName),n=0;try{e.forEach(function(o,s){n++;var a=hx(s.options.compression,t.compression),c=s.options.compressionOptions||t.compressionOptions||{},l=s.dir,u=s.date;s._compressWorker(a,c).withStreamInfo("file",{name:o,dir:l,date:u,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(i)}),i.entriesCount=n}catch(o){i.error(o)}return i}});var sh=E(($C,oh)=>{"use strict";var px=$(),eo=Ee();function Ui(e,t){eo.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}px.inherits(Ui,eo);Ui.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(r){t.push({data:r,meta:{percent:0}})}).on("error",function(r){t.isPaused?this.generatedError=r:t.error(r)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})};Ui.prototype.pause=function(){return eo.prototype.pause.call(this)?(this._stream.pause(),!0):!1};Ui.prototype.resume=function(){return eo.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};oh.exports=Ui});var mh=E((JC,gh)=>{"use strict";var gx=Er(),Bi=$(),ch=Ee(),mx=Cs(),fh=ws(),ah=On(),_x=lf(),vx=nh(),lh=hi(),xx=sh(),dh=function(e,t,r){var i=Bi.getTypeOf(t),n,o=Bi.extend(r||{},fh);o.date=o.date||new Date,o.compression!==null&&(o.compression=o.compression.toUpperCase()),typeof o.unixPermissions=="string"&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&o.unixPermissions&16384&&(o.dir=!0),o.dosPermissions&&o.dosPermissions&16&&(o.dir=!0),o.dir&&(e=hh(e)),o.createFolders&&(n=yx(e))&&ph.call(this,n,!0);var s=i==="string"&&o.binary===!1&&o.base64===!1;(!r||typeof r.binary>"u")&&(o.binary=!s);var a=t instanceof ah&&t.uncompressedSize===0;(a||o.dir||!t||t.length===0)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var c=null;t instanceof ah||t instanceof ch?c=t:lh.isNode&&lh.isStream(t)?c=new xx(e,t):c=Bi.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var l=new _x(e,c,o);this.files[e]=l},yx=function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},hh=function(e){return e.slice(-1)!=="/"&&(e+="/"),e},ph=function(e,t){return t=typeof t<"u"?t:fh.createFolders,e=hh(e),this.files[e]||dh.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function uh(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var bx={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)i=this.files[t],r=t.slice(this.root.length,t.length),r&&t.slice(0,this.root.length)===this.root&&e(r,i)},filter:function(e){var t=[];return this.forEach(function(r,i){e(r,i)&&t.push(i)}),t},file:function(e,t,r){if(arguments.length===1)if(uh(e)){var i=e;return this.filter(function(o,s){return!s.dir&&i.test(o)})}else{var n=this.files[this.root+e];return n&&!n.dir?n:null}else e=this.root+e,dh.call(this,e,t,r);return this},folder:function(e){if(!e)return this;if(uh(e))return this.filter(function(n,o){return o.dir&&e.test(n)});var t=this.root+e,r=ph.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||(e.slice(-1)!=="/"&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(n,o){return o.name.slice(0,e.length)===e}),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if(r=Bi.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:gx.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");Bi.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var i=r.comment||this.comment||"";t=vx.generateWorker(this,r,i)}catch(n){t=new ch("error"),t.error(n)}return new mx(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};gh.exports=bx});var ba=E((QC,vh)=>{"use strict";var Sx=$();function _h(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}_h.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t=0,r;for(this.checkOffset(e),r=this.index+e-1;r>=this.index;r--)t=(t<<8)+this.byteAt(r);return this.index+=e,t},readString:function(e){return Sx.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))}};vh.exports=_h});var Sa=E((ew,yh)=>{"use strict";var xh=ba(),Ex=$();function Ur(e){xh.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}Ex.inherits(Ur,xh);Ur.prototype.byteAt=function(e){return this.data[this.zero+e]};Ur.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===i&&this.data[o+3]===n)return o-this.zero;return-1};Ur.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&i===o[2]&&n===o[3]};Ur.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};yh.exports=Ur});var Eh=E((tw,Sh)=>{"use strict";var bh=ba(),Ix=$();function Br(e){bh.call(this,e)}Ix.inherits(Br,bh);Br.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)};Br.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero};Br.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t};Br.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};Sh.exports=Br});var Ia=E((rw,Ch)=>{"use strict";var Ih=Sa(),Cx=$();function Ea(e){Ih.call(this,e)}Cx.inherits(Ea,Ih);Ea.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};Ch.exports=Ea});var Th=E((iw,Ah)=>{"use strict";var wh=Ia(),wx=$();function Ca(e){wh.call(this,e)}wx.inherits(Ca,wh);Ca.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};Ah.exports=Ca});var wa=E((nw,Dh)=>{"use strict";var to=$(),Fh=rt(),Ax=Sa(),Tx=Eh(),Fx=Th(),Dx=Ia();Dh.exports=function(e){var t=to.getTypeOf(e);return to.checkSupport(t),t==="string"&&!Fh.uint8array?new Tx(e):t==="nodebuffer"?new Fx(e):Fh.uint8array?new Dx(to.transformTo("uint8array",e)):new Ax(to.transformTo("array",e))}});var Mh=E((ow,Oh)=>{"use strict";var Aa=wa(),wt=$(),Px=On(),Ph=kn(),ro=Er(),io=va(),kx=rt(),Ox=0,Mx=3,Nx=function(e){for(var t in io)if(Object.prototype.hasOwnProperty.call(io,t)&&io[t].magic===e)return io[t];return null};function kh(e,t){this.options=e,this.loadOptions=t}kh.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=Nx(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+wt.pretty(this.compressionMethod)+" unknown (inner file : "+wt.transformTo("string",this.fileName)+")");this.decompressed=new Px(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===Ox&&(this.dosPermissions=this.externalFileAttributes&63),e===Mx&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=Aa(this.extraFields[1].value);this.uncompressedSize===wt.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===wt.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===wt.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===wt.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t=e.index+this.extraFieldsLength,r,i,n;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[r]={id:r,length:i,value:n};e.setIndex(t)},handleUTF8:function(){var e=kx.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ro.utf8decode(this.fileName),this.fileCommentStr=ro.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var r=wt.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(i!==null)this.fileCommentStr=i;else{var n=wt.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=Aa(e.value);return t.readInt(1)!==1||Ph(this.fileName)!==t.readInt(4)?null:ro.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=Aa(e.value);return t.readInt(1)!==1||Ph(this.fileComment)!==t.readInt(4)?null:ro.utf8decode(t.readData(e.length-5))}return null}};Oh.exports=kh});var Uh=E((sw,Rh)=>{"use strict";var Rx=wa(),lt=$(),Ue=xa(),Ux=Mh(),Bx=rt();function Nh(e){this.files=[],this.loadOptions=e}Nh.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+lt.pretty(t)+", expected "+lt.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),n=i===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=Bx.uint8array?"uint8array":"array",r=lt.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,r,i,n;t<e;)r=this.reader.readInt(2),i=this.reader.readInt(4),n=this.reader.readData(i),this.zip64ExtensibleData[r]={id:r,length:i,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(Ue.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Ue.CENTRAL_FILE_HEADER);)e=new Ux({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(Ue.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,Ue.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(Ue.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===lt.MAX_VALUE_16BITS||this.diskWithCentralDirStart===lt.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===lt.MAX_VALUE_16BITS||this.centralDirRecords===lt.MAX_VALUE_16BITS||this.centralDirSize===lt.MAX_VALUE_32BITS||this.centralDirOffset===lt.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(Ue.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(Ue.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Ue.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Ue.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Ue.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=r-i;if(n>0)this.isSignature(r,Ue.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=Rx(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};Rh.exports=Nh});var Gh=E((aw,Lh)=>{"use strict";var Ta=$(),no=yr(),Lx=Er(),Gx=Uh(),jx=Fs(),Bh=hi();function Vx(e){return new no.Promise(function(t,r){var i=e.decompressed.getContentWorker().pipe(new jx);i.on("error",function(n){r(n)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}Lh.exports=function(e,t){var r=this;return t=Ta.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Lx.utf8decode}),Bh.isNode&&Bh.isStream(e)?no.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):Ta.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(i){var n=new Gx(t);return n.load(i),n}).then(function(n){var o=[no.Promise.resolve(n)],s=n.files;if(t.checkCRC32)for(var a=0;a<s.length;a++)o.push(Vx(s[a]));return no.Promise.all(o)}).then(function(n){for(var o=n.shift(),s=o.files,a=0;a<s.length;a++){var c=s[a],l=c.fileNameStr,u=Ta.resolve(c.fileNameStr);r.file(u,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:t.createFolders}),c.dir||(r.file(u).unsafeOriginalName=l)}return o.zipComment.length&&(r.comment=o.zipComment),r})}});var Vh=E((lw,jh)=>{"use strict";function Fe(){if(!(this instanceof Fe))return new Fe;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new Fe;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e}}Fe.prototype=mh();Fe.prototype.loadAsync=Gh();Fe.support=rt();Fe.defaults=ws();Fe.version="3.10.1";Fe.loadAsync=function(e,t){return new Fe().loadAsync(e,t)};Fe.external=yr();jh.exports=Fe});var cu=(()=>{let t=class t{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(n){return new(n||t)(N(Kr),N(Mt))},t.\u0275dir=be({type:t});let e=t;return e})(),ln=(()=>{let t=class t extends cu{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=nr(t)))(o||t)}})(),t.\u0275dir=be({type:t,features:[$e]});let e=t;return e})(),ri=new ir("");var Tg={provide:ri,useExisting:kt(()=>cr),multi:!0};function Fg(){let e=Po()?Po().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Dg=new ir(""),cr=(()=>{let t=class t extends cu{constructor(i,n,o){super(i,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Fg())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(n){return new(n||t)(N(Kr),N(Mt),N(Dg,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&B("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Bt([Tg]),$e]});let e=t;return e})();function eu(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var fu=new ir(""),Pg=new ir("");function kg(e){return t=>{if(eu(t.value)||eu(e))return null;let r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function tu(e){return null}function du(e){return e!=null}function hu(e){return zl(e)?Al(e):e}function pu(e){let t={};return e.forEach(r=>{t=r!=null?Ce(Ce({},t),r):t}),Object.keys(t).length===0?null:t}function gu(e,t){return t.map(r=>r(e))}function Og(e){return!e.validate}function mu(e){return e.map(t=>Og(t)?t:r=>t.validate(r))}function Mg(e){if(!e)return null;let t=e.filter(du);return t.length==0?null:function(r){return pu(gu(r,t))}}function _u(e){return e!=null?Mg(mu(e)):null}function Ng(e){if(!e)return null;let t=e.filter(du);return t.length==0?null:function(r){let i=gu(r,t).map(hu);return Dl(i).pipe(Fl(pu))}}function vu(e){return e!=null?Ng(mu(e)):null}function ru(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rg(e){return e._rawValidators}function Ug(e){return e._rawAsyncValidators}function Oo(e){return e?Array.isArray(e)?e:[e]:[]}function on(e,t){return Array.isArray(e)?e.includes(t):e===t}function iu(e,t){let r=Oo(t);return Oo(e).forEach(n=>{on(r,n)||r.push(n)}),r}function nu(e,t){return Oo(t).filter(r=>!on(e,r))}var sn=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_u(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},Mo=class extends sn{get formDirective(){return null}get path(){return null}},ti=class extends sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},No=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Bg={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZI=Le(Ce({},Bg),{"[class.ng-submitted]":"isSubmitted"}),un=(()=>{let t=class t extends No{constructor(i){super(i)}};t.\u0275fac=function(n){return new(n||t)(N(ti,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&Ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$e]});let e=t;return e})();var $r="VALID",nn="INVALID",ar="PENDING",Jr="DISABLED",ur=class{},an=class extends ur{constructor(t,r){super(),this.value=t,this.source=r}},Qr=class extends ur{constructor(t,r){super(),this.pristine=t,this.source=r}},ei=class extends ur{constructor(t,r){super(),this.touched=t,this.source=r}},lr=class extends ur{constructor(t,r){super(),this.status=t,this.source=r}};function Lg(e){return(cn(e)?e.validators:e)||null}function Gg(e){return Array.isArray(e)?_u(e):e||null}function jg(e,t){return(cn(t)?t.asyncValidators:e)||null}function Vg(e){return Array.isArray(e)?vu(e):e||null}function cn(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Ro=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=tn(()=>this.statusReactive()),this.statusReactive=Ki(void 0),this._pristine=tn(()=>this.pristineReactive()),this.pristineReactive=Ki(!0),this._touched=tn(()=>this.touchedReactive()),this.touchedReactive=Ki(!1),this._events=new Xr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(t){Lt(()=>this.statusReactive.set(t))}get valid(){return this.status===$r}get invalid(){return this.status===nn}get pending(){return this.status==ar}get disabled(){return this.status===Jr}get enabled(){return this.status!==Jr}get pristine(){return Lt(this.pristineReactive)}set pristine(t){Lt(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(t){Lt(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(iu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(iu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(nu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(nu(t,this._rawAsyncValidators))}hasValidator(t){return on(this._rawValidators,t)}hasAsyncValidator(t){return on(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let r=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Le(Ce({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new ei(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),r&&t.emitEvent!==!1&&this._events.next(new ei(!1,i))}markAsDirty(t={}){let r=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Le(Ce({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new Qr(!1,i))}markAsPristine(t={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&t.emitEvent!==!1&&this._events.next(new Qr(!0,i))}markAsPending(t={}){this.status=ar;let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new lr(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Le(Ce({},t),{sourceControl:r}))}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=Jr,this.errors=null,this._forEachChild(n=>{n.disable(Le(Ce({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new an(this.value,i)),this._events.next(new lr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Le(Ce({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=$r,this._forEachChild(i=>{i.enable(Le(Ce({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Le(Ce({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$r||this.status===ar)&&this._runAsyncValidator(i,t.emitEvent)}let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new an(this.value,r)),this._events.next(new lr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Le(Ce({},t),{sourceControl:r}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jr:$r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=ar,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let i=hu(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((i,n)=>i&&i._find(n),this)}getError(t,r){let i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new lr(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?Jr:this.errors?nn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ar)?ar:this._anyControlsHaveStatus(nn)?nn:$r}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&this._events.next(new Qr(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new ei(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cn(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Gg(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Vg(this._rawAsyncValidators)}};var xu=new ir("CallSetDisabledState",{providedIn:"root",factory:()=>Uo}),Uo="always";function Hg(e,t){return[...t.path,e]}function zg(e,t,r=Uo){Wg(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),qg(e,t),Yg(e,t),Xg(e,t),Zg(e,t)}function ou(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function Zg(e,t){if(t.valueAccessor.setDisabledState){let r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function Wg(e,t){let r=Rg(e);t.validator!==null?e.setValidators(ru(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let i=Ug(e);t.asyncValidator!==null?e.setAsyncValidators(ru(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let n=()=>e.updateValueAndValidity();ou(t._rawValidators,n),ou(t._rawAsyncValidators,n)}function qg(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&yu(e,t)})}function Xg(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&yu(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function yu(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Yg(e,t){let r=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function Kg(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function $g(e){return Object.getPrototypeOf(e.constructor)===ln}function Jg(e,t){if(!t)return null;Array.isArray(t);let r,i,n;return t.forEach(o=>{o.constructor===cr?r=o:$g(o)?i=o:n=o}),n||i||r||null}function su(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function au(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Qg=class extends Ro{constructor(t=null,r,i){super(Lg(r),jg(i,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cn(r)&&(r.nonNullable||r.initialValueIsDefault)&&(au(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){su(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){su(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){au(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var em={provide:ti,useExisting:kt(()=>ii)},lu=Promise.resolve(),ii=(()=>{let t=class t extends ti{constructor(i,n,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Qg,this._registered=!1,this.name="",this.update=new H,this._parent=i,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Jg(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Kg(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){lu.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,o=n!==0&&Wl(n);lu.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Hg(i,this._parent):[i]}};t.\u0275fac=function(n){return new(n||t)(N(Mo,9),N(fu,10),N(Pg,10),N(ri,10),N(Zl,8),N(xu,8))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([em]),$e,Yr]});let e=t;return e})();var tm={provide:ri,useExisting:kt(()=>ni),multi:!0},ni=(()=>{let t=class t extends ln{writeValue(i){let n=i??"";this.setProperty("value",n)}registerOnChange(i){this.onChange=n=>{i(n==""?null:parseFloat(n))}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=nr(t)))(o||t)}})(),t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,o){n&1&&B("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Bt([tm]),$e]});let e=t;return e})();var rm={provide:ri,useExisting:kt(()=>fn),multi:!0};function bu(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function im(e){return e.split(":")[0]}var fn=(()=>{let t=class t extends ln{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let n=this._getOptionId(i),o=bu(n,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=n=>{this.value=this._getOptionValue(n),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),i))return n;return null}_getOptionValue(i){let n=im(i);return this._optionMap.has(n)?this._optionMap.get(n):i}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=nr(t)))(o||t)}})(),t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,o){n&1&&B("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([rm]),$e]});let e=t;return e})(),Su=(()=>{let t=class t{constructor(i,n,o){this._element=i,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(bu(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(n){return new(n||t)(N(Mt),N(Kr),N(fn,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),nm={provide:ri,useExisting:kt(()=>Eu),multi:!0};function uu(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function om(e){return e.split(":")[0]}var Eu=(()=>{let t=class t extends ln{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let n;if(Array.isArray(i)){let o=i.map(s=>this._getOptionId(s));n=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else n=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(i){this.onChange=n=>{let o=[],s=n.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=n.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,i(o)}}_registerOption(i){let n=(this._idCounter++).toString();return this._optionMap.set(n,i),n}_getOptionId(i){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,i))return n;return null}_getOptionValue(i){let n=om(i);return this._optionMap.has(n)?this._optionMap.get(n)._value:i}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=nr(t)))(o||t)}})(),t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,o){n&1&&B("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([nm]),$e]});let e=t;return e})(),Iu=(()=>{let t=class t{constructor(i,n,o){this._element=i,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(uu(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(uu(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(n){return new(n||t)(N(Mt),N(Kr),N(Eu,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();function sm(e){return typeof e=="number"?e:parseFloat(e)}var am=(()=>{let t=class t{constructor(){this._validator=tu}ngOnChanges(i){if(this.inputName in i){let n=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):tu,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=be({type:t,features:[Yr]});let e=t;return e})();var lm={provide:fu,useExisting:kt(()=>Bo),multi:!0},Bo=(()=>{let t=class t extends am{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>sm(i),this.createValidator=i=>kg(i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=nr(t)))(o||t)}})(),t.\u0275dir=be({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){n&2&&Ol("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Bt([lm]),$e]});let e=t;return e})();var um=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=Ye({});let e=t;return e})();var Cu=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:xu,useValue:i.callSetDisabledState??Uo}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=Ye({imports:[um]});let e=t;return e})();var Sl=Ag(Vh());var Lr=class{constructor(t){if(Hx(t))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=t,this.byteLength=this.buffer.length}getUint8(t){return this.buffer.readUInt8(t)}getUint16(t,r){return r?this.buffer.readUInt16LE(t):this.buffer.readUInt16BE(t)}getUint32(t,r){return r?this.buffer.readUInt32LE(t):this.buffer.readUInt32BE(t)}getInt32(t,r){return r?this.buffer.readInt32LE(t):this.buffer.readInt32BE(t)}};function Hx(e){return typeof e!="object"||e.length===void 0||e.readUInt8===void 0||e.readUInt16LE===void 0||e.readUInt16BE===void 0||e.readUInt32LE===void 0||e.readUInt32BE===void 0||e.readInt32LE===void 0||e.readInt32BE===void 0}function Fa(e,t,r){try{return new DataView(e,t,r)}catch{return new Lr(e,t,r)}}function A(e,t,r){let i=[];for(let n=0;n<r&&t+n<e.byteLength;n++)i.push(e.getUint8(t+n));return Tt(i)}function At(e,t){let r=[],i=0;for(;t+i<e.byteLength;){let n=e.getUint8(t+i);if(n===0)break;r.push(n),i++}return Tt(r)}function Hh(e,t,r){let i=[];for(let n=0;n<r&&t+n<e.byteLength;n+=2)i.push(e.getUint16(t+n));return i[i.length-1]===0&&i.pop(),Tt(i)}function oo(e,t){let r=e.getUint8(t),i=A(e,t+1,r);return[r,i]}function Tt(e){return e.map(t=>String.fromCharCode(t)).join("")}function M(){for(let e=1;e<arguments.length;e++)for(let t in arguments[e])arguments[0][t]=arguments[e][t];return arguments[0]}function so(e,t,r){let i=!1;Object.defineProperty(e,t,{get(){return i||(i=!0,Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:r.apply(e),writable:!0})),e[t]},configurable:!0,enumerable:!0})}function ao(e){if(typeof btoa<"u")return btoa(typeof e=="string"?e:Array.prototype.reduce.call(new Uint8Array(e),(t,r)=>t+String.fromCharCode(r),""));if(!(typeof Buffer>"u"))return typeof Buffer.from<"u"?Buffer.from(e).toString("base64"):new Buffer(e).toString("base64")}function zh(e){let t=e.substring(e.indexOf(",")+1);if(e.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(t),i=>i.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from<"u"?Buffer.from(t,"base64"):new Buffer(t,"base64");let r=decodeURIComponent(t);return typeof Buffer<"u"?typeof Buffer.from<"u"?Buffer.from(r):new Buffer(r):Uint8Array.from(r,i=>i.charCodeAt(0)).buffer}function Zh(e,t,r){return Da(r,t-e.length)+e}function Wh(e,t){return parseInt(e.replace(".",""),t)/Math.pow(t,(e.split(".")[1]||"").length)}function Da(e,t){return new Array(t+1).join(e)}var Gr=void 0,Pa=0;function lo(e,t,r,i="string"){if(t===Pa&&typeof DecompressionStream=="function"){let n=new DecompressionStream("deflate"),o=new Blob([e]).stream().pipeThrough(n);return i==="dataview"?new Response(o).arrayBuffer().then(s=>new DataView(s)):new Response(o).arrayBuffer().then(s=>new TextDecoder(r).decode(s))}return t!==void 0?Promise.reject(`Unknown compression method ${t}.`):e}var b={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0};function K(e){return e.map(t=>String.fromCharCode(t)).join("")}function Li(e){if(e.length>=8){let t=K(e.slice(0,8));if(t==="ASCII\0\0\0")return K(e.slice(8));if(t==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(t==="UNICODE\0")return"[Unicode encoded text]";if(t==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function jr(e){return e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600}var Be={BIG_ENDIAN:19789,LITTLE_ENDIAN:18761,getByteOrder:zx};function zx(e,t){if(e.getUint16(t)===18761)return 18761;if(e.getUint16(t)===19789)return 19789;throw new Error("Illegal byte order value. Faulty image.")}var ka={isTiffFile:Zx,findTiffOffsets:qx};function Zx(e){return!!e&&e.byteLength>=4&&Wx(e)}function Wx(e){let i=e.getUint16(0)===Be.LITTLE_ENDIAN;return e.getUint16(2,i)===42}function qx(){return b.USE_EXIF?{hasAppMarkers:!0,tiffHeaderOffset:0}:{}}var Ma={isJpegFile:uy,findJpegOffsets:cy},Xx=2,Yx=65496,qh=2,De=4,ue=2,Kx=2,$x=10,Jx=18,Xh=33,Yh=79,Kh=18,Qx=8,Oa="ICC_PROFILE\0",ip=De+Oa.length,ey=ip+1,$h="MPF\0",np=65472,op=65474,ty=65476,ry=65499,iy=65501,ny=65498,sp=65504,Na=65505,ap=65506,oy=65517,sy=65519,ay=65534,ly=65535,Jh="JFIF",Qh="Exif",ep="http://ns.adobe.com/xap/1.0/\0",tp="http://ns.adobe.com/xmp/extension/\0",rp="Photoshop 3.0";function uy(e){return!!e&&e.byteLength>=Xx&&e.getUint16(0)===Yx}function cy(e){let t=qh,r,i,n,o,s,a,c,l,u;for(;t+De+5<=e.byteLength;){if(b.USE_FILE&&fy(e,t))r=e.getUint16(t+ue),i=t+ue;else if(b.USE_FILE&&dy(e,t))r=e.getUint16(t+ue),n=t+ue;else if(b.USE_JFIF&&gy(e,t))r=e.getUint16(t+ue),o=t+Kx;else if(b.USE_EXIF&&my(e,t))r=e.getUint16(t+ue),s=t+$x;else if(b.USE_XMP&&_y(e,t))c||(c=[]),r=e.getUint16(t+ue),c.push(by(t,r));else if(b.USE_XMP&&xy(e,t))c||(c=[]),r=e.getUint16(t+ue),c.push(Sy(t,r));else if(b.USE_IPTC&&Ey(e,t))r=e.getUint16(t+ue),a=t+Jx;else if(b.USE_ICC&&hy(e,t)){r=e.getUint16(t+ue);let h=t+Kh,f=r-(Kh-ue),d=e.getUint8(t+ip),v=e.getUint8(t+ey);l||(l=[]),l.push({offset:h,length:f,chunkNumber:d,chunksTotal:v})}else if(b.USE_MPF&&py(e,t))r=e.getUint16(t+ue),u=t+Qx;else if(Iy(e,t))r=e.getUint16(t+ue);else if(Cy(e,t)){t++;continue}else break;t+=ue+r}return{hasAppMarkers:t>qh,fileDataOffset:i||n,jfifDataOffset:o,tiffHeaderOffset:s,iptcDataOffset:a,xmpChunks:c,iccChunks:l,mpfDataOffset:u}}function fy(e,t){return e.getUint16(t)===np}function dy(e,t){return e.getUint16(t)===op}function hy(e,t){let r=Oa.length;return e.getUint16(t)===ap&&A(e,t+De,r)===Oa}function py(e,t){let r=$h.length;return e.getUint16(t)===ap&&A(e,t+De,r)===$h}function gy(e,t){let r=Jh.length;return e.getUint16(t)===sp&&A(e,t+De,r)===Jh&&e.getUint8(t+De+r)===0}function my(e,t){let r=Qh.length;return e.getUint16(t)===Na&&A(e,t+De,r)===Qh&&e.getUint8(t+De+r)===0}function _y(e,t){return e.getUint16(t)===Na&&vy(e,t)}function vy(e,t){let r=ep.length;return A(e,t+De,r)===ep}function xy(e,t){return e.getUint16(t)===Na&&yy(e,t)}function yy(e,t){let r=tp.length;return A(e,t+De,r)===tp}function by(e,t){return{dataOffset:e+Xh,length:t-(Xh-ue)}}function Sy(e,t){return{dataOffset:e+Yh,length:t-(Yh-ue)}}function Ey(e,t){let r=rp.length;return e.getUint16(t)===oy&&A(e,t+De,r)===rp&&e.getUint8(t+De+r)===0}function Iy(e,t){let r=e.getUint16(t);return r>=sp&&r<=sy||r===ay||r===np||r===op||r===ty||r===ry||r===iy||r===ny}function Cy(e,t){return e.getUint16(t)===ly}var Ba={isPngFile:Ty,findPngOffsets:Fy},Ra=`\x89PNG\r

`,uo=4,Pe=4,er=0,ut=uo,ne=uo+Pe,Ua="XML:com.adobe.xmp\0",co="tEXt",Ft="iTXt",Gi="zTXt",La="pHYs",Ga="tIME",wy="eXIf",Ay="iCCP";function Ty(e){return!!e&&A(e,0,Ra.length)===Ra}function Fy(e,t){let i={hasAppMarkers:!1},n=Ra.length;for(;n+uo+Pe<=e.byteLength;){if(b.USE_PNG_FILE&&Dy(e,n))i.hasAppMarkers=!0,i.pngHeaderOffset=n+ne;else if(b.USE_XMP&&Py(e,n)){let o=Ry(e,n);o!==void 0&&(i.hasAppMarkers=!0,i.xmpChunks=[{dataOffset:o,length:e.getUint32(n+er)-(o-(n+ne))}])}else if(ky(e,n,t)){i.hasAppMarkers=!0;let o=A(e,n+ut,Pe);i.pngTextChunks||(i.pngTextChunks=[]),i.pngTextChunks.push({length:e.getUint32(n+er),type:o,offset:n+ne})}else if(Oy(e,n))i.hasAppMarkers=!0,i.tiffHeaderOffset=n+ne;else if(b.USE_ICC&&t&&My(e,n)){i.hasAppMarkers=!0;let o=e.getUint32(n+er),s=n+ne,{profileName:a,compressionMethod:c,compressedProfileOffset:l}=Uy(e,s);i.iccChunks||(i.iccChunks=[]),i.iccChunks.push({offset:l,length:o-(l-s),chunkNumber:1,chunksTotal:1,profileName:a,compressionMethod:c})}else Ny(e,n)&&(i.hasAppMarkers=!0,i.pngChunkOffsets||(i.pngChunkOffsets=[]),i.pngChunkOffsets.push(n+er));n+=e.getUint32(n+er)+uo+Pe+4}return i}function Dy(e,t){return A(e,t+ut,Pe)==="IHDR"}function Py(e,t){return A(e,t+ut,Pe)===Ft&&A(e,t+ne,Ua.length)===Ua}function ky(e,t,r){let i=A(e,t+ut,Pe);return i===co||i===Ft||i===Gi&&r}function Oy(e,t){return A(e,t+ut,Pe)===wy}function My(e,t){return A(e,t+ut,Pe)===Ay}function Ny(e,t){let r=[La,Ga],i=A(e,t+ut,Pe);return r.includes(i)}function Ry(e,t){t+=ne+Ua.length+1+1;let n=0;for(;n<2&&t<e.byteLength;)e.getUint8(t)===0&&n++,t++;if(!(n<2))return t}function Uy(e,t){let n=At(e,t);t+=n.length+1;let o=e.getUint8(t);return t+=1,{profileName:n,compressionMethod:o,compressedProfileOffset:t}}function lp(e,t){return e.getUint32(t+4)}function up(e,t,r,i){let{offsets:o,sizes:s}=By(t,r+3),a=e.getUint8(o.offsetSize)>>4;s.item.extent.extentOffset=a;let c=e.getUint8(o.lengthSize)&15;s.item.extent.extentLength=c;let l=e.getUint8(o.baseOffsetSize)>>4;s.item.baseOffset=l;let u=Ly(e,o.indexSize,t);s.item.extent.extentIndex=u!==void 0?u:0;let h=Gy(e,o.itemCount,t);return{type:"iloc",items:jy(e,t,o,s,a,c,u,h),length:i}}function By(e,t){let r={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};e<2?(r.itemCount=2,r.item.itemId=2):e===2&&(r.itemCount=4,r.item.itemId=4),e===1||e===2?r.item.constructionMethod=2:r.item.constructionMethod=0;let i={offsetSize:t,lengthSize:t,baseOffsetSize:t+1,indexSize:t+1};return i.itemCount=t+2,i.items=i.itemCount+r.itemCount,i.item={itemId:0},i.item.constructionMethod=i.item.itemId+r.item.itemId,i.item.dataReferenceIndex=i.item.constructionMethod+r.item.constructionMethod,{offsets:i,sizes:r}}function Ly(e,t,r){if(r===1||r===2)return e.getUint8(t)&15}function Gy(e,t,r){if(r<2)return e.getUint16(t);if(r===2)return e.getUint32(t)}function jy(e,t,r,i,n,o,s,a){if(a===void 0)return[];let c=[],l=r.items;for(let u=0;u<a;u++){let h={extents:[]};h.itemId=Vy(e,l,t),l+=i.item.itemId,h.constructionMethod=t===1||t===2?e.getUint16(l)&15:void 0,l+=i.item.constructionMethod,h.dataReferenceIndex=e.getUint16(l),l+=i.item.dataReferenceIndex,h.baseOffset=fo(e,l,i.item.baseOffset),l+=i.item.baseOffset,h.extentCount=e.getUint16(l),l+=i.item.extentCount;for(let f=0;f<h.extentCount;f++){let d={};d.extentIndex=Hy(e,t,l,s),l+=i.item.extent.extentIndex,d.extentOffset=fo(e,l,n),l+=i.item.extent.extentOffset,d.extentLength=fo(e,l,o),l+=i.item.extent.extentLength,h.extents.push(d)}c.push(h)}return c}function Vy(e,t,r){if(r<2)return e.getUint16(t);if(r===2)return e.getUint32(t)}function Hy(e,t,r,i){if((t===1||t===2)&&i>0)return fo(e,r,i)}function fo(e,t,r){return r===4?e.getUint32(t):r===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),lp(e,t)):0}var zy=1718909296,Zy=1768977008,Wy=1835365473,qy=1768714083,Xy=1768517222,Yy=1768842853,Ky=1768973167,$y=1668246642,cp=1165519206,Va=1835625829,Jy=1970432288;function Vr(e,t){let{length:o,contentOffset:s}=Qy(e,t);if(o<8)return;let a=e.getUint32(t+4);if(a===zy)return cb(e,s,o);if(a===Zy)return fb(e,t,s,o);if(a===Ky)return db(e,t,s,o);if(a===$y)return hb(e,s,o);let c=e.getUint8(s);return a===Wy?gb(e,t,s+1,o):a===qy?up(e,c,s+1,o):a===Xy?mb(e,t,c,s+1,o):a===Yy?vb(e,t,c,s+1,o):{type:void 0,length:o}}function Qy(e,t){let s=e.getUint32(t);return eb(s)?{length:e.byteLength-t,contentOffset:t+4+4}:tb(s)&&rb(e,t)?{length:e.getUint32(t+12),contentOffset:t+4+4+8}:{length:s,contentOffset:t+4+4}}function eb(e){return e===0}function tb(e){return e===1}function rb(e,t){return e.getUint32(t+8)===0}function ho(e){if(b.USE_EXIF||b.USE_XMP||b.USE_ICC){let t={},r=ib(e);return r?(b.USE_EXIF&&(t.tiffHeaderOffset=nb(e,r)),b.USE_XMP&&(t.xmpChunks=ab(r)),b.USE_ICC&&(t.iccChunks=ub(r)),t.hasAppMarkers=t.tiffHeaderOffset!==void 0||t.xmpChunks!==void 0||t.iccChunks!==void 0,t):{hasAppMarkers:!1}}return{}}function ib(e){let i=0;for(;i+4+4<=e.byteLength;){let n=Vr(e,i);if(n===void 0)break;if(n.type==="meta")return n;i+=n.length}}function nb(e,t){try{let r=ob(t).itemId,i=ja(t,r),n=i.baseOffset+i.extents[0].extentOffset;return sb(e,n)}catch{return}}function ob(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===cp)}function ja(e,t){return e.subBoxes.find(r=>r.type==="iloc").items.find(r=>r.itemId===t)}function sb(e,t){return t+4+e.getUint32(t)}function ab(e){try{let t=lb(e).itemId,r=ja(e,t),i=ja(e,t).extents[0];return[{dataOffset:r.baseOffset+i.extentOffset,length:i.extentLength}]}catch{return}}function lb(e){return e.subBoxes.find(t=>t.type==="iinf").itemInfos.find(t=>t.itemType===Va&&t.contentType==="application/rdf+xml")}function ub(e){try{let t=e.subBoxes.find(r=>r.type==="iprp").subBoxes.find(r=>r.type==="ipco").properties.find(r=>r.type==="colr").icc;if(t)return[t]}catch{}}function cb(e,t,r){return{type:"ftyp",majorBrand:A(e,t,4),length:r}}function fb(e,t,r,i){return{type:"iprp",subBoxes:po(e,r,i-(r-t)),length:i}}function db(e,t,r,i){return{type:"ipco",properties:po(e,r,i-(r-t)),length:i}}function hb(e,t,r){return{type:"colr",icc:pb(e,t),length:r}}function pb(e,t){let i=A(e,t,4);if(!(i!=="prof"&&i!=="rICC"))return{offset:t+4,length:e.getUint32(t+4),chunkNumber:1,chunksTotal:1}}function gb(e,t,r,i){return{type:"meta",subBoxes:po(e,r+3,i-(r+3-t)),length:i}}function po(e,t,r){let i=[cp,Va],n=[],o=t;for(;o<t+r;){let s=Vr(e,o);if(s===void 0)break;s.type!==void 0&&(s.itemType===void 0||i.indexOf(s.itemType)!==-1)&&n.push(s),o+=s.length}return n}function mb(e,t,r,i,n){let{offsets:o}=_b(r,i);return{type:"iinf",itemInfos:po(e,o.itemInfos,n-(o.itemInfos-t)),length:n}}function _b(e,t){let i={entryCount:t+3},n={};return e===0?n.entryCount=2:n.entryCount=4,i.itemInfos=i.entryCount+n.entryCount,{offsets:i}}function vb(e,t,r,i,n){i+=3;let s={type:"infe",length:n};return(r===0||r===1)&&(s.itemId=e.getUint16(i),i+=2,s.itemProtectionIndex=e.getUint16(i),i+=2,s.itemName=At(e,i),i+=s.itemName.length+1),r>=2&&(r===2?(s.itemId=e.getUint16(i),i+=2):r===3&&(s.itemId=e.getUint32(i),i+=4),s.itemProtectionIndex=e.getUint16(i),i+=2,s.itemType=e.getUint32(i),i+=4,s.itemName=At(e,i),i+=s.itemName.length+1,s.itemType===Va?(s.contentType=At(e,i),i+=s.contentType.length+1,t+n>i&&(s.contentEncoding=At(e,i),i+=s.contentEncoding.length+1)):s.itemType===Jy&&(s.itemUri=At(e,i),i+=s.itemUri.length+1)),s}var Ha={isHeicFile:xb,findHeicOffsets:yb};function xb(e){if(!e)return!1;let t=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{let r=Vr(e,0);return r&&t.indexOf(r.majorBrand)!==-1}catch{return!1}}function yb(e){return ho(e)}var za={isAvifFile:bb,findAvifOffsets:Sb};function bb(e){if(!e)return!1;try{let t=Vr(e,0);return t&&t.majorBrand==="avif"}catch{return!1}}function Sb(e){return ho(e)}var Za={isWebpFile:Eb,findOffsets:Ib};function Eb(e){let r="RIFF",n="WEBP";return!!e&&A(e,0,r.length)===r&&A(e,8,n.length)===n}function Ib(e){let i="Exif\0\0",o=12,s=!1,a,c,l,u;for(;o+8<e.byteLength;){let h=A(e,o,4),f=e.getUint32(o+4,!0);b.USE_EXIF&&h==="EXIF"?(s=!0,A(e,o+8,i.length)===i?a=o+8+i.length:a=o+8):b.USE_XMP&&h==="XMP "?(s=!0,c=[{dataOffset:o+8,length:f}]):b.USE_ICC&&h==="ICCP"?(s=!0,l=[{offset:o+8,length:f,chunkNumber:1,chunksTotal:1}]):h==="VP8X"&&(s=!0,u=o+8),o+=8+(f%2===0?f:f+1)}return{hasAppMarkers:s,tiffHeaderOffset:a,xmpChunks:c,iccChunks:l,vp8xChunkOffset:u}}var Wa={isGifFile:Ab,findOffsets:Tb},Cb=6,wb=["GIF87a","GIF89a"];function Ab(e){return!!e&&wb.includes(A(e,0,Cb))}function Tb(){return{gifHeaderOffset:0}}var qa={isXMLFile:Fb,findOffsets:Db},dp=0,fp="<?xpacket begin";function Fb(e){return!!e&&A(e,dp,fp.length)===fp}function Db(e){let t=[];return t.push({dataOffset:dp,length:e.byteLength}),{xmpChunks:t}}var hp={parseAppMarkers:Pb};function Pb(e,t){if(b.USE_TIFF&&ka.isTiffFile(e))return Dt(ka.findTiffOffsets(),"tiff","TIFF");if(b.USE_JPEG&&Ma.isJpegFile(e))return Dt(Ma.findJpegOffsets(e),"jpeg","JPEG");if(b.USE_PNG&&Ba.isPngFile(e))return Dt(Ba.findPngOffsets(e,t),"png","PNG");if(b.USE_HEIC&&Ha.isHeicFile(e))return Dt(Ha.findHeicOffsets(e),"heic","HEIC");if(b.USE_AVIF&&za.isAvifFile(e))return Dt(za.findAvifOffsets(e),"avif","AVIF");if(b.USE_WEBP&&Za.isWebpFile(e))return Dt(Za.findOffsets(e),"webp","WebP");if(b.USE_GIF&&Wa.isGifFile(e))return Dt(Wa.findOffsets(e),"gif","GIF");if(b.USE_XMP&&qa.isXMLFile(e))return Dt(qa.findOffsets(e),"xml","XML");throw new Error("Invalid image format")}function Dt(e,t,r){return M({},e,{fileType:{value:t,description:r}})}var P={ApertureValue:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2),ColorSpace(e){return e===1?"sRGB":e===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(e){return e.map(t=>{if(t===49)return"Y";if(t===50)return"Cb";if(t===51)return"Cr";if(t===52)return"R";if(t===53)return"G";if(t===54)return"B"}).join("")},Contrast(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},CustomRendered(e){return e===0?"Normal process":e===1?"Custom process":"Unknown"},ExposureMode(e){return e===0?"Auto exposure":e===1?"Manual exposure":e===2?"Auto bracket":"Unknown"},ExposureProgram(e){return e===0?"Undefined":e===1?"Manual":e===2?"Normal program":e===3?"Aperture priority":e===4?"Shutter priority":e===5?"Creative program":e===6?"Action program":e===7?"Portrait mode":e===8?"Landscape mode":e===9?"Bulb":"Unknown"},ExposureTime(e){if(e[0]/e[1]>.25){let t=e[0]/e[1];return Number.isInteger(t)?""+t:t.toFixed(1)}return e[0]!==0?`1/${Math.round(e[1]/e[0])}`:`0/${e[1]}`},FNumber:e=>`f/${e[0]/e[1]}`,FocalLength:e=>e[0]/e[1]+" mm",FocalPlaneResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},LightSource:e=>e===1?"Daylight":e===2?"Fluorescent":e===3?"Tungsten (incandescent light)":e===4?"Flash":e===9?"Fine weather":e===10?"Cloudy weather":e===11?"Shade":e===12?"Daylight fluorescent (D 5700 \u2013 7100K)":e===13?"Day white fluorescent (N 4600 \u2013 5400K)":e===14?"Cool white fluorescent (W 3900 \u2013 4500K)":e===15?"White fluorescent (WW 3200 \u2013 3700K)":e===17?"Standard light A":e===18?"Standard light B":e===19?"Standard light C":e===20?"D55":e===21?"D65":e===22?"D75":e===23?"D50":e===24?"ISO studio tungsten":e===255?"Other light source":"Unknown",MeteringMode(e){return e===1?"Average":e===2?"CenterWeightedAverage":e===3?"Spot":e===4?"MultiSpot":e===5?"Pattern":e===6?"Partial":e===255?"Other":"Unknown"},ResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},Saturation(e){return e===0?"Normal":e===1?"Low saturation":e===2?"High saturation":"Unknown"},SceneCaptureType(e){return e===0?"Standard":e===1?"Landscape":e===2?"Portrait":e===3?"Night scene":"Unknown"},Sharpness(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},ShutterSpeedValue(e){let t=Math.pow(2,e[0]/e[1]);return t<=1?`${Math.round(1/t)}`:`1/${Math.round(t)}`},WhiteBalance(e){return e===0?"Auto white balance":e===1?"Manual white balance":"Unknown"},XResolution:e=>""+Math.round(e[0]/e[1]),YResolution:e=>""+Math.round(e[0]/e[1])};var Xa={11:"ProcessingSoftware",254:{name:"SubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[e]||"Unknown"},255:{name:"OldSubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[e]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:e=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[e]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:e=>({1:"Normal",2:"Reversed"})[e]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>e===1?"top-left":e===2?"top-right":e===3?"bottom-right":e===4?"bottom-left":e===5?"left-top":e===6?"right-top":e===7?"right-bottom":e===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:P.XResolution},283:{name:"YResolution",description:P.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:e=>""+Math.round(e[0]/e[1])},287:{name:"YPosition",description:e=>""+Math.round(e[0]/e[1])},290:{name:"GrayResponseUnit",description:e=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[e]||"Unknown"},296:{name:"ResolutionUnit",description:P.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:e=>({1:"CMYK",2:"Not CMYK"})[e]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:e=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[e]||"Unknown"},339:{name:"SampleFormat",description:e=>{let t={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(e)?e.map(r=>t[r]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:e=>e.map(t=>""+t[0]/t[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>e===1?"centered":e===2?"co-sited":"undefined "+e},532:{name:"ReferenceBlackWhite",description:e=>e.map(t=>""+t[0]/t[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:e=>e.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:e=>({0:"Unsafe",1:"Safe"})[e]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:P.LightSource},50779:{name:"CalibrationIlluminant2",description:P.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:e=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[e]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:e=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[e]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:e=>({0:"Auto",1:"None"})[e]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};var pp={33434:{name:"ExposureTime",description:P.ExposureTime},33437:{name:"FNumber",description:P.FNumber},34850:{name:"ExposureProgram",description:P.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:e=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[e]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:e=>K(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:P.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:P.ShutterSpeedValue},37378:{name:"ApertureValue",description:P.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2)},37382:{name:"SubjectDistance",description:e=>e[0]/e[1]+" m"},37383:{name:"MeteringMode",description:P.MeteringMode},37384:{name:"LightSource",description:P.LightSource},37385:{name:"Flash",description:e=>e===0?"Flash did not fire":e===1?"Flash fired":e===5?"Strobe return light not detected":e===7?"Strobe return light detected":e===9?"Flash fired, compulsory flash mode":e===13?"Flash fired, compulsory flash mode, return light not detected":e===15?"Flash fired, compulsory flash mode, return light detected":e===16?"Flash did not fire, compulsory flash mode":e===24?"Flash did not fire, auto mode":e===25?"Flash fired, auto mode":e===29?"Flash fired, auto mode, return light not detected":e===31?"Flash fired, auto mode, return light detected":e===32?"No flash function":e===65?"Flash fired, red-eye reduction mode":e===69?"Flash fired, red-eye reduction mode, return light not detected":e===71?"Flash fired, red-eye reduction mode, return light detected":e===73?"Flash fired, compulsory flash mode, red-eye reduction mode":e===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":e===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":e===89?"Flash fired, auto mode, red-eye reduction mode":e===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":e===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:P.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:e=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[e]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:e=>e.length===2?`Location; X: ${e[0]}, Y: ${e[1]}`:e.length===3?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:e.length===4?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:Li},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:e=>e[0]/e[1]+" \xB0C"},37889:{name:"Humidity",description:e=>e[0]/e[1]+" %"},37890:{name:"Pressure",description:e=>e[0]/e[1]+" hPa"},37891:{name:"WaterDepth",description:e=>e[0]/e[1]+" m"},37892:{name:"Acceleration",description:e=>e[0]/e[1]+" mGal"},37893:{name:"CameraElevationAngle",description:e=>e[0]/e[1]+" \xB0"},40960:{name:"FlashpixVersion",description:e=>e.map(t=>String.fromCharCode(t)).join("")},40961:{name:"ColorSpace",description:P.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:P.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([e,t])=>`X: ${e}, Y: ${t}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>e===1?"Undefined":e===2?"One-chip color area sensor":e===3?"Two-chip color area sensor":e===4?"Three-chip color area sensor":e===5?"Color sequential area sensor":e===7?"Trilinear sensor":e===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>e===3?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>e===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:P.CustomRendered},41986:{name:"ExposureMode",description:P.ExposureMode},41987:{name:"WhiteBalance",description:P.WhiteBalance},41988:{name:"DigitalZoomRatio",description:e=>e[0]===0?"Digital zoom was not used":""+e[0]/e[1]},41989:{name:"FocalLengthIn35mmFilm",description:e=>e===0?"Unknown":e},41990:{name:"SceneCaptureType",description:P.SceneCaptureType},41991:{name:"GainControl",description:e=>e===0?"None":e===1?"Low gain up":e===2?"High gain up":e===3?"Low gain down":e===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:P.Contrast},41993:{name:"Saturation",description:P.Saturation},41994:{name:"Sharpness",description:P.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>e===1?"Macro":e===2?"Close view":e===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:e=>{let t=parseFloat((e[0][0]/e[0][1]).toFixed(5)),r=parseFloat((e[1][0]/e[1][1]).toFixed(5)),i=`${t}-${r} mm`;if(e[3][1]===0)return`${i} f/?`;let n=1/(e[2][1]/e[2][1]/(e[3][0]/e[3][1]));return`${i} f/${parseFloat(n.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:e=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[e]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"};var gp={0:{name:"GPSVersionID",description:e=>e[0]===2&&e[1]===2&&e[2]===0&&e[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{let t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:jr},3:{name:"GPSLongitudeRef",description:e=>{let t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:jr},5:{name:"GPSAltitudeRef",description:e=>e===0?"Sea level":e===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e[0]/e[1]+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(([t,r])=>{let i=t/r;return/^\d(\.|$)/.test(`${i}`)?`0${i}`:i}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{let t=e.join("");return t==="A"?"Measurement in progress":t==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{let t=e.join("");return t==="2"?"2-dimensional measurement":t==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{let t=e.join("");return t==="K"?"Kilometers per hour":t==="M"?"Miles per hour":t==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{let t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{let t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{let t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{let t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},23:{name:"GPSDestBearingRef",description:e=>{let t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{let t=e.join("");return t==="K"?"Kilometers":t==="M"?"Miles":t==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:Li},28:{name:"GPSAreaInformation",description:Li},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>e===0?"Measurement without differential correction":e===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"};var mp={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:e=>K(e)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"};var _p={45056:{name:"MPFVersion",description:e=>K(e)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"};var vp=M({},Xa,pp),ji="0th",Ya="1st",Ka="exif",$a="gps",Ja="interoperability",Qa="mpf",ct={[ji]:vp,[Ya]:Xa,[Ka]:vp,[$a]:gp,[Ja]:mp,[Qa]:b.USE_MPF?_p:{}};var xp={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},el={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},g={getAsciiValue:kb,getByteAt:yp,getAsciiAt:Ob,getShortAt:Mb,getLongAt:go,getRationalAt:Nb,getUndefinedAt:Rb,getSlongAt:tl,getSrationalAt:Ub,getIfdPointerAt:Bb,typeSizes:xp,tagTypes:el,getTypeSize:Lb};function kb(e){return e.map(t=>String.fromCharCode(t))}function yp(e,t){return e.getUint8(t)}function Ob(e,t){return e.getUint8(t)}function Mb(e,t,r){return e.getUint16(t,r===Be.LITTLE_ENDIAN)}function go(e,t,r){return e.getUint32(t,r===Be.LITTLE_ENDIAN)}function Nb(e,t,r){return[go(e,t,r),go(e,t+4,r)]}function Rb(e,t){return yp(e,t)}function tl(e,t,r){return e.getInt32(t,r===Be.LITTLE_ENDIAN)}function Ub(e,t,r){return[tl(e,t,r),tl(e,t+4,r)]}function Bb(e,t,r){return go(e,t,r)}function Lb(e){if(el[e]===void 0)throw new Error("No such type found.");return xp[el[e]]}var Gb={1:g.getByteAt,2:g.getAsciiAt,3:g.getShortAt,4:g.getLongAt,5:g.getRationalAt,7:g.getUndefinedAt,9:g.getSlongAt,10:g.getSrationalAt,13:g.getIfdPointerAt};function mo(e,t,r){return t+g.getLongAt(e,t+4,r)}function Pt(e,t,r,i,n,o){let s=g.getTypeSize("SHORT"),a=12,c={},l=jb(e,i,n);i+=s;for(let u=0;u<l&&!(i+a>e.byteLength);u++){let h=Vb(e,t,r,i,n,o);h!==void 0&&(c[h.name]={id:h.id,value:h.value,description:h.description}),i+=a}if(b.USE_THUMBNAIL&&i<e.byteLength-g.getTypeSize("LONG")){let u=g.getLongAt(e,i,n);u!==0&&t===ji&&(c.Thumbnail=Pt(e,Ya,r,r+u,n,!0))}return c}function jb(e,t,r){return t+g.getTypeSize("SHORT")<=e.byteLength?g.getShortAt(e,t,r):0}function Vb(e,t,r,i,n,o){let a=g.getTypeSize("SHORT"),c=a+g.getTypeSize("SHORT"),l=c+g.getTypeSize("LONG"),u=g.getShortAt(e,i,n),h=g.getShortAt(e,i+a,n),f=g.getLongAt(e,i+c,n),d;if(g.typeSizes[h]===void 0||!o&&ct[t][u]===void 0)return;if(Hb(h,f))d=bp(e,i+l,h,f,n);else{let I=g.getLongAt(e,i+l,n);if(zb(e,r,I,h,f)){let m=u===33723;d=bp(e,r+I,h,f,n,m)}else d="<faulty value>"}h===g.tagTypes.ASCII&&(d=Zb(d),d=Wb(d));let v=`undefined-${u}`,y=d;if(ct[t][u]!==void 0)if(ct[t][u].name!==void 0&&ct[t][u].description!==void 0){v=ct[t][u].name;try{y=ct[t][u].description(d)}catch{y=Sp(d)}}else h===g.tagTypes.RATIONAL||h===g.tagTypes.SRATIONAL?(v=ct[t][u],y=""+d[0]/d[1]):(v=ct[t][u],y=Sp(d));return{id:u,name:v,value:d,description:y}}function Hb(e,t){return g.typeSizes[e]*t<=g.getTypeSize("LONG")}function bp(e,t,r,i,n,o=!1){let s=[];o&&(i=i*g.typeSizes[r],r=g.tagTypes.BYTE);for(let a=0;a<i;a++)s.push(Gb[r](e,t,n)),t+=g.typeSizes[r];return r===g.tagTypes.ASCII?s=g.getAsciiValue(s):s.length===1&&(s=s[0]),s}function zb(e,t,r,i,n){return t+r+g.typeSizes[i]*n<=e.byteLength}function Zb(e){let t=[],r=0;for(let i=0;i<e.length;i++){if(e[i]==="\0"){r++;continue}t[r]===void 0&&(t[r]=""),t[r]+=e[i]}return t}function Wb(e){try{return e.map(t=>decodeURIComponent(escape(t)))}catch{return e}}function Sp(e){return e instanceof Array?e.join(", "):e}var Ep="Exif IFD Pointer",Ip="GPS Info IFD Pointer",Cp="Interoperability IFD Pointer",_o={read:qb};function qb(e,t,r){let i=Be.getByteOrder(e,t),n=Xb(e,t,i,r);return n=Yb(n,e,t,i,r),n=Kb(n,e,t,i,r),n=$b(n,e,t,i,r),n}function Xb(e,t,r,i){return Pt(e,ji,t,mo(e,t,r),r,i)}function Yb(e,t,r,i,n){return e[Ep]!==void 0?M(e,Pt(t,Ka,r,r+e[Ep].value,i,n)):e}function Kb(e,t,r,i,n){return e[Ip]!==void 0?M(e,Pt(t,$a,r,r+e[Ip].value,i,n)):e}function $b(e,t,r,i,n){return e[Cp]!==void 0?M(e,Pt(t,Ja,r,r+e[Cp].value,i,n)):e}var wp={read:Jb},Hr=16;function Jb(e,t,r){let i=Be.getByteOrder(e,t),n=Pt(e,Qa,t,mo(e,t,i),i,r);return Qb(e,t,n,i)}function Qb(e,t,r,i){if(!r.MPEntry)return r;let n=[];for(let o=0;o<Math.ceil(r.MPEntry.value.length/Hr);o++){n[o]={};let s=Vi(r.MPEntry.value,o*Hr,g.getTypeSize("LONG"),i);n[o].ImageFlags=eS(s),n[o].ImageFormat=tS(s),n[o].ImageType=rS(s);let a=Vi(r.MPEntry.value,o*Hr+4,g.getTypeSize("LONG"),i);n[o].ImageSize={value:a,description:""+a};let c=iS(o,r.MPEntry,i,t);n[o].ImageOffset={value:c,description:""+c};let l=Vi(r.MPEntry.value,o*Hr+12,g.getTypeSize("SHORT"),i);n[o].DependentImage1EntryNumber={value:l,description:""+l};let u=Vi(r.MPEntry.value,o*Hr+14,g.getTypeSize("SHORT"),i);n[o].DependentImage2EntryNumber={value:u,description:""+u},n[o].image=e.buffer.slice(c,c+a),so(n[o],"base64",function(){return ao(this.image)})}return r.Images=n,r}function Vi(e,t,r,i){if(i===Be.LITTLE_ENDIAN){let o=0;for(let s=0;s<r;s++)o+=e[t+s]<<8*s;return o}let n=0;for(let o=0;o<r;o++)n+=e[t+o]<<8*(r-1-o);return n}function eS(e){let t=[e>>31&1,e>>30&1,e>>29&1],r=[];return t[0]&&r.push("Dependent Parent Image"),t[1]&&r.push("Dependent Child Image"),t[2]&&r.push("Representative Image"),{value:t,description:r.join(", ")||"None"}}function tS(e){let t=e>>24&7;return{value:t,description:t===0?"JPEG":"Unknown"}}function rS(e){let t=e&16777215;return{value:t,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[t]||"Unknown"}}function iS(e,t,r,i){return nS(e)?0:Vi(t.value,e*Hr+8,g.getTypeSize("LONG"),r)+i}function nS(e){return e===0}var Ap={read:oS};function oS(e,t){let r=sS(e,t),i=cS(e,t,r);return{"Bits Per Sample":aS(e,t,r),"Image Height":lS(e,t,r),"Image Width":uS(e,t,r),"Color Components":i,Subsampling:i&&fS(e,t,i.value,r)}}function sS(e,t){return g.getShortAt(e,t)}function aS(e,t,r){if(3>r)return;let o=g.getByteAt(e,t+2);return{value:o,description:""+o}}function lS(e,t,r){if(5>r)return;let o=g.getShortAt(e,t+3);return{value:o,description:`${o}px`}}function uS(e,t,r){if(7>r)return;let o=g.getShortAt(e,t+5);return{value:o,description:`${o}px`}}function cS(e,t,r){if(8>r)return;let o=g.getByteAt(e,t+7);return{value:o,description:""+o}}function fS(e,t,r,i){if(8+3*r>i)return;let s=[];for(let a=0;a<r;a++){let c=t+8+a*3;s.push([g.getByteAt(e,c),g.getByteAt(e,c+1),g.getByteAt(e,c+2)])}return{value:s,description:s.length>1?dS(s)+hS(s):""}}function dS(e){let t={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return e.map(r=>t[r[0]]).join("")}function hS(e){let t={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return e.length===0||e[0][1]===void 0||t[e[0][1]]===void 0?"":t[e[0][1]]}var Tp={read:pS};function pS(e,t){let r=gS(e,t),i=bS(e,t,r),n=SS(e,t,r),o={"JFIF Version":mS(e,t,r),"Resolution Unit":_S(e,t,r),XResolution:xS(e,t,r),YResolution:yS(e,t,r),"JFIF Thumbnail Width":i,"JFIF Thumbnail Height":n};if(i!==void 0&&n!==void 0){let s=ES(e,t,3*i.value*n.value,r);s&&(o["JFIF Thumbnail"]=s)}for(let s in o)o[s]===void 0&&delete o[s];return o}function gS(e,t){return g.getShortAt(e,t)}function mS(e,t,r){if(9>r)return;let o=g.getByteAt(e,t+7),s=g.getByteAt(e,t+7+1);return{value:o*256+s,description:o+"."+s}}function _S(e,t,r){if(10>r)return;let o=g.getByteAt(e,t+9);return{value:o,description:vS(o)}}function vS(e){return e===0?"None":e===1?"inches":e===2?"cm":"Unknown"}function xS(e,t,r){if(12>r)return;let o=g.getShortAt(e,t+10);return{value:o,description:""+o}}function yS(e,t,r){if(14>r)return;let o=g.getShortAt(e,t+12);return{value:o,description:""+o}}function bS(e,t,r){if(15>r)return;let o=g.getByteAt(e,t+14);return{value:o,description:`${o}px`}}function SS(e,t,r){if(16>r)return;let o=g.getByteAt(e,t+15);return{value:o,description:`${o}px`}}function ES(e,t,r,i){return r===0||16+r>i?void 0:{value:e.buffer.slice(t+16,t+16+r),description:"<24-bit RGB pixel data>"}}var ft={iptc:{256:{name:"Model Version",description:e=>((e[0]<<8)+e[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:e=>((e[0]<<8)+e[1]).toString()},278:{name:"File Format Version",description:e=>((e[0]<<8)+e[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:rl},336:{name:"Time Sent",description:il},346:{name:"Coded Character Set",description:Fp,encoding_name:Fp},356:"UNO",376:{name:"ARM Identifier",description:e=>((e[0]<<8)+e[1]).toString()},378:{name:"ARM Version",description:e=>((e[0]<<8)+e[1]).toString()},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>K(e)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{let t=K(e).split(":");return t[2]+(t[3]?"/"+t[3]:"")+(t[4]?"/"+t[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{let t=K(e);return t==="01"?"Object Kill":t==="02"?"Object Replace":t==="03"?"Object Append":t==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:rl},572:{name:"Time Created",description:il},574:{name:"Digital Creation Date",description:rl},575:{name:"Digital Creation Time",description:il},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{let t=K(e);return t==="a"?"morning":t==="p"?"evening":t==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{let t=K(e);return t==="P"?"Portrait":t==="L"?"Landscape":t==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{let t=K(e),r=t.charAt(0),i=t.charAt(1),n="";return r==="1"?n+="Mono":r==="2"&&(n+="Stereo"),i==="A"?n+=", actuality":i==="C"?n+=", question and answer session":i==="M"?n+=", music, transmitted by itself":i==="Q"?n+=", response to a question":i==="R"?n+=", raw sound":i==="S"?n+=", scener":i==="V"?n+=", voicer":i==="W"&&(n+=", wrap"),n!==""?n:t}},663:{name:"Audio Sampling Rate",description:e=>parseInt(K(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{let t=parseInt(K(e),10);return t+(t===1?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{let t=K(e);return t.length>=6?t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2):t}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:e=>e.length===2?"ObjectData Preview File Format":"Record 2 destination",description:e=>{if(e.length===2){let t=(e[0]<<8)+e[1];return t===0?"No ObjectData":t===1?"IPTC-NAA Digital Newsphoto Parameter Record":t===2?"IPTC7901 Recommended Message Format":t===3?"Tagged Image File Format (Adobe/Aldus Image data)":t===4?"Illustrator (Adobe Graphics data)":t===5?"AppleSingle (Apple Computer Inc)":t===6?"NAA 89-3 (ANPA 1312)":t===7?"MacBinary II":t===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":t===9?"United Press International ANPA 1312 variant":t===10?"United Press International Down-Load Message":t===11?"JPEG File Interchange (JFIF)":t===12?"Photo-CD Image-Pac (Eastman Kodak)":t===13?"Microsoft Bit Mapped Graphics File [*.BMP]":t===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":t===15?"Audio plus Moving Video [*.AVI] (Microsoft)":t===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":t===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":t===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":t===19?"RIFF Wave (Microsoft Corporation)":t===20?"Freehand (Macromedia/Aldus)":t===21?'Hypertext Markup Language "HTML" (The Internet Society)':t===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":t===23?"MPEG 2 Audio Layer 3, ISO/IEC":t===24?"Portable Document File (*.PDF) Adobe":t===25?"News Industry Text Format (NITF)":t===26?"Tape Archive (*.TAR)":t===27?"Tidningarnas Telegrambyr\xE5 NITF version (TTNITF DTD)":t===28?"Ritzaus Bureau NITF version (RBNITF DTD)":t===29?"Corel Draw [*.CDR]":`Unknown format ${t}`}return K(e)}},713:{name:"ObjectData Preview File Format Version",description:(e,t)=>{let r={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},i=K(e);if(t["ObjectData Preview File Format"]){let n=K(t["ObjectData Preview File Format"].value);if(r[n]&&r[n][i])return r[n][i]}return i}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:e=>e[0].toString()},1812:{name:"Max Subfile Size",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}},1882:{name:"ObjectData Size Announced",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}},1887:{name:"Maximum ObjectData Size",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}}}};function rl(e){let t=K(e);return t.length>=8?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2):t}function il(e){let t=K(e),r=t;return t.length>=6&&(r=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2),t.length===11&&(r+=t.substr(6,1)+t.substr(7,2)+":"+t.substr(9,2))),r}function Fp(e){let t=K(e);return t==="\x1B%G"?"UTF-8":t==="\x1B%5"?"Windows-1252":t==="\x1B%/G"?"UTF-8 Level 1":t==="\x1B%/H"?"UTF-8 Level 2":t==="\x1B%/I"?"UTF-8 Level 3":t==="\x1B/A"?"ISO-8859-1":t==="\x1B/B"?"ISO-8859-2":t==="\x1B/C"?"ISO-8859-3":t==="\x1B/D"?"ISO-8859-4":t==="\x1B/@"?"ISO-8859-5":t==="\x1B/G"?"ISO-8859-6":t==="\x1B/F"?"ISO-8859-7":t==="\x1B/H"?"ISO-8859-8":"Unknown"}var Dp={get:IS};function IS(){if(typeof TextDecoder<"u")return TextDecoder}var CS=5,vo={decode:wS,TAG_HEADER_SIZE:CS};function wS(e,t){let r=Dp.get();if(typeof r<"u"&&e!==void 0)try{return new r(e).decode(t instanceof DataView?t.buffer:Uint8Array.from(t))}catch{}let i=t.map(n=>String.fromCharCode(n)).join("");return AS(i)}function AS(e){try{return decodeURIComponent(escape(e))}catch{return e}}var TS=943868237,kp=4,nl=kp+8,FS=1028,Op=5,Hi={read:DS};function DS(e,t,r){try{if(Array.isArray(e))return Pp(new DataView(Uint8Array.from(e).buffer),{size:e.length},0,r);let{naaBlock:i,dataOffset:n}=PS(e,t);return Pp(e,i,n,r)}catch{return{}}}function PS(e,t){for(;t+nl<=e.byteLength;){let r=kS(e,t);if(OS(r))return{naaBlock:r,dataOffset:t+nl};t+=nl+r.size+MS(r)}throw new Error("No IPTC NAA resource block.")}function kS(e,t){if(e.getUint32(t,!1)!==TS)throw new Error("Not an IPTC resource block.");return{type:e.getUint16(t+kp),size:e.getUint16(t+10)}}function OS(e){return e.type===FS}function MS(e){return e.size%2!==0?1:0}function Pp(e,t,r,i){let n={},o,s=r+t.size;for(;r<s&&r<e.byteLength;){let{tag:a,tagSize:c}=NS(e,r,n,o,i);if(a===null)break;a&&("encoding"in a&&(o=a.encoding),n[a.name]===void 0||a.repeatable===void 0?n[a.name]={id:a.id,value:a.value,description:a.description}:(n[a.name]instanceof Array||(n[a.name]=[{id:n[a.name].id,value:n[a.name].value,description:n[a.name].description}]),n[a.name].push({id:a.id,value:a.value,description:a.description}))),r+=Op+c}return n}function NS(e,t,r,i,n){if(RS(e,t))return{tag:null,tagSize:0};let a=e.getUint16(t+1),c=e.getUint16(t+3);if(!n&&!ft.iptc[a])return{tag:void 0,tagSize:c};let l=US(e,t+Op,c),u={id:a,name:BS(ft.iptc[a],a,l),value:l,description:jS(ft.iptc[a],l,r,i)};return zS(a)&&(u.repeatable=!0),ZS(a)&&(u.encoding=ft.iptc[a].encoding_name(l)),{tag:u,tagSize:c}}function RS(e,t){return e.getUint8(t)!==28}function US(e,t,r){let i=[];for(let n=0;n<r;n++)i.push(e.getUint8(t+n));return i}function BS(e,t,r){return e?LS(e)?e:GS(e)?e.name(r):e.name:`undefined-${t}`}function LS(e){return typeof e=="string"}function GS(e){return typeof e.name=="function"}function jS(e,t,r,i){if(HS(e))try{return e.description(t,r)}catch{}return VS(e,t)?vo.decode(i,t):t}function VS(e,t){return e&&t instanceof Array}function HS(e){return e&&e.description!==void 0}function zS(e){return ft.iptc[e]&&ft.iptc[e].repeatable}function ZS(e){return ft.iptc[e]&&ft.iptc[e].encoding_name!==void 0}var zi={"tiff:Orientation"(e){return e==="1"?"Horizontal (normal)":e==="2"?"Mirror horizontal":e==="3"?"Rotate 180":e==="4"?"Mirror vertical":e==="5"?"Mirror horizontal and rotate 270 CW":e==="6"?"Rotate 90 CW":e==="7"?"Mirror horizontal and rotate 90 CW":e==="8"?"Rotate 270 CW":e},"tiff:ResolutionUnit":e=>P.ResolutionUnit(parseInt(e,10)),"tiff:XResolution":e=>zr(P.XResolution,e),"tiff:YResolution":e=>zr(P.YResolution,e),"exif:ApertureValue":e=>zr(P.ApertureValue,e),"exif:GPSLatitude":Mp,"exif:GPSLongitude":Mp,"exif:FNumber":e=>zr(P.FNumber,e),"exif:FocalLength":e=>zr(P.FocalLength,e),"exif:FocalPlaneResolutionUnit":e=>P.FocalPlaneResolutionUnit(parseInt(e,10)),"exif:ColorSpace":e=>P.ColorSpace(WS(e)),"exif:ComponentsConfiguration"(e,t){if(/^\d, \d, \d, \d$/.test(t)){let r=t.split(", ").map(i=>i.charCodeAt(0));return P.ComponentsConfiguration(r)}return t},"exif:Contrast":e=>P.Contrast(parseInt(e,10)),"exif:CustomRendered":e=>P.CustomRendered(parseInt(e,10)),"exif:ExposureMode":e=>P.ExposureMode(parseInt(e,10)),"exif:ExposureProgram":e=>P.ExposureProgram(parseInt(e,10)),"exif:ExposureTime"(e){return Np(e)?P.ExposureTime(e.split("/").map(t=>parseInt(t,10))):e},"exif:MeteringMode":e=>P.MeteringMode(parseInt(e,10)),"exif:Saturation":e=>P.Saturation(parseInt(e,10)),"exif:SceneCaptureType":e=>P.SceneCaptureType(parseInt(e,10)),"exif:Sharpness":e=>P.Sharpness(parseInt(e,10)),"exif:ShutterSpeedValue":e=>zr(P.ShutterSpeedValue,e),"exif:WhiteBalance":e=>P.WhiteBalance(parseInt(e,10))};function zr(e,t){return Np(t)?e(t.split("/")):t}function WS(e){return e.substring(0,2)==="0x"?parseInt(e.substring(2),16):parseInt(e,10)}function Np(e){return/^-?\d+\/-?\d+$/.test(e)}function Mp(e){let[t,r]=e.split(",");if(t!==void 0&&r!==void 0){let i=parseFloat(t),n=parseFloat(r),o=r.charAt(r.length-1);if(!Number.isNaN(i)&&!Number.isNaN(n))return""+(i+n/60)+o}return e}var Rp={get:qS};function qS(){if(typeof DOMParser<"u")return new DOMParser;try{return new(__non_webpack_require__("@xmldom/xmldom")).DOMParser({errorHandler:{error:()=>{throw new Error("Faulty XML")}}})}catch{return}}var sl={read:XS};function XS(e,t){let r={};if(typeof e=="string")return xo(r,e),r;let[i,n]=YS(e,t),o=xo(r,i);if(n){let s=xo(r,n);!o&&!s&&(delete r._raw,xo(r,ol(e,t)))}return r}function YS(e,t){if(t.length===0)return[];let r=[ol(e,t.slice(0,1))];return t.length>1&&r.push(ol(e,t.slice(1))),r}function ol(e,t){let r=t.reduce((o,s)=>o+s.length,0),i=new Uint8Array(r),n=0;for(let o=0;o<t.length;o++){let s=t[o],a=e.buffer.slice(s.dataOffset,s.dataOffset+s.length);i.set(new Uint8Array(a),n),n+=s.length}return new DataView(i.buffer)}function xo(e,t){try{let{doc:r,raw:i}=KS(t);e._raw=(e._raw||"")+i;let n=Up(r);return M(e,Lp(Bp(n,!0))),!0}catch{return!1}}function KS(e){let t=Rp.get();if(!t)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;let r=typeof e=="string"?e:A(e,0,e.byteLength),i=t.parseFromString($S(r),"application/xml");if(i.documentElement.nodeName==="parsererror")throw new Error(i.documentElement.textContent);return{doc:i,raw:r}}function $S(e){return e.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function Up(e){for(let t=0;t<e.childNodes.length;t++){if(e.childNodes[t].tagName==="x:xmpmeta")return Up(e.childNodes[t]);if(e.childNodes[t].tagName==="rdf:RDF")return e.childNodes[t]}throw new Error}function Bp(e,t=!1){let r=JS(e);return QS(r)?t?{}:eE(r[0]):tE(r)}function JS(e){let t=[];for(let r=0;r<e.childNodes.length;r++)t.push(e.childNodes[r]);return t}function QS(e){return e.length===1&&e[0].nodeName==="#text"}function eE(e){return e.nodeValue}function tE(e){let t={};return e.forEach(r=>{if(rE(r)){let i=iE(r);t[r.nodeName]!==void 0?(Array.isArray(t[r.nodeName])||(t[r.nodeName]=[t[r.nodeName]]),t[r.nodeName].push(i)):t[r.nodeName]=i}}),t}function rE(e){return e.nodeName&&e.nodeName!=="#text"}function iE(e){return{attributes:nE(e),value:Bp(e)}}function nE(e){let t={};for(let r=0;r<e.attributes.length;r++)t[e.attributes[r].nodeName]=decodeURIComponent(escape(e.attributes[r].value));return t}function Lp(e){let t={};if(typeof e=="string")return e;for(let r in e){let i=e[r];Array.isArray(i)||(i=[i]),i.forEach(n=>{M(t,al(n.attributes)),typeof n.value=="object"&&M(t,Gp(n.value))})}return t}function al(e){let t={};for(let r in e)try{oE(r)&&(t[bo(r)]={value:e[r],attributes:{},description:dt(e[r],r)})}catch{}return t}function oE(e){return e!=="rdf:parseType"&&!yo(e)}function yo(e){return e.split(":")[0]==="xmlns"}function bo(e){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(e)?"RatingPercent":e.split(":")[1]}function dt(e,t=void 0){if(Array.isArray(e)){let r=sE(e);return t&&typeof zi[t]=="function"?zi[t](e,r):r}if(typeof e=="object")return aE(e);try{return t&&typeof zi[t]=="function"?zi[t](e):decodeURIComponent(escape(e))}catch{return e}}function sE(e){return e.map(t=>t.value!==void 0?dt(t.value):dt(t)).join(", ")}function aE(e){let t=[];for(let r in e)t.push(`${lE(r)}: ${dt(e[r].value)}`);return t.join("; ")}function lE(e){return e==="CiAdrCity"?"CreatorCity":e==="CiAdrCtry"?"CreatorCountry":e==="CiAdrExtadr"?"CreatorAddress":e==="CiAdrPcode"?"CreatorPostalCode":e==="CiAdrRegion"?"CreatorRegion":e==="CiEmailWork"?"CreatorWorkEmail":e==="CiTelWork"?"CreatorWorkPhone":e==="CiUrlWork"?"CreatorWorkUrl":e}function Gp(e){let t={};for(let r in e)try{yo(r)||(t[bo(r)]=uE(e[r],r))}catch{}return t}function uE(e,t){return fE(e)?dE(e,t):cE(e)?{value:"",attributes:{},description:""}:jp(e)?Vp(e,t):Hp(e)?zp(e,t):Zp(e)?Wp(e,t):gE(e)?mE(e,t):ll(e,t)}function cE(e){return e.attributes["rdf:parseType"]==="Resource"&&typeof e.value=="string"&&e.value.trim()===""}function fE(e){return Array.isArray(e)}function dE(e,t){return ll(e[e.length-1],t)}function jp(e){return e.attributes["rdf:parseType"]==="Resource"&&e.value["rdf:value"]!==void 0||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]!==void 0}function Vp(e,t){let r=Zi(e);e.value["rdf:Description"]!==void 0&&(e=e.value["rdf:Description"]),M(r,Zi(e),hE(e));let i=pE(e);return{value:i,attributes:r,description:dt(i,t)}}function Zi(e){let t={};for(let r in e.attributes)r!=="rdf:parseType"&&r!=="rdf:resource"&&!yo(r)&&(t[bo(r)]=e.attributes[r]);return t}function hE(e){let t={};for(let r in e.value)r!=="rdf:value"&&!yo(r)&&(t[bo(r)]=e.value[r].value);return t}function pE(e){return Xp(e.value["rdf:value"])||e.value["rdf:value"].value}function Hp(e){return e.attributes["rdf:parseType"]==="Resource"||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]===void 0}function zp(e,t){let r={value:{},attributes:{}};return e.value["rdf:Description"]!==void 0&&(M(r.value,al(e.value["rdf:Description"].attributes)),M(r.attributes,Zi(e)),e=e.value["rdf:Description"]),M(r.value,Gp(e.value)),r.description=dt(r.value,t),r}function Zp(e){return Object.keys(e.value).length===0&&e.attributes["xml:lang"]===void 0&&e.attributes["rdf:resource"]===void 0}function Wp(e,t){let r=al(e.attributes);return{value:r,attributes:{},description:dt(r,t)}}function gE(e){return qp(e.value)!==void 0}function qp(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function mE(e,t){let r=qp(e.value).value["rdf:li"],i=Zi(e),n=[];return r===void 0?r=[]:Array.isArray(r)||(r=[r]),r.forEach(o=>{n.push(_E(o))}),{value:n,attributes:i,description:dt(n,t)}}function _E(e){return jp(e)?Vp(e):Hp(e)?zp(e).value:Zp(e)?Wp(e).value:ll(e)}function ll(e,t){let r=Xp(e)||Lp(e.value);return{value:r,attributes:Zi(e),description:dt(r,t)}}function Xp(e){return e.attributes&&e.attributes["rdf:resource"]}var ht={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},Yp=24,Eo={2e3:{name:"PathInformation",description:vE},2999:{name:"ClippingPathName",description(e){let[,t]=oo(e,0);return t}}};function vE(e){let r={},i=[];for(let n=0;n<e.byteLength;n+=2+Yp){let o=g.getShortAt(e,n);ul[o]&&(r[o]||(r[o]=ul[o].description),i.push({type:o,path:ul[o].path(e,n+2)}))}return JSON.stringify({types:r,paths:i})}var ul={[ht.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(e,t)=>[g.getShortAt(e,t)]},[ht.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:So},[ht.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:So},[ht.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(e,t)=>[g.getShortAt(e,t)]},[ht.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:So},[ht.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:So},[ht.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[ht.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(e,t)=>[g.getShortAt(e,t)]},[ht.CLIPBOARD]:{description:"Clipboard",path:yE}};function So(e,t){let i=[];for(let n=0;n<Yp;n+=8)i.push(xE(e,t+n));return i}function xE(e,t){let r=tr(e,t,8);return[tr(e,t+4,8),r]}function yE(e,t){return[[tr(e,t,8),tr(e,t+4,8),tr(e,t+8,8),tr(e,t+12,8)],tr(e,t+16,8)]}function tr(e,t,r){let i=g.getLongAt(e,t),n=i>>>31?-1:1,o=(i&2130706432)>>>32-r,s=i&parseInt(Da("1",32-r),2);return n*Wh(o.toString(2)+"."+Zh(s.toString(2),32-r,"0"),2)}var $p={read:EE},Jp="8BIM",bE=2,SE=4,Kp=Jp.length;function EE(e,t){let r=Fa(new Uint8Array(e).buffer),i={},n=0;for(;n<e.length;){let o=A(r,n,Kp);n+=Kp;let s=g.getShortAt(r,n);n+=bE;let{tagName:a,tagNameSize:c}=IE(r,n);n+=c;let l=g.getLongAt(r,n);if(n+=SE,o===Jp){let u=Fa(r.buffer,n,l),h={id:s,value:A(u,0,l)};if(Eo[s]){try{h.description=Eo[s].description(u)}catch{h.description="<no description formatter>"}i[a||Eo[s].name]=h}else t&&(i[`undefined-${s}`]=h)}n+=l+l%2}return i}function IE(e,t){let[r,i]=oo(e,t);return{tagName:i,tagNameSize:1+r+(r%2===0?1:0)}}var fl={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},dl={4:{name:"Preferred CMM type",value:(e,t)=>A(e,t,4),description:e=>e!==null?cl(e):""},8:{name:"Profile Version",value:(e,t)=>e.getUint8(t).toString(10)+"."+(e.getUint8(t+1)>>4).toString(10)+"."+(e.getUint8(t+1)%16).toString(10)},12:{name:"Profile/Device class",value:(e,t)=>A(e,t,4),description:e=>{switch(e.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return e}}},16:{name:"Color Space",value:(e,t)=>A(e,t,4)},20:{name:"Connection Space",value:(e,t)=>A(e,t,4)},24:{name:"ICC Profile Date",value:(e,t)=>CE(e,t).toISOString()},36:{name:"ICC Signature",value:(e,t)=>wE(e.buffer.slice(t,t+4))},40:{name:"Primary Platform",value:(e,t)=>A(e,t,4),description:e=>cl(e)},48:{name:"Device Manufacturer",value:(e,t)=>A(e,t,4),description:e=>cl(e)},52:{name:"Device Model Number",value:(e,t)=>A(e,t,4)},64:{name:"Rendering Intent",value:(e,t)=>e.getUint32(t),description:e=>{switch(e){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return e}}},80:{name:"Profile Creator",value:(e,t)=>A(e,t,4)}};function CE(e,t){let r=e.getUint16(t),i=e.getUint16(t+2)-1,n=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),a=e.getUint16(t+10);return new Date(Date.UTC(r,i,n,o,s,a))}function wE(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function cl(e){switch(e.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return e}}var hl={read:NE},AE=84,TE=128,FE="acsp",DE="desc",PE="mluc",kE="text",OE="sig ",ME=12;function NE(e,t,r){return r&&t[0].compressionMethod!==Gr?RE(e,t):BE(e,t)}function RE(e,t){if(!UE(t[0].compressionMethod))return{};let r=new DataView(e.buffer.slice(t[0].offset,t[0].offset+t[0].length));return lo(r,t[0].compressionMethod,"utf-8","dataview").then(Qp).catch(()=>({}))}function UE(e){return e===Pa}function BE(e,t){try{let r=t.reduce((s,a)=>s+a.length,0),i=new Uint8Array(r),n=0,o=LE(e);for(let s=1;s<=t.length;s++){let a=t.find(u=>u.chunkNumber===s);if(!a)throw new Error(`ICC chunk ${s} not found`);let c=o.slice(a.offset,a.offset+a.length),l=new Uint8Array(c);i.set(l,n),n+=l.length}return Qp(new DataView(i.buffer))}catch{return{}}}function LE(e){return Array.isArray(e)?new DataView(Uint8Array.from(e).buffer).buffer:e.buffer}function GE(e){return e.length<TE+4}function jE(e,t){return e.length<t+ME}function Qp(e){let t=e.buffer,r=e.getUint32();if(e.byteLength!==r)throw new Error("ICC profile length not matching");if(e.length<AE)throw new Error("ICC profile too short");let i={},n=Object.keys(dl);for(let c=0;c<n.length;c++){let l=n[c],u=dl[l],h=u.value(e,parseInt(l,10)),f=h;u.description&&(f=u.description(h)),i[u.name]={value:h,description:f}}if(Io(t.slice(36,40))!==FE)throw new Error("ICC profile: missing signature");if(GE(t))return i;let s=e.getUint32(128),a=132;for(let c=0;c<s;c++){if(jE(t,a))return i;let l=A(e,a,4),u=e.getUint32(a+4),h=e.getUint32(a+8);if(u>t.length)return i;let f=A(e,u,4);if(f===DE){let d=e.getUint32(u+8);if(d>h)return i;let v=Io(t.slice(u+12,u+d+11));Wi(i,l,v)}else if(f===PE){let d=e.getUint32(u+8),v=e.getUint32(u+12),y=u+16,I=[];for(let m=0;m<d;m++){let _=A(e,y+0,2),w=A(e,y+2,2),x=e.getUint32(y+4),S=e.getUint32(y+8),O=Hh(e,u+S,x);I.push({languageCode:_,countryCode:w,text:O}),y+=v}if(d===1)Wi(i,l,I[0].text);else{let m={};for(let _=0;_<I.length;_++)m[`${I[_].languageCode}-${I[_].countryCode}`]=I[_].text;Wi(i,l,m)}}else if(f===kE){let d=Io(t.slice(u+8,u+h-7));Wi(i,l,d)}else if(f===OE){let d=Io(t.slice(u+8,u+12));Wi(i,l,d)}a=a+12}return i}function Io(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function Wi(e,t,r){fl[t]?e[fl[t].name]={value:r,description:r}:e[t]={value:r,description:r}}var eg={read:VE};function VE(e,t){return{"Image Width":HE(e,t),"Image Height":zE(e,t),"Bit Depth":ZE(e,t),"Color Type":WE(e,t),Compression:qE(e,t),Filter:XE(e,t),Interlace:YE(e,t)}}function HE(e,t){if(t+0+4>e.byteLength)return;let n=g.getLongAt(e,t);return{value:n,description:`${n}px`}}function zE(e,t){if(t+4+4>e.byteLength)return;let n=g.getLongAt(e,t+4);return{value:n,description:`${n}px`}}function ZE(e,t){if(t+8+1>e.byteLength)return;let n=g.getByteAt(e,t+8);return{value:n,description:`${n}`}}function WE(e,t){let n={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(t+9+1>e.byteLength)return;let o=g.getByteAt(e,t+9);return{value:o,description:n[o]||"Unknown"}}function qE(e,t){if(t+10+1>e.byteLength)return;let n=g.getByteAt(e,t+10);return{value:n,description:n===0?"Deflate/Inflate":"Unknown"}}function XE(e,t){if(t+11+1>e.byteLength)return;let n=g.getByteAt(e,t+11);return{value:n,description:n===0?"Adaptive":"Unknown"}}function YE(e,t){let n={0:"Noninterlaced",1:"Adam7 Interlace"};if(t+12+1>e.byteLength)return;let o=g.getByteAt(e,t+12);return{value:o,description:n[o]||"Unknown"}}var ig={read:QE},gl="STATE_KEYWORD",ml="STATE_COMPRESSION",_l="STATE_LANG",ng="STATE_TRANSLATED_KEYWORD",vl="STATE_TEXT",KE=1,$E=1,JE=6;function QE(e,t,r,i){let n={},o=[];for(let s=0;s<t.length;s++){let{offset:a,length:c,type:l}=t[s],u=e1(e,a,c,l,r);if(u instanceof Promise)o.push(u.then(({name:h,value:f,description:d})=>{try{if(b.USE_EXIF&&s1(h,f))return{__exif:_o.read(rg(f),JE,i)};if(b.USE_IPTC&&a1(h,f))return{__iptc:Hi.read(rg(f),0,i)};if(h)return{[h]:{value:f,description:d}}}catch{}return{}}));else{let{name:h,value:f,description:d}=u;h&&(n[h]={value:f,description:d})}}return{readTags:n,readTagsPromise:o.length>0?Promise.all(o):void 0}}function e1(e,t,r,i,n){let o=[],s=[],a=[],c,l=gl,u=Gr;for(let f=0;f<r&&t+f<e.byteLength;f++){if(l===ml){u=t1({type:i,dataView:e,offset:t+f}),i===Ft&&(f+=KE),l=tg(i,l);continue}else if(l===vl){c=new DataView(e.buffer.slice(t+f,t+r));break}let d=e.getUint8(t+f);d===0?l=tg(i,l):l===gl?o.push(d):l===_l?s.push(d):l===ng&&a.push(d)}if(u!==Gr&&!n)return{};let h=lo(c,u,r1(i));return h instanceof Promise?h.then(f=>pl(f,i,s,o)).catch(()=>pl("<text using unknown compression>".split(""),i,s,o)):pl(h,i,s,o)}function t1({type:e,dataView:t,offset:r}){if(e===Ft){if(t.getUint8(r)===$E)return t.getUint8(r+1)}else if(e===Gi)return t.getUint8(r);return Gr}function tg(e,t){return t===gl&&[Ft,Gi].includes(e)?ml:t===ml?e===Ft?_l:vl:t===_l?ng:vl}function r1(e){return e===co||e===Gi?"latin1":"utf-8"}function pl(e,t,r,i){let n=n1(e);return{name:i1(t,r,i),value:n,description:t===Ft?o1(e):n}}function i1(e,t,r){let i=Tt(r);if(e===co||t.length===0)return i;let n=Tt(t);return`${i} (${n})`}function n1(e){return e instanceof DataView?A(e,0,e.byteLength):e}function o1(e){return vo.decode("UTF-8",e)}function s1(e,t){return e.toLowerCase()==="raw profile type exif"&&t.substring(1,5)==="exif"}function a1(e,t){return e.toLowerCase()==="raw profile type iptc"&&t.substring(1,5)==="iptc"}function rg(e){let t=e.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return l1(t[2].replace(/\n/g,""))}function l1(e){let t=new DataView(new ArrayBuffer(e.length/2));for(let r=0;r<e.length;r+=2)t.setUint8(r/2,parseInt(e.substring(r,r+2),16));return t}var og={read:u1};function u1(e,t){let r={};for(let i=0;i<t.length;i++){let n=g.getLongAt(e,t[i]+er),o=A(e,t[i]+ut,Pe);o===La?(r["Pixels Per Unit X"]=c1(e,t[i],n),r["Pixels Per Unit Y"]=f1(e,t[i],n),r["Pixel Units"]=d1(e,t[i],n)):o===Ga&&(r["Modify Date"]=h1(e,t[i],n))}return r}function c1(e,t,r){if(!Co(e,t,r,0,4))return;let o=g.getLongAt(e,t+ne+0);return{value:o,description:""+o}}function f1(e,t,r){if(!Co(e,t,r,4,4))return;let o=g.getLongAt(e,t+ne+4);return{value:o,description:""+o}}function d1(e,t,r){if(!Co(e,t,r,8,1))return;let o=g.getByteAt(e,t+ne+8);return{value:o,description:o===1?"meters":"Unknown"}}function h1(e,t,r){if(!Co(e,t,r,0,7))return;let n=g.getShortAt(e,t+ne),o=g.getByteAt(e,t+ne+2),s=g.getByteAt(e,t+ne+3),a=g.getByteAt(e,t+ne+4),c=g.getByteAt(e,t+ne+5),l=g.getByteAt(e,t+ne+6);return{value:[n,o,s,a,c,l],description:`${Zr(n,4)}-${Zr(o,2)}-${Zr(s,2)} ${Zr(a,2)}:${Zr(c,2)}:${Zr(l,2)}`}}function Co(e,t,r,i,n){return i+n<=r&&t+ne+i+n<=e.byteLength}function Zr(e,t){return`${"0".repeat(t-(""+e).length)}${e}`}var ag={read:m1},p1=4,g1=7;function m1(e,t){let r={},i=g.getByteAt(e,t);return r.Alpha=_1(i),r.Animation=v1(i),r.ImageWidth=sg(e,t+p1),r.ImageHeight=sg(e,t+g1),r}function _1(e){let t=e&16;return{value:t?1:0,description:t?"Yes":"No"}}function v1(e){let t=e&2;return{value:t?1:0,description:t?"Yes":"No"}}function sg(e,t){let r=g.getByteAt(e,t)+256*g.getByteAt(e,t+1)+65536*g.getByteAt(e,t+2)+1;return{value:r,description:r+"px"}}var lg={read:x1};function x1(e){return{"GIF Version":y1(e),"Image Width":b1(e),"Image Height":S1(e),"Global Color Map":E1(e),"Bits Per Pixel":C1(e),"Color Resolution Depth":I1(e)}}function y1(e){if(6>e.byteLength)return;let i=A(e,3,3);return{value:i,description:i}}function b1(e){if(8>e.byteLength)return;let i=e.getUint16(6,!0);return{value:i,description:`${i}px`}}function S1(e){if(10>e.byteLength)return;let i=e.getUint16(8,!0);return{value:i,description:`${i}px`}}function E1(e){if(11>e.byteLength)return;let n=(e.getUint8(10)&128)>>>7;return{value:n,description:n===1?"Yes":"No"}}function I1(e){if(11>e.byteLength)return;let n=((e.getUint8(10)&112)>>>4)+1;return{value:n,description:`${n} ${n===1?"bit":"bits"}`}}function C1(e){if(11>e.byteLength)return;let n=(e.getUint8(10)&7)+1;return{value:n,description:`${n} ${n===1?"bit":"bits"}`}}var w1=[6,7,99],ug={get:A1};function A1(e,t,r){if(T1(t)){t.type="image/jpeg";let i=r+t.JPEGInterchangeFormat.value;t.image=e.buffer.slice(i,i+t.JPEGInterchangeFormatLength.value),so(t,"base64",function(){return ao(this.image)})}return t}function T1(e){return e&&(e.Compression===void 0||w1.includes(e.Compression.value))&&e.JPEGInterchangeFormat&&e.JPEGInterchangeFormat.value&&e.JPEGInterchangeFormatLength&&e.JPEGInterchangeFormatLength.value}function cg(e){this.name="MetadataMissingError",this.message=e||"No Exif data",this.stack=new Error().stack}cg.prototype=new Error;var fg={MetadataMissingError:cg};function gg(e,t={}){return F1(e)?(t.async=!0,D1(e,t).then(r=>xl(r,t))):U1(e)?(t.async=!0,B1(e).then(r=>xl(r,t))):xl(e,t)}function F1(e){return typeof e=="string"}function D1(e,t){return/^\w+:\/\//.test(e)?typeof fetch<"u"?P1(e,t):k1(e,t):M1(e)?Promise.resolve(zh(e)):N1(e,t)}function P1(e,{length:t}={}){let r={method:"GET"};return Number.isInteger(t)&&t>=0&&(r.headers={range:`bytes=0-${t-1}`}),fetch(e,r).then(i=>i.arrayBuffer())}function k1(e,{length:t}={}){return new Promise((r,i)=>{let n={};Number.isInteger(t)&&t>=0&&(n.headers={range:`bytes=0-${t-1}`}),O1(e)(e,n,s=>{if(s.statusCode>=200&&s.statusCode<=299){let a=[];s.on("data",c=>a.push(Buffer.from(c))),s.on("error",c=>i(c)),s.on("end",()=>r(Buffer.concat(a)))}else i(`Could not fetch file: ${s.statusCode} ${s.statusMessage}`),s.resume()}).on("error",s=>i(s))})}function O1(e){return/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function M1(e){return/^data:[^;,]*(;base64)?,/.test(e)}function N1(e,{length:t}={}){return new Promise((r,i)=>{let n=R1();n.open(e,(o,s)=>{o?i(o):n.stat(e,(a,c)=>{if(a)i(a);else{let l=Math.min(c.size,t!==void 0?t:c.size),u=Buffer.alloc(l),h={buffer:u,length:l};n.read(s,h,f=>{f?i(f):n.close(s,d=>{d&&console.warn(`Could not close file ${e}:`,d),r(u)})})}})})})}function R1(){try{return __non_webpack_require__("fs")}catch{return}}function U1(e){return typeof window<"u"&&typeof File<"u"&&e instanceof File}function B1(e){return new Promise((t,r)=>{let i=new FileReader;i.onload=n=>t(n.target.result),i.onerror=()=>r(i.error),i.readAsArrayBuffer(e)})}function xl(e,t){return L1(e)&&(e=new Uint8Array(e).buffer),j1(G1(e),t)}function L1(e){try{return Buffer.isBuffer(e)}catch{return!1}}function G1(e){try{return new DataView(e)}catch{return new Lr(e)}}function j1(e,{expanded:t=!1,async:r=!1,includeUnknown:i=!1}={expanded:!1,async:!1,includeUnknown:!1}){let n=!1,o={},s=[],{fileType:a,fileDataOffset:c,jfifDataOffset:l,tiffHeaderOffset:u,iptcDataOffset:h,xmpChunks:f,iccChunks:d,mpfDataOffset:v,pngHeaderOffset:y,pngTextChunks:I,pngChunkOffsets:m,vp8xChunkOffset:_,gifHeaderOffset:w}=hp.parseAppMarkers(e,r);if(b.USE_JPEG&&b.USE_FILE&&V1(c)){n=!0;let p=Ap.read(e,c);t?o.file=p:o=M({},o,p)}if(b.USE_JPEG&&b.USE_JFIF&&H1(l)){n=!0;let p=Tp.read(e,l);t?o.jfif=p:o=M({},o,p)}if(b.USE_EXIF&&z1(u)){n=!0;let p=_o.read(e,u,i);if(p.Thumbnail&&(o.Thumbnail=p.Thumbnail,delete p.Thumbnail),t?(o.exif=p,Z1(o)):o=M({},o,p),b.USE_TIFF&&b.USE_IPTC&&p["IPTC-NAA"]&&!dg(h)){let C=Hi.read(p["IPTC-NAA"].value,0,i);t?o.iptc=C:o=M({},o,C)}if(b.USE_TIFF&&b.USE_XMP&&p.ApplicationNotes&&!hg(f)){let C=sl.read(Tt(p.ApplicationNotes.value));t?o.xmp=C:(delete C._raw,o=M({},o,C))}if(b.USE_PHOTOSHOP&&p.ImageSourceData){let C=$p.read(p.PhotoshopSettings.value,i);t?o.photoshop=C:o=M({},o,C)}if(b.USE_TIFF&&b.USE_ICC&&p.ICC_Profile&&!pg(d)){let C=hl.read(p.ICC_Profile.value,[{offset:0,length:p.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);t?o.icc=C:o=M({},o,C)}}if(b.USE_JPEG&&b.USE_IPTC&&dg(h)){n=!0;let p=Hi.read(e,h,i);t?o.iptc=p:o=M({},o,p)}if(b.USE_XMP&&hg(f)){n=!0;let p=sl.read(e,f);t?o.xmp=p:(delete p._raw,o=M({},o,p))}if((b.USE_JPEG||b.USE_WEBP)&&b.USE_ICC&&pg(d)){n=!0;let p=hl.read(e,d,r);p instanceof Promise?s.push(p.then(S)):S(p)}if(b.USE_MPF&&W1(v)){n=!0;let p=wp.read(e,v,i);t?o.mpf=p:o=M({},o,p)}if(b.USE_PNG&&b.USE_PNG_FILE&&q1(y)){n=!0;let p=eg.read(e,y);t?(o.png=o.png?M({},o.png,p):p,o.pngFile=p):o=M({},o,p)}if(b.USE_PNG&&X1(I)){n=!0;let{readTags:p,readTagsPromise:C}=ig.read(e,I,r,i);O(p),C&&s.push(C.then(k=>k.forEach(O)))}if(b.USE_PNG&&Y1(m)){n=!0;let p=og.read(e,m);t?o.png=o.png?M({},o.png,p):p:o=M({},o,p)}if(b.USE_WEBP&&K1(_)){n=!0;let p=ag.read(e,_);t?o.riff=o.riff?M({},o.riff,p):p:o=M({},o,p)}if(b.USE_GIF&&$1(w)){n=!0;let p=lg.read(e,w);t?o.gif=o.gif?M({},o.gif,p):p:o=M({},o,p)}let x=(b.USE_JPEG||b.USE_WEBP)&&b.USE_EXIF&&b.USE_THUMBNAIL&&ug.get(e,o.Thumbnail,u);if(x?(n=!0,o.Thumbnail=x):delete o.Thumbnail,a&&(t?(o.file||(o.file={}),o.file.FileType=a):o.FileType=a,n=!0),!n)throw new fg.MetadataMissingError;if(r)return Promise.all(s).then(()=>o);return o;function S(p){t?o.icc=p:o=M({},o,p)}function O(p){if(t){for(let C of["exif","iptc"]){let k=`__${C}`;p[k]&&(o[C]=o[C]?M({},o.exif,p[k]):p[k],delete p[k])}o.png=o.png?M({},o.png,p):p,o.pngText=o.pngText?M({},o.png,p):p}else o=M({},o,p.__exif?p.__exif:{},p.__iptc?p.__iptc:{},p),delete o.__exif,delete o.__iptc}}function V1(e){return e!==void 0}function H1(e){return e!==void 0}function z1(e){return e!==void 0}function Z1(e){if(e.exif){if(e.exif.GPSLatitude&&e.exif.GPSLatitudeRef)try{e.gps=e.gps||{},e.gps.Latitude=jr(e.exif.GPSLatitude.value),e.exif.GPSLatitudeRef.value.join("")==="S"&&(e.gps.Latitude=-e.gps.Latitude)}catch{}if(e.exif.GPSLongitude&&e.exif.GPSLongitudeRef)try{e.gps=e.gps||{},e.gps.Longitude=jr(e.exif.GPSLongitude.value),e.exif.GPSLongitudeRef.value.join("")==="W"&&(e.gps.Longitude=-e.gps.Longitude)}catch{}if(e.exif.GPSAltitude&&e.exif.GPSAltitudeRef)try{e.gps=e.gps||{},e.gps.Altitude=e.exif.GPSAltitude.value[0]/e.exif.GPSAltitude.value[1],e.exif.GPSAltitudeRef.value===1&&(e.gps.Altitude=-e.gps.Altitude)}catch{}}}function dg(e){return e!==void 0}function hg(e){return Array.isArray(e)&&e.length>0}function pg(e){return Array.isArray(e)&&e.length>0}function W1(e){return e!==void 0}function q1(e){return e!==void 0}function X1(e){return e!==void 0}function Y1(e){return e!==void 0}function K1(e){return e!==void 0}function $1(e){return e!==void 0}var Wr=(()=>{let t=class t{constructor(){this.spinnerSubject=new Xe(!1),this.messageSubject=new Xe(null)}get spinnerState(){return this.spinnerSubject.asObservable()}get spinnerMessage(){return this.messageSubject.asObservable()}show(i=null){this.spinnerSubject.next(!0),this.messageSubject.next(i)}hide(){this.spinnerSubject.next(!1),this.messageSubject.next(null)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bl={production:!0,api_url:process.env.API_URL||"http://BackendLabelingUCO_v2:3000/"};var wo=(()=>{let t=class t{constructor(i,n,o){this.http=i,this.spinnerService=n,this.platformId=o,this.apiUrl=bl.api_url,this.sessionId=null,this.retryDelay=1e4,sr(this.platformId)&&this.startSession().subscribe({next:s=>{this.sessionId=s.sessionId,console.log("New session ->",this.sessionId),this.startSessionPing(),this.spinnerService.hide()},error:s=>{console.error("Failed to start session",s),this.spinnerService.hide()}})}handleApiError(i){return i.status===0?this.spinnerService.show("Attempting to connect to the server..."):i.status===400&&i.error.error==="Invalid session ID"&&(alert("Session has been lost. Please reload the page."),window.location.reload()),Tl(()=>i)}startSession(){return this.spinnerService.show("Attempting to connect to the server..."),console.log(this.apiUrl+"api/start-session"),this.http.post(this.apiUrl+"api/start-session",{}).pipe(ge({count:1/0,delay:this.retryDelay}),Pl(i=>this.handleApiError(i)))}getHeaders(){let i=new Xl;return this.sessionId&&(i=i.set("x-session-id",this.sessionId)),i}endSession(){return this.http.post(this.apiUrl+"api/end-session",{},{headers:this.getHeaders()}).pipe(ye({error:i=>this.handleApiError(i)}),ge({count:1/0,delay:this.retryDelay}))}pingSession(){return this.http.post(this.apiUrl+"api/ping-session",{},{headers:this.getHeaders()}).pipe(ye({error:i=>this.handleApiError(i)}),ge({count:1/0,delay:this.retryDelay}))}startSessionPing(){this.sessionId&&setInterval(()=>{this.pingSession().subscribe({next:()=>{console.log("Session pinged successfully"),this.spinnerService.hide()},error:i=>console.error("Error pinging session",i)})},12e4)}processVideo(i,n){let o=new FormData;for(let s=0;s<i.length;s++)o.append("files",i[s]);return o.append("frameRates",JSON.stringify(n)),this.http.post(this.apiUrl+"api/process-video",o,{headers:this.getHeaders()}).pipe(ye({error:s=>this.handleApiError(s)}),ge({count:1/0,delay:this.retryDelay}))}uploadImages(i){let n=new FormData;for(let o=0;o<i.length;o++)n.append("images",i[o]);return this.http.post(this.apiUrl+"api/upload-images",n,{headers:this.getHeaders()}).pipe(ye({error:o=>this.handleApiError(o)}),ge({count:1/0,delay:this.retryDelay}))}getImageById(i){return this.http.get(this.apiUrl+"api/image/"+i,{headers:this.getHeaders(),responseType:"blob"}).pipe(ye({error:n=>this.handleApiError(n)}),ge({count:1/0,delay:this.retryDelay}))}getImages(i){return this.http.get(this.apiUrl+`api/images?pageNumber=${i}`,{headers:this.getHeaders(),responseType:"blob"}).pipe(ye({error:n=>this.handleApiError(n)}),ge({count:1/0,delay:this.retryDelay}))}getTotalImagesPages(){return this.http.get(this.apiUrl+"api/number-pages-total-images",{headers:this.getHeaders()}).pipe(ye({error:i=>this.handleApiError(i)}),ge({count:1/0,delay:this.retryDelay}))}getAllImages(){return this.http.get(this.apiUrl+"api/all-images",{headers:this.getHeaders(),responseType:"blob"}).pipe(ye({error:i=>this.handleApiError(i)}),ge({count:1/0,delay:this.retryDelay}))}deleteImage(i){return this.http.delete(this.apiUrl+"api/delete-image/"+i,{headers:this.getHeaders()}).pipe(ye({error:n=>this.handleApiError(n)}),ge({count:1/0,delay:this.retryDelay}))}embedInfoInImage(i,n){let o=new FormData;return o.append("id",i),o.append("jsonMetadata",n),this.http.post(bl.api_url+"api/add-metadata",o,{headers:this.getHeaders()}).pipe(ye({error:s=>this.handleApiError(s)}),ge({count:1/0,delay:this.retryDelay}))}exportImage(i,n){let o=this.apiUrl+"export-image/"+i+"/"+n;return this.http.get(o,{responseType:"blob",headers:this.getHeaders()}).pipe(ye({error:s=>this.handleApiError(s)}),ge({count:1/0,delay:this.retryDelay}))}exportAllImages(i){let n=this.apiUrl+"export-all-images/"+i;return this.http.get(n,{responseType:"blob",headers:this.getHeaders()}).pipe(ye({error:o=>this.handleApiError(o)}),ge({count:1/0,delay:this.retryDelay}))}};t.\u0275fac=function(n){return new(n||t)(Ot(Yl),Ot(Wr),Ot(or))},t.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qr=(()=>{let t=class t{constructor(i,n){this.spinnerService=i,this.apiService=n,this.images=[],this.maxNumberImages=0,this.actualPage=1,this.imagePerPage=10,this.selectedImageId=null,this.imagesSubject=new Xr,this.idSubject=new Xr,this.validFormats=["yolo"]}getImages(){return this.images}getMaxNumberImages(){return this.maxNumberImages}getImagePerPage(){return this.imagePerPage}getActualPage(){return this.actualPage}setActualPage(i){this.actualPage=i}getImagesObservable(){return this.imagesSubject.asObservable()}getIndexObservable(){return this.idSubject.asObservable()}setSelectedImageId(i){this.selectedImageId=i,this.idSubject.next(this.selectedImageId)}setMaxImages(){return U(this,null,function*(){try{let i=yield this.getMaxNumberImagesFromApi();this.maxNumberImages=i}catch(i){console.error("Error fetching total images:",i)}})}setImages(){return U(this,null,function*(){let i=Math.ceil(this.maxNumberImages/this.imagePerPage);if(this.actualPage>0&&this.actualPage<=i){this.spinnerService.show();try{let n=yield this.getImagesFromApi(this.actualPage);this.images=n,this.imagesSubject.next([...this.images]),this.spinnerService.hide()}catch(n){console.error("Error fetching images:",n),this.spinnerService.hide()}}else console.log("Not valid pageNumber")})}getImagesFromApi(i){return U(this,null,function*(){return new Promise((n,o)=>{this.apiService.getImages(i).subscribe({next:s=>U(this,null,function*(){try{console.log("Processing Blob with zip...");let a=yield this.extractImagesFromZip(s);console.log("End processing Blob with zip..."),this.spinnerService.hide(),n(a)}catch(a){console.error("Error processing files:",a),this.spinnerService.hide(),o(a)}}),error:s=>{console.error("Error calling the API:",s),o(s)}})})})}getMaxNumberImagesFromApi(){return U(this,null,function*(){return new Promise((i,n)=>{this.apiService.getTotalImagesPages().subscribe({next:o=>{this.spinnerService.hide();try{i(o.totalImages)}catch(s){n(s)}},error:o=>{console.error("Error calling the API:",o),n(o)}})})})}extractImagesFromZip(i){return U(this,null,function*(){try{let n=yield Sl.default.loadAsync(i),o=[];return yield Promise.all(Object.keys(n.files).map(s=>U(this,null,function*(){let a=n.files[s];if(!a.dir){let c=yield a.async("blob"),l=new File([c],a.name,{type:c.type}),u=s.match(/image-(\d+)-(.+)\.png$/),h=u?parseInt(u[1],10):-1,f=u?u[2]:"";try{let d=yield this.extractMetadataFromImage(l),v={id:f,file:l,metadata:d};o.push({index:h,imageWithMetadata:v}),console.log("Image with metadatos")}catch{let v={id:f,file:l,metadata:null};o.push({index:h,imageWithMetadata:v}),console.log("Image without metadatos")}}}))),o.sort((s,a)=>s.index-a.index),o.map(s=>s.imageWithMetadata)}catch(n){throw console.error("Error with extract file from ZIP:",n),n}})}extractMetadataFromImage(i){return U(this,null,function*(){return new Promise((n,o)=>{let s=new FileReader;s.onload=a=>{try{let c=a.target.result,l=gg(c);if(l&&l.UserComment){let u=l.UserComment.description;try{let h=JSON.parse(u);n(h)}catch{o("Error to transform UserComment to shapes.")}}else o("UserComment is not find on metadata from image.")}catch(c){console.error("Error processing metadata EXIF:",c),o("Error processing metadata EXIF.")}},s.onerror=a=>{console.error("Error readding file:",a),o("Error readding file.")},s.readAsArrayBuffer(i)})})}deleteImage(i){return U(this,null,function*(){this.apiService.deleteImage(i).subscribe({next:n=>{console.log("Image deleted successfully")},error:n=>{console.error("Failed to delete image",n)}})})}updateMetadata(i){return U(this,null,function*(){return new Promise((n,o)=>{let s=JSON.stringify(i.metadata);this.apiService.embedInfoInImage(i.id,s).subscribe({next:()=>{console.log("Metadata updated successfully"),n()},error:a=>{console.error("Error updating metadata",a),o(a)}})})})}saveImageWithMetadata(){return U(this,null,function*(){if(this.selectedImageId!==null)return this.spinnerService.show(),new Promise((i,n)=>{this.apiService.getImageById(this.selectedImageId).subscribe({next:o=>{this.downloadImage(o,this.selectedImageId),console.log("Metadata saved"),i()},error:o=>{console.error("Error downloading image:",o),n(o)},complete:()=>{this.spinnerService.hide()}})})})}saveAllImagesWithMetadata(){return U(this,null,function*(){return this.spinnerService.show(),new Promise((i,n)=>{this.apiService.getAllImages().subscribe({next:o=>{this.downloadImage(o,null),console.log("All images downloaded with metadata"),i()},error:o=>{console.error("Error downloading images:",o),n(o)},complete:()=>{this.spinnerService.hide()}})})})}downloadImage(i,n){return U(this,null,function*(){try{let a=yield this.loadZip(i);if(Object.keys(a.files).length===0){console.log("No images found, zip file is empty");return}}catch{console.error("Error processing zip file")}let o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o,n?s.download=`image-${n}.png`:s.download="images.zip",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(o),document.body.removeChild(s)})}loadZip(i){return U(this,null,function*(){return new Sl.default().loadAsync(i)})}exportSelectedImage(i){return U(this,null,function*(){if(!this.validFormats.includes(i)){console.log("No valid format");return}if(this.selectedImageId!==null)return this.spinnerService.show(),new Promise((n,o)=>{this.apiService.exportImage(this.selectedImageId,i).subscribe({next:s=>{this.downloadImage(s,null),console.log("Image exported"),n()},error:s=>{console.error("Error export file:",s),o(s)},complete:()=>{this.spinnerService.hide()}})})})}exportAllImages(i){return U(this,null,function*(){if(!this.validFormats.includes(i)){console.error("No valid format");return}return this.spinnerService.show(),new Promise((n,o)=>{this.apiService.exportAllImages(i).subscribe({next:s=>{this.downloadImage(s,null),console.log("All images exported"),n()},error:s=>{console.error("Error export file:",s),o(s)},complete:()=>{this.spinnerService.hide()}})})})}};t.\u0275fac=function(n){return new(n||t)(Ot(Wr),Ot(wo))},t.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _g=(()=>{let t=class t{constructor(){this.imagesUploaded=new H,this.selectedFiles=[]}triggerUpload(i){return U(this,null,function*(){let n=i.target;if(this.selectedFiles=[],n.files&&n.files.length>0){for(let o=0;o<n.files.length;o++)this.selectedFiles.push(n.files.item(o));this.imagesUploaded.emit(this.selectedFiles)}})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=me({type:t,selectors:[["app-header"]],outputs:{imagesUploaded:"imagesUploaded"},decls:7,vars:0,consts:[[1,"bg-gray-500","text-white","flex","items-center","justify-between"],[1,"flex","items-center","px-5","justify-center"],["type","file","id","uploader","accept","image/*, video/*","multiple","",2,"display","none",3,"change"],["for","uploader",1,"fa","fa-bars","text-white","text-5xl","pr-7","content-center","cursor-pointer"],[1,"flex","items-center","justify-center","lg:flex-grow"],[1,"text-2xl","font-bold"]],template:function(n,o){n&1&&(D(0,"header",0)(1,"div",1)(2,"input",2),B("change",function(a){return o.triggerUpload(a)}),F(),pt(3,"label",3),F(),D(4,"div",4)(5,"span",5),V(6,"APPLabelingUco"),F()()())},encapsulation:2});let e=t;return e})();var Ao=(()=>{let t=class t{constructor(){this.selectedToolSubject=new Xe(""),this.selectedtool=""}setSelectedTool(i){this.selectedtool=i,this.selectedToolSubject.next(this.selectedtool)}getSelectedToolObservable(){return this.selectedToolSubject.asObservable()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var xg=(()=>{let t=class t{constructor(i){this.toolSevice=i,this.selectedShape=""}selectShape(i){this.selectedShape=i,this.toolSevice.setSelectedTool(this.selectedShape)}isShapeSelected(i){return this.selectedShape===i}};t.\u0275fac=function(n){return new(n||t)(N(Ao))},t.\u0275cmp=me({type:t,selectors:[["app-toolbar"]],decls:3,vars:2,consts:[[1,"flex","flex-col","p-4","bg-gray-100","border-r","border-gray-300","h-full"],[1,"mb-2",3,"click"]],template:function(n,o){n&1&&(D(0,"div",0)(1,"button",1),B("click",function(){return o.selectShape("rectangle")}),V(2," Rectangle "),F()()),n&2&&(L(),Nl(o.isShapeSelected("rectangle")?"bg-blue-500 text-white px-4 py-2 rounded":"bg-gray-300 text-gray-700 px-4 py-2 rounded"))},encapsulation:2});let e=t;return e})();var To=(()=>{let t=class t{constructor(){this.labelSelected=new Xe("label"),this.colorSelected=new Xe("#FF0000"),this.thicknessSelected=new Xe(2)}setLabel(i){this.labelSelected.next(i)}getLabelObservable(){return this.labelSelected.asObservable()}setColor(i){this.colorSelected.next(i)}getColorObservable(){return this.colorSelected.asObservable()}setThickness(i){this.thicknessSelected.next(i)}getThicknessObservable(){return this.thicknessSelected.asObservable()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function tI(e,t){if(e&1){let r=fe();D(0,"button",10),B("click",function(){re(r);let n=Z();return ie(n.saveCurrentImage())}),V(1," Save Image "),F()}}function rI(e,t){if(e&1){let r=fe();D(0,"button",11),B("click",function(){re(r);let n=Z();return ie(n.saveAllImages())}),V(1," Save All Images "),F()}}function iI(e,t){if(e&1){let r=fe();D(0,"button",17),B("click",function(){re(r);let n=Z(2);return ie(n.exportCurrentImage())}),V(1," Export Current Image "),F()}}function nI(e,t){if(e&1){let r=fe();D(0,"button",18),B("click",function(){re(r);let n=Z(2);return ie(n.exportAllImages())}),V(1," Export All Images "),F()}}function oI(e,t){if(e&1){let r=fe();D(0,"div",12)(1,"label",3),V(2,"Export Format:"),F(),D(3,"select",13),Ut("ngModelChange",function(n){re(r);let o=Z();return Rt(o.selectedFormat,n)||(o.selectedFormat=n),ie(n)}),D(4,"option",14),V(5,"YOLO"),F()(),ce(6,iI,2,0,"button",15)(7,nI,2,0,"button",16),F()}if(e&2){let r=Z();L(3),Nt("ngModel",r.selectedFormat),L(3),z("ngIf",r.selectedImageId!==null),L(),z("ngIf",r.images&&r.images.length>1)}}var bg=(()=>{let t=class t{constructor(i,n){this.propertierstoolService=i,this.imageService=n,this.saveImageEvent=new H,this.saveAllImagesEvent=new H,this.exportImageEvent=new H,this.exportAllImagesEvent=new H,this.label="label",this.color="#FF0000",this.thickness=2,this.selectedImageId=null,this.images=[],this.selectedFormat=""}ngOnInit(){this.imageService.getIndexObservable().subscribe(i=>{this.selectedImageId=i}),this.imageService.getImagesObservable().subscribe(i=>{this.images=i})}onLabelChange(i){this.propertierstoolService.setLabel(i)}onColorChange(i){this.propertierstoolService.setColor(i)}onThicknessChange(i){this.propertierstoolService.setThickness(i)}saveCurrentImage(){this.saveImageEvent.emit()}saveAllImages(){this.saveAllImagesEvent.emit()}exportCurrentImage(){this.selectedImageId!==null&&this.exportImageEvent.emit(this.selectedFormat)}exportAllImages(){this.exportAllImagesEvent.emit(this.selectedFormat)}};t.\u0275fac=function(n){return new(n||t)(N(To),N(qr))},t.\u0275cmp=me({type:t,selectors:[["app-sidebar"]],outputs:{saveImageEvent:"saveImageEvent",saveAllImagesEvent:"saveAllImagesEvent",exportImageEvent:"exportImageEvent",exportAllImagesEvent:"exportAllImagesEvent"},decls:15,vars:6,consts:[[1,"p-2","bg-gray-100","border-r","border-gray-300","h-full","flex","flex-col","justify-between"],[1,"block","mb-2","font-bold"],["type","text",1,"p-2","border","border-gray-300","rounded","w-full",3,"ngModelChange","ngModel"],[1,"block","mt-4","mb-2","font-bold"],["type","color",1,"p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["type","number",1,"p-2","border","border-gray-300","rounded","w-full",3,"ngModelChange","ngModel"],[1,"flex","flex-col","items-end"],["class","p-2 bg-blue-500 text-white rounded w-full mb-2",3,"click",4,"ngIf"],["class","p-2 bg-blue-500 text-white rounded w-full mb-4",3,"click",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"p-2","bg-blue-500","text-white","rounded","w-full","mb-2",3,"click"],[1,"p-2","bg-blue-500","text-white","rounded","w-full","mb-4",3,"click"],[1,"w-full"],[1,"p-2","border","border-gray-300","rounded","w-full","mb-4",3,"ngModelChange","ngModel"],["value","yolo"],["class","p-2 bg-green-500 text-white rounded w-full mb-2",3,"click",4,"ngIf"],["class","p-2 bg-green-500 text-white rounded w-full mb-4",3,"click",4,"ngIf"],[1,"p-2","bg-green-500","text-white","rounded","w-full","mb-2",3,"click"],[1,"p-2","bg-green-500","text-white","rounded","w-full","mb-4",3,"click"]],template:function(n,o){n&1&&(D(0,"div",0)(1,"div")(2,"label",1),V(3,"Label Name:"),F(),D(4,"input",2),Ut("ngModelChange",function(a){return Rt(o.label,a)||(o.label=a),a}),B("ngModelChange",function(a){return o.onLabelChange(a)}),F(),D(5,"label",3),V(6,"Color:"),F(),D(7,"input",4),Ut("ngModelChange",function(a){return Rt(o.color,a)||(o.color=a),a}),B("ngModelChange",function(a){return o.onColorChange(a)}),F(),D(8,"label",3),V(9,"Thickness:"),F(),D(10,"input",5),Ut("ngModelChange",function(a){return Rt(o.thickness,a)||(o.thickness=a),a}),B("ngModelChange",function(a){return o.onThicknessChange(a)}),F()(),D(11,"div",6),ce(12,tI,2,0,"button",7)(13,rI,2,0,"button",8)(14,oI,8,3,"div",9),F()()),n&2&&(L(4),Nt("ngModel",o.label),L(3),Nt("ngModel",o.color),L(3),Nt("ngModel",o.thickness),L(2),z("ngIf",o.selectedImageId!==null),L(),z("ngIf",o.images&&o.images.length>1),L(),z("ngIf",o.selectedImageId!==null||o.images&&o.images.length>1))},dependencies:[gt,Su,Iu,cr,ni,fn,un,ii],encapsulation:2});let e=t;return e})();var aI=e=>({"border-blue-500 border-2":e});function lI(e,t){if(e&1){let r=fe();D(0,"div",9)(1,"img",10),B("click",function(){let n=re(r).$implicit,o=Z(2);return ie(o.selectImage(n.id))}),F(),D(2,"button",11),B("click",function(){let n=re(r).$implicit,o=Z(2);return ie(o.deleteImage(n.id))}),V(3," X "),F()()}if(e&2){let r=t.$implicit,i=Z(2);Do("width",i.imageSize+"px")("height",i.imageSize+"px"),L(),Do("width",i.imageSize+"px")("height",i.imageSize+"px"),Rl("alt","Image ",r.id,""),z("src",i.imageUrls[r.id],kl)("ngClass",Hl(12,aI,i.isSelected(r.id)))}}function uI(e,t){if(e&1){let r=fe();D(0,"button",12),B("click",function(){re(r);let n=Z(2);return ie(n.previousPage())}),V(1," Previous "),F()}if(e&2){let r=Z(2);z("disabled",r.currentPage===1)}}function cI(e,t){if(e&1){let r=fe();D(0,"button",12),B("click",function(){re(r);let n=Z(2);return ie(n.nextPage())}),V(1," Next "),F()}if(e&2){let r=Z(2);z("disabled",r.currentPage===r.totalPages)}}function fI(e,t){if(e&1&&($i(0),D(1,"div",3),ce(2,lI,4,14,"div",4),F(),D(3,"div",5)(4,"div",6),ce(5,uI,2,1,"button",7),F(),D(6,"span",8),V(7),F(),D(8,"div",6),ce(9,cI,2,1,"button",7),F()(),Ji()),e&2){let r=Z();L(2),z("ngForOf",r.imagesWithMetadata),L(3),z("ngIf",r.currentPage>1),L(2),Vl("Page ",r.currentPage," of ",r.totalPages,""),L(2),z("ngIf",r.currentPage<r.totalPages)}}function dI(e,t){e&1&&(D(0,"p"),V(1,"There aren't images."),F())}var Sg=(()=>{let t=class t{constructor(i,n){this.imageService=i,this.el=n,this.imageSelect=new H,this.SaveCurrentImageEvent=new H,this.SaveAllImagesEvent=new H,this.ExportCurrentImageEvent=new H,this.ExportAllImagesEvent=new H,this.imagesWithMetadata=[],this.selectedimagesWithMetadata=null,this.imageUrls={},this.currentPage=1,this.pageSize=this.imageService.getImagePerPage(),this.imageSize=100,this.imagesSubscription=new xe,this.saveCurrentImageSubscription=new xe,this.saveAllImagesSubscription=new xe,this.exportCurrentImageSubscription=new xe,this.exportAllImagesSubscription=new xe}ngOnInit(){this.imagesSubscription=this.imageService.getImagesObservable().subscribe({next:i=>{this.imagesWithMetadata=i,this.updateImageUrls()}}),this.saveCurrentImageSubscription=this.SaveCurrentImageEvent.subscribe(()=>{this.handleSaveCurrentImage()}),this.saveAllImagesSubscription=this.SaveAllImagesEvent.subscribe(()=>{this.handleSaveAllImages()}),this.exportCurrentImageSubscription=this.ExportCurrentImageEvent.subscribe(i=>{this.handleExportCurrentImage(i)}),this.exportAllImagesSubscription=this.ExportAllImagesEvent.subscribe(i=>{this.handleExportAllImages(i)})}ngOnDestroy(){this.imagesSubscription&&this.imagesSubscription.unsubscribe(),this.saveCurrentImageSubscription&&this.saveCurrentImageSubscription.unsubscribe(),this.saveAllImagesSubscription&&this.saveAllImagesSubscription.unsubscribe(),this.exportCurrentImageSubscription&&this.exportCurrentImageSubscription.unsubscribe(),this.exportAllImagesSubscription&&this.exportAllImagesSubscription.unsubscribe()}handleSaveCurrentImage(){return U(this,null,function*(){this.selectedimagesWithMetadata!==null&&(yield this.imageService.updateMetadata(this.selectedimagesWithMetadata),yield this.imageService.saveImageWithMetadata())})}handleSaveAllImages(){return U(this,null,function*(){this.selectedimagesWithMetadata!==null&&(yield this.imageService.updateMetadata(this.selectedimagesWithMetadata)),yield this.imageService.saveAllImagesWithMetadata()})}handleExportCurrentImage(i){return U(this,null,function*(){this.selectedimagesWithMetadata!==null&&(yield this.imageService.updateMetadata(this.selectedimagesWithMetadata),yield this.imageService.exportSelectedImage(i))})}handleExportAllImages(i){return U(this,null,function*(){this.selectedimagesWithMetadata!==null&&(yield this.imageService.updateMetadata(this.selectedimagesWithMetadata)),yield this.imageService.exportAllImages(i)})}get totalPages(){return Math.ceil(this.imageService.getMaxNumberImages()/this.pageSize)}updateImageUrls(){this.imagesWithMetadata.forEach(i=>{this.imageUrls[i.id]=URL.createObjectURL(i.file)})}selectImage(i){return U(this,null,function*(){let n=this.imagesWithMetadata.find(o=>o.id===i)||null;this.selectedimagesWithMetadata!==null&&this.selectedimagesWithMetadata.id!==i&&(yield this.imageService.updateMetadata(this.selectedimagesWithMetadata)),this.selectedimagesWithMetadata=n,this.selectedimagesWithMetadata!==null&&this.imageService.setSelectedImageId(this.selectedimagesWithMetadata.id),this.imageSelect.emit(this.selectedimagesWithMetadata)})}isSelected(i){return this.selectedimagesWithMetadata?this.selectedimagesWithMetadata.id===i:!1}deleteImage(i){return U(this,null,function*(){this.selectedimagesWithMetadata&&this.selectedimagesWithMetadata.id===i&&(this.selectedimagesWithMetadata=null,this.imageService.setSelectedImageId(null),this.imageSelect.emit(null)),yield this.imageService.deleteImage(i),this.imagesWithMetadata.length===1&&this.currentPage>1&&this.currentPage--,this.imageService.setActualPage(this.currentPage),this.imageService.setImages()})}previousPage(){this.currentPage>1&&(this.currentPage--,this.imageService.setActualPage(this.currentPage),this.imageService.setImages())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.imageService.setActualPage(this.currentPage),this.imageService.setImages())}};t.\u0275fac=function(n){return new(n||t)(N(qr),N(Mt))},t.\u0275cmp=me({type:t,selectors:[["app-image-slider"]],inputs:{SaveCurrentImageEvent:"SaveCurrentImageEvent",SaveAllImagesEvent:"SaveAllImagesEvent",ExportCurrentImageEvent:"ExportCurrentImageEvent",ExportAllImagesEvent:"ExportAllImagesEvent"},outputs:{imageSelect:"imageSelect"},decls:4,vars:2,consts:[["noImages",""],[1,"flex","flex-col","space-y-2","p-2"],[4,"ngIf","ngIfElse"],[1,"flex","flex-wrap","justify-center"],["class","relative group flex-shrink-0 p-2",3,"width","height",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","space-x-4"],[1,"p-1"],["class","bg-blue-500 text-white p-2 rounded",3,"disabled","click",4,"ngIf"],[1,"flex-1","text-center"],[1,"relative","group","flex-shrink-0","p-2"],[1,"cursor-pointer","object-cover",3,"click","src","ngClass","alt"],[1,"absolute","top-0","right-0","bg-red-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity",3,"click"],[1,"bg-blue-500","text-white","p-2","rounded",3,"click","disabled"]],template:function(n,o){if(n&1&&(D(0,"div",1),ce(1,fI,10,5,"ng-container",2)(2,dI,2,0,"ng-template",null,0,en),F()),n&2){let s=Qi(3);L(),z("ngIf",o.imagesWithMetadata.length>0)("ngIfElse",s)}},dependencies:[ql,rn,gt],encapsulation:2});let e=t;return e})();var pI=["canvas"];function gI(e,t){if(e&1){let r=fe();D(0,"canvas",2,0),B("contextmenu",function(n){re(r);let o=Z();return ie(o.onContextMenu(n))}),F()}}var Eg=(()=>{let t=class t{constructor(i,n,o){this.toolService=i,this.propertierstoolService=n,this.platformId=o,this.image=null,this.ctx=null,this.loadedImage=null,this.isCanvasReady=!1,this.selectedTool="",this.label="label",this.color="#FF0000",this.thickness=2,this.isClicked=!1,this.isDrawing=!1,this.startX=0,this.startY=0,this.currentX=0,this.currentY=0,this.isBrowser=sr(this.platformId)}ngAfterViewInit(){this.canvas&&this.canvas.nativeElement&&(this.canvasnativeElement=this.canvas.nativeElement,this.ctx=this.canvasnativeElement.getContext("2d"),this.ctx||console.error("Ctx dont exist."),this.isCanvasReady=!0),this.toolSubscription=this.toolService.getSelectedToolObservable().subscribe({next:i=>{this.selectedTool=i}}),this.toolPropertiesSubscription=this.subscribeToToolProperties()}subscribeToToolProperties(){let i=this.propertierstoolService.getLabelObservable().subscribe(s=>{this.label=s}),n=this.propertierstoolService.getColorObservable().subscribe(s=>{this.color=s}),o=this.propertierstoolService.getThicknessObservable().subscribe(s=>{this.thickness=s});return new xe(()=>{i.unsubscribe(),n.unsubscribe(),o.unsubscribe()})}ngOnChanges(i){i.image&&this.isCanvasReady&&this.loadImage()}ngOnDestroy(){this.toolSubscription&&this.toolSubscription.unsubscribe(),this.toolPropertiesSubscription&&this.toolPropertiesSubscription.unsubscribe()}getSelectedTool(){return this.selectedTool}onMouseDown(i){if(i.button===0){switch(this.selectedTool){case"rectangle":this.startRectangleDrawing(i);break;case"circle":break;case"poligone":break}this.isClicked=!0,this.isDrawing=!1}}onMouseMove(i){if(this.isClicked)switch(this.isDrawing=!0,this.selectedTool){case"rectangle":this.updateRectangleDrawing(i);break;case"circle":break;case"poligone":break}}onMouseUp(i){if(i.button===0&&this.isClicked){if(this.isDrawing){switch(this.selectedTool){case"rectangle":this.finishRectangleDrawing(i);break;case"circle":break;case"poligone":break}this.isDrawing=!1}this.isClicked=!1}}onMouseLeave(i){this.isClicked&&(this.isClicked=!1,this.isDrawing=!1,this.drawImage())}onContextMenu(i){switch(i.preventDefault(),this.selectedTool){case"rectangle":this.removeRectangle(i);break;case"circle":break;case"poligone":break}}loadImage(){if(this.image&&this.image.file){if(this.ctx){let i=new Image;i.src=URL.createObjectURL(this.image.file),i.onload=()=>{this.loadedImage=i,this.drawImage()}}}else this.clearCanvas()}drawImage(){this.loadedImage&&this.image&&this.ctx!=null&&(this.ctx.clearRect(0,0,this.canvasnativeElement.width,this.canvasnativeElement.height),this.ctx.drawImage(this.loadedImage,0,0,this.canvasnativeElement.width,this.canvasnativeElement.height),this.image.metadata&&this.image.metadata.forEach(i=>{this.drawShape(i)}))}drawShape(i){if(this.ctx)switch(i.type){case"rectangle":this.drawRectangles(i);break;case"circle":break;case"polygon":break;default:break}else console.error("Context 2D is not defined")}drawRectangles(i){if(this.ctx){let n=this.canvasnativeElement.width,o=this.canvasnativeElement.height,s=i.x*n,a=i.y*o,c=i.width*n,l=i.height*o,u=s-c/2,h=a-l/2;this.ctx.strokeStyle=i.color,this.ctx.lineWidth=i.thickness,this.ctx.strokeRect(u,h,c,l),this.drawLabel(u,h,i.color,i.label,i.thickness)}}removeRectangle(i){if(this.image&&this.image.metadata){let n=this.canvasnativeElement.width,o=this.canvasnativeElement.height,s=this.canvasnativeElement.getBoundingClientRect(),a=i.clientX-s.left,c=i.clientY-s.top,l=!1;this.image.metadata=this.image.metadata.filter(u=>{if(u.type==="rectangle"){let h=(u.x-u.width/2)*this.canvasnativeElement.width,f=(u.y-u.height/2)*this.canvasnativeElement.height,d=h+u.width*this.canvasnativeElement.width,v=f+u.height*this.canvasnativeElement.height;if(a>=h&&a<=d&&c>=f&&c<=v)return l=!0,!1}return!0}),l&&this.drawImage()}}startRectangleDrawing(i){let o=this.canvas.nativeElement.getBoundingClientRect();this.startX=i.clientX-o.left,this.startY=i.clientY-o.top}updateRectangleDrawing(i){this.ctx&&this.loadedImage&&(this.currentX=i.clientX-this.canvasnativeElement.getBoundingClientRect().left,this.currentY=i.clientY-this.canvasnativeElement.getBoundingClientRect().top,this.ctx.clearRect(0,0,this.canvasnativeElement.width,this.canvasnativeElement.height),this.ctx.drawImage(this.loadedImage,0,0,this.canvasnativeElement.width,this.canvasnativeElement.height),this.image&&this.image.metadata&&this.image.metadata.forEach(n=>{this.drawShape(n)}),this.ctx.strokeStyle=this.invertColor(this.color),this.ctx.lineWidth=this.thickness,this.ctx.strokeRect(this.startX,this.startY,this.currentX-this.startX,this.currentY-this.startY))}finishRectangleDrawing(i){if(this.image&&this.loadedImage){let n=this.canvas.nativeElement,o=Math.min(this.startX,this.currentX),s=Math.min(this.startY,this.currentY),a=Math.abs(this.currentX-this.startX),c=Math.abs(this.currentY-this.startY),l=o+a/2,u=s+c/2,h=n.width,f=n.height,d=l/h,v=u/f,y=a/h,I=c/f,m={type:"rectangle",x:d,y:v,width:y,height:I,color:this.color,label:this.label,thickness:this.thickness};this.image.metadata||(this.image.metadata=[]),this.image.metadata.push(m),this.drawImage()}}drawLabel(i,n,o,s,a){if(this.ctx){let c=Math.max(12,Math.min(a*5,24));this.ctx.fillStyle=o,this.ctx.font=`${c}px Arial`,this.ctx.fillText(s,i,n-5)}}invertColor(i){i.charAt(0)==="#"&&(i=i.substring(1));let n=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),s=parseInt(i.substring(4,6),16),a=(255-n).toString(16).padStart(2,"0"),c=(255-o).toString(16).padStart(2,"0"),l=(255-s).toString(16).padStart(2,"0");return`#${a}${c}${l}`}clearCanvas(){this.ctx&&(this.ctx.clearRect(0,0,this.canvasnativeElement.width,this.canvasnativeElement.height),this.loadedImage=null)}};t.\u0275fac=function(n){return new(n||t)(N(Ao),N(To),N(or))},t.\u0275cmp=me({type:t,selectors:[["app-canvas"]],viewQuery:function(n,o){if(n&1&&Ul(pI,5),n&2){let s;Bl(s=Ll())&&(o.canvas=s.first)}},hostBindings:function(n,o){n&1&&B("mousedown",function(a){return o.onMouseDown(a)})("mousemove",function(a){return o.onMouseMove(a)})("mouseup",function(a){return o.onMouseUp(a)})("mouseleave",function(a){return o.onMouseLeave(a)})},inputs:{image:"image"},features:[Yr],decls:1,vars:1,consts:[["canvas",""],["class","border-4 border-black","width","854","height","480",3,"contextmenu",4,"ngIf"],["width","854","height","480",1,"border-4","border-black",3,"contextmenu"]],template:function(n,o){n&1&&ce(0,gI,2,0,"canvas",1),n&2&&z("ngIf",o.isBrowser)},dependencies:[gt],encapsulation:2});let e=t;return e})();var Ig=(()=>{let t=class t{constructor(){this.SaveCurrentImageEvent=new H,this.SaveAllImagesEvent=new H,this.ExportCurrentImageEvent=new H,this.ExportAllImagesEvent=new H,this.selectedImage=null}ngOnInit(){this.saveCurrentImageSubscription=this.receiveSaveCurrentImage.subscribe(()=>{this.handleSaveCurrentImage()}),this.saveAllImagesSubscription=this.receiveSaveAllImages.subscribe(()=>{this.handleSaveAllImages()}),this.exportCurrentImageSubscription=this.receiveExportCurrentImage.subscribe(i=>{this.handleExportCurrentImage(i)}),this.exportAllImagesSubscription=this.receiveExportAllImages.subscribe(i=>{this.handleExportAllImages(i)})}ngOnDestroy(){this.saveCurrentImageSubscription&&this.saveCurrentImageSubscription.unsubscribe(),this.saveAllImagesSubscription&&this.saveAllImagesSubscription.unsubscribe(),this.exportCurrentImageSubscription&&this.exportCurrentImageSubscription.unsubscribe(),this.exportAllImagesSubscription&&this.exportAllImagesSubscription.unsubscribe()}handleSaveCurrentImage(){this.SaveCurrentImageEvent.emit()}handleSaveAllImages(){this.SaveAllImagesEvent.emit()}handleExportCurrentImage(i){this.ExportCurrentImageEvent.emit(i)}handleExportAllImages(i){this.ExportAllImagesEvent.emit(i)}selectImage(i){this.selectedImage=i,this.saveCurrentImageSubscription=new xe,this.saveAllImagesSubscription=new xe,this.exportCurrentImageSubscription=new xe,this.exportAllImagesSubscription=new xe}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=me({type:t,selectors:[["app-main-area"]],inputs:{receiveSaveCurrentImage:"receiveSaveCurrentImage",receiveSaveAllImages:"receiveSaveAllImages",receiveExportCurrentImage:"receiveExportCurrentImage",receiveExportAllImages:"receiveExportAllImages"},outputs:{SaveCurrentImageEvent:"SaveCurrentImageEvent",SaveAllImagesEvent:"SaveAllImagesEvent",ExportCurrentImageEvent:"ExportCurrentImageEvent",ExportAllImagesEvent:"ExportAllImagesEvent"},decls:5,vars:5,consts:[[1,"flex","flex-col","h-full"],[1,"flex-1","flex","justify-center","items-center","bg-gray-200",2,"flex","1 0 75%"],[3,"image"],[1,"pt-4","h-32","bg-gray-100","border-t","border-gray-300","overflow-x-auto",2,"flex","1 0 25%"],[3,"imageSelect","SaveCurrentImageEvent","SaveAllImagesEvent","ExportCurrentImageEvent","ExportAllImagesEvent"]],template:function(n,o){n&1&&(D(0,"div",0)(1,"div",1),pt(2,"app-canvas",2),F(),D(3,"div",3)(4,"app-image-slider",4),B("imageSelect",function(a){return o.selectImage(a)}),F()()()),n&2&&(L(2),z("image",o.selectedImage),L(2),z("SaveCurrentImageEvent",o.SaveCurrentImageEvent)("SaveAllImagesEvent",o.SaveAllImagesEvent)("ExportCurrentImageEvent",o.ExportCurrentImageEvent)("ExportAllImagesEvent",o.ExportAllImagesEvent))},dependencies:[Sg,Eg],encapsulation:2});let e=t;return e})();function vI(e,t){if(e&1&&(D(0,"div",18),V(1),F()),e&2){let r=Z(2);L(),jl(" ",r.messageSpinner," ")}}function xI(e,t){if(e&1&&(D(0,"div",14)(1,"div",15),pt(2,"div",16),ce(3,vI,2,1,"div",17),F()()),e&2){let r=Z();L(3),z("ngIf",r.messageSpinner)}}function yI(e,t){if(e&1){let r=fe();D(0,"div",27)(1,"div",28)(2,"span",29),V(3,"File name:"),F(),D(4,"div",29),V(5),F()(),D(6,"div",28)(7,"span",29),V(8,"Frames per second:"),F(),D(9,"input",30),Ut("ngModelChange",function(n){let o=re(r).$implicit;return Rt(o.captureInterval,n)||(o.captureInterval=n),ie(n)}),F()(),D(10,"div",31)(11,"button",32),B("click",function(){let n=re(r).index,o=Z(3);return ie(o.removeFile(n))}),V(12,"Eliminar"),F()()()}if(e&2){let r=t.$implicit;L(5),Gl(r.file.name),L(4),Nt("ngModel",r.captureInterval)}}function bI(e,t){if(e&1&&($i(0),ce(1,yI,13,2,"div",26),Ji()),e&2){let r=Z(2);L(),z("ngForOf",r.videoFilesWithSettings)}}function SI(e,t){e&1&&(D(0,"div"),V(1,"\xBFUpload images only?"),F())}function EI(e,t){if(e&1){let r=fe();D(0,"div",19)(1,"div",20)(2,"h2",21),V(3,"Video Settings"),F(),ce(4,bI,2,1,"ng-container",22)(5,SI,2,0,"ng-template",null,0,en),D(7,"div",23)(8,"button",24),B("click",function(){re(r);let n=Z();return ie(n.cancel())}),V(9,"Cancel"),F(),D(10,"button",25),B("click",function(){re(r);let n=Z();return ie(n.confirm())}),V(11,"Confirm"),F()()()()}if(e&2){let r=Qi(6),i=Z();L(4),z("ngIf",i.videoFilesWithSettings.length>0)("ngIfElse",r)}}var Fo=(()=>{let t=class t{constructor(i,n,o,s){this.imageService=i,this.spinnerService=n,this.apiService=o,this.platformId=s,this.receiveSaveCurrentImagefromAPP=new H,this.receiveSaveAllImagesfromAPP=new H,this.receiveExportCurrentImagefromAPP=new H,this.receiveExportAllImagesfromAPP=new H,this.showSpinner=!1,this.messageSpinner=null,this.isModalVisible=!1,this.frameRate=1,this.filesFromHeader=[],this.videoFilesWithSettings=[],this.imageToApi=[],this.isBrowser=sr(this.platformId)}ngOnInit(){this.spinnerService.spinnerState.subscribe(i=>{this.showSpinner=i}),this.spinnerService.spinnerMessage.subscribe(i=>{this.messageSpinner=i})}ngOnDestroy(){return U(this,null,function*(){if(this.isBrowser){console.log("ngOnDestroy called");try{yield this.cleanupSession()}catch(i){console.error("Error during session cleanup",i)}}})}handleSaveCurrentImage(){this.receiveSaveCurrentImagefromAPP.emit()}handleSaveAllImages(){this.receiveSaveAllImagesfromAPP.emit()}handleExportCurrentImage(i){this.receiveExportCurrentImagefromAPP.emit(i)}handleExportAllImages(i){this.receiveExportAllImagesfromAPP.emit(i)}handleFilesUploaded(i){return U(this,null,function*(){this.filesFromHeader=i,this.videoFilesWithSettings=[],this.imageToApi=[];for(let n=0;n<this.filesFromHeader.length;n++){let o=this.filesFromHeader[n];o.type.startsWith("video/")?this.videoFilesWithSettings.push({file:o,captureInterval:1}):this.imageToApi.push(o)}if(this.videoFilesWithSettings.length>0)this.showModal();else{this.spinnerService.show("Uploading images to the server, please wait...");try{yield this.uploadImages(this.imageToApi),console.log("Images uploaded successfully"),yield this.imageService.setMaxImages(),this.imageService.setImages()}catch(n){console.error("Error uploading images:",n)}finally{this.spinnerService.hide()}}})}showModal(){this.isModalVisible=!0}removeFile(i){this.videoFilesWithSettings.splice(i,1),this.videoFilesWithSettings.length===0&&this.imageToApi.length===0&&(this.isModalVisible=!1)}cancel(){this.isModalVisible=!1}confirm(){return U(this,null,function*(){if(this.isModalVisible=!1,this.spinnerService.show("Uploading images to the server, please wait..."),this.imageToApi.length>0)try{yield this.uploadImages(this.imageToApi),console.log("Images uploaded successfully")}catch(i){console.error("Error uploading images:",i)}this.spinnerService.show("Uploading videos to the server and processing them into images...");try{console.log("Processing video..."),yield this.extractFrames(this.videoFilesWithSettings),console.log("Processing video finished"),yield this.imageService.setMaxImages(),this.imageService.setImages()}catch(i){console.error("Error processing video frames:",i)}finally{this.spinnerService.hide()}})}uploadImages(i){return U(this,null,function*(){return new Promise((n,o)=>{this.apiService.uploadImages(i).subscribe({next:()=>{this.spinnerService.hide(),n()},error:s=>{o(s)}})})})}extractFrames(i){return U(this,null,function*(){return new Promise((n,o)=>{let s=i.map(c=>c.file),a=i.map(c=>c.captureInterval);this.apiService.processVideo(s,a).subscribe({next:()=>{this.spinnerService.hide(),n()},error:c=>{o(c)}})})})}cleanupSession(){return U(this,null,function*(){return new Promise((i,n)=>{this.apiService.endSession().subscribe({next:()=>{this.spinnerService.hide(),i()},error:o=>{n(o)}})})})}};t.\u0275fac=function(n){return new(n||t)(N(qr),N(Wr),N(wo),N(or))},t.\u0275cmp=me({type:t,selectors:[["app-root"]],outputs:{receiveSaveCurrentImagefromAPP:"receiveSaveCurrentImagefromAPP",receiveSaveAllImagesfromAPP:"receiveSaveAllImagesfromAPP",receiveExportCurrentImagefromAPP:"receiveExportCurrentImagefromAPP",receiveExportAllImagesfromAPP:"receiveExportAllImagesfromAPP"},decls:13,vars:6,consts:[["noVideos",""],[1,"h-screen","flex","flex-col"],[1,"h-30"],[1,"h-full",3,"imagesUploaded"],[1,"flex-1","flex","flex-col"],[1,"flex","flex-1"],[1,"w-1/6","bg-gray-100","border-r","border-gray-300","overflow-hidden"],[1,"h-full"],[1,"flex-1","bg-white","p-2","overflow-auto"],[3,"receiveSaveCurrentImage","receiveSaveAllImages","receiveExportCurrentImage","receiveExportAllImages"],[1,"w-1/6","bg-gray-100","border-l","border-gray-300","overflow-hidden"],[1,"h-full",3,"saveImageEvent","saveAllImagesEvent","exportImageEvent","exportAllImagesEvent"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",4,"ngIf"],["class","fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-50"],[1,"flex","flex-col","items-center"],[1,"border-t-4","border-blue-500","rounded-full","w-32","h-32","animate-spin"],["class","mt-4 text-white text-lg font-semibold",4,"ngIf"],[1,"mt-4","text-white","text-lg","font-semibold"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-800","bg-opacity-50"],[1,"bg-white","rounded-lg","shadow-lg","max-w-md","overflow-auto",2,"overflow-y","auto","max-height","65%"],[1,"text-lg","font-bold","mb-4",2,"position","sticky","top","0px","background-color","white","padding","15px"],[4,"ngIf","ngIfElse"],[1,"flex","justify-between","p-4","mt-4",2,"background-color","white"],[1,"bg-gray-300","px-4","py-2","rounded",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],["class","mb-4 border-b pb-4 p-4",4,"ngFor","ngForOf"],[1,"mb-4","border-b","pb-4","p-4"],[1,"flex","items-center","mb-2"],[1,"ml-2"],["type","number","min","1","placeholder","Capture Interval",1,"border","px-2","py-1","rounded",3,"ngModelChange","ngModel"],[1,"flex","justify-end"],[1,"bg-red-500","text-white","px-4","py-2","rounded",3,"click"]],template:function(n,o){n&1&&(D(0,"div",1)(1,"div",2)(2,"app-header",3),B("imagesUploaded",function(a){return o.handleFilesUploaded(a)}),F()(),D(3,"div",4)(4,"div",5)(5,"div",6),pt(6,"app-toolbar",7),F(),D(7,"div",8),pt(8,"app-main-area",9),F(),D(9,"div",10)(10,"app-sidebar",11),B("saveImageEvent",function(){return o.handleSaveCurrentImage()})("saveAllImagesEvent",function(){return o.handleSaveAllImages()})("exportImageEvent",function(a){return o.handleExportCurrentImage(a)})("exportAllImagesEvent",function(a){return o.handleExportAllImages(a)}),F()()()()(),ce(11,xI,4,1,"div",12)(12,EI,12,2,"div",13)),n&2&&(L(8),z("receiveSaveCurrentImage",o.receiveSaveCurrentImagefromAPP)("receiveSaveAllImages",o.receiveSaveAllImagesfromAPP)("receiveExportCurrentImage",o.receiveExportCurrentImagefromAPP)("receiveExportAllImages",o.receiveExportAllImagesfromAPP),L(3),z("ngIf",o.showSpinner),L(),z("ngIf",o.isModalVisible))},dependencies:[rn,gt,cr,ni,un,Bo,ii,_g,xg,bg,Ig],encapsulation:2});let e=t;return e})();var II=[],Cg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=Ye({imports:[ko.forRoot(II),ko]});let e=t;return e})();var wg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ke({type:t,bootstrap:[Fo]}),t.\u0275inj=Ye({providers:[Kl($l())],imports:[Jl,Cu,Cg]});let e=t;return e})();var CI=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ke({type:t,bootstrap:[Fo]}),t.\u0275inj=Ye({imports:[wg,Ql]});let e=t;return e})();export{hr as a,CI as b};
